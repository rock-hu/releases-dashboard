# v1.40.0

## release on 20250617
## description
## changes
These are the release notes for the v1.40.0 release of <a href="https://backstage.io/" rel="nofollow">Backstage</a>.

A huge thanks to the whole team of maintainers and contributors as well as the amazing Backstage Community for the hard work in getting this release developed and done.

Highlights

Scaffolder 2.0 Breaking Changes

The deprecated legacy action formats have been removed and replaced with the new native <code>zod</code> formats.

This also cleaned up some deprecated <code>logStream</code> and <code>WinstonLogger</code> usages in the old patterns.

    // really old legacy json schema
    createTemplateAction<{ repoUrl: string }, { repoOutput: string }>({
      id: 'test',
      schema: {
        input: {
          type: 'object'
          required: ['repoUrl']
          properties: {
            repoUrl: {
              type: 'string',
              description: 'repository url description'
            }
          }
        }
      }
    });

    // old zod method
    createTemplateAction({
      id: 'test'
      schema: {
        input: {
          repoUrl: z.string({ description: 'repository url description' })
        }
      }
    })

    // new method:
    createTemplateAction({
      id: 'test',
      schema: {
        input: {
          repoUrl: z => z.string({ description: 'repository url description' })
        }
      }
    })

The <code>scaffolder-backend</code> plugin has been converted to being New Backend System only, which means a lot of the public API has been cleaned up.

The <code>createRouter</code> and <code>createBuiltinActions</code> have been removed as they were only used in the legacy backend system.

A lot of deprecated types which were re-exported in the <code>-backend</code> package from <code>-common</code> and <code>-node</code> have been removed, and can be fixed by importing them from the correct package.

The deprecated <code>copyWithoutRender</code> option has been removed from <code>fetch:template</code> and should be renamed to <code>copyWithoutTemplating</code>.

The re-exported action creators from the provider packages such as <code>createPublishAzureAction</code> and <code>createPublishGithubAction</code> should now be imported from the provider modules themselves.

As always you can head over the latest changelogs for <a href="https://github.com/backstage/backstage/blob/master/plugins/scaffolder-backend/CHANGELOG.md"><code>@backstage/plugin-scaffolder-backend</code></a> and <a href="https://github.com/backstage/backstage/blob/master/plugins/scaffolder-node/CHANGELOG.md"><code>@backstage/plugin-scaffolder-node</code></a>  

for more detailed information.

There’s also a number of new deprecation for types which are currently exported from <code>plugin-scaffolder-node</code>. We’re going to be looking at re-working the Scaffolder architecture in the future, so we’re going to be removing these types in a future version to iterate on the new API surfaces. Stay tuned for more updates!

Actions Registry

We’ve added two new <code>alpha</code> services which can be used to define distributed Actions across Backstage. Plugins can use the <code>ActionsRegistry</code> to define actions that are automatically installed with their associated plugin.

On top of this Actions Registry is a new <code>mcp-actions</code> backend plugin, which will surface these actions as tools as an MCP server. This can be used to expose plugin Actions with your favourite AI tools, such as Cursor, Claude or ChatGPT.

You can find out more information about the <code>ActionsRegistry</code> and MCP integration in <a href="https://github.com/backstage/backstage/issues/30218" data-hovercard-type="issue" data-hovercard-url="/backstage/backstage/issues/30218/hovercard">this RFC</a>.

We’re actively working on this area, therefore it’s currently highly experimental and could be subject to breaking changes in future releases. However we’d really appreciate some feedback if you want to try and create some Actions for your plugins and surface them in an MCP server!

In the next release we’ll be looking to integrate these Actions with the Scaffolder allowing you to call these actions from a template.

TechDocs deep linking

Introduced <code>backstage.io/techdocs-entity-path</code> annotation which allows deep linking into other TechDocs in conjunction with <code>backstage.io/techdocs-entity</code>.

Contributed by <a href="https://github.com/csuich2">@csuich2</a> in <a href="https://github.com/backstage/backstage/pull/29760" data-hovercard-type="pull_request" data-hovercard-url="/backstage/backstage/pull/29760/hovercard">#29760</a>

Catalog modules Breaking Changes

* <code>BitbucketCloudEntityProvider</code> now accepts a <code>CatalogService</code> instead of <code>CatalogApi</code>
* User and Group discovery for GitLab will default to ingesting all users in sub groups that belong to the specified root group in config. Disable by setting <code>restrictUsersToGroup: true</code> in app-config under your module settings.

New Module drop: <code>@backstage/plugin-events-backend-module-kafka</code>

The module introduces the <code>KafkaConsumerClient</code> which creates a Kafka client used to establish consumer connections. It also provides the <code>KafkaConsumingEventPublisher</code>, a consumer that subscribes to configured Kafka topics and publishes received messages to the Backstage events service where Backstage plugins can access them.

Contributed by <a href="https://github.com/Jonas-Beck">@Jonas-Beck</a> in <a href="https://github.com/backstage/backstage/pull/29315" data-hovercard-type="pull_request" data-hovercard-url="/backstage/backstage/pull/29315/hovercard">#29315</a>

New lint rule added

A new lint rule <code>@backstage/no-mixed-plugin-imports</code> was added to the defaults. This enforces rules that were always true but until now were implicit: that you should not import across frontend and backend package boundaries, isomorphic packages should not import non-isomorphic, etc.

This rule is initially only set at a warning level, to give you some time to react. You may see warnings appear in your build output that were not there before - do pay attention to them, because they may expose some issues that you had not yet noticed.

We intend to make this rule be at an error level in a future release.

The rule has an option <code>excludedTargetPackages</code> that lets you opt out of enforcement in specific packages. You can put something like this in your root <code>.eslintrc.js</code>:

    module.exports = {
      root: true,
      plugins: ['@spotify', 'react', 'testing-library', '@backstage'],
      rules: {
        '@backstage/no-mixed-plugin-imports': [
          'error', // if you want to opt in to strict checks early
          {
            excludedTargetPackages: [
              '@internal/plugin-foo',
              // ...

Contributed by <a href="https://github.com/drodil">@drodil</a> in <a href="https://github.com/backstage/backstage/pull/30227" data-hovercard-type="pull_request" data-hovercard-url="/backstage/backstage/pull/30227/hovercard">#30227</a>

CLI: movement toward <code>rspack</code>

The <code>BACKSTAGE_CLI_EXPERIMENTAL_BUILD_CACHE</code> flag has been removed entirely. If you were using this flag, we encourage you to switch to <code>EXPERIMENTAL_RSPACK</code> instead. In the near future, we hope to make <code>rspack</code> the default out of the box.

While making these changes, the experimental <code>FORCE_REACT_DEVELOPMENT</code> flag was removed as well.

Backend rate limiting

The backend system now has builtin support for rate limiting of incoming requests, both for your entire backends and on a per-plugin basis. It can use different backing stores for its state, and in-memory and redis is currently implemented out of the box.

You can read more about this opt-in feature in <a href="https://backstage.io/docs/backend-system/core-services/http-router" rel="nofollow">the documentation</a> for the HTTP router service.

Contributed by <a href="https://github.com/drodil">@drodil</a> in <a href="https://github.com/backstage/backstage/pull/28708" data-hovercard-type="pull_request" data-hovercard-url="/backstage/backstage/pull/28708/hovercard">#28708</a>

New Frontend System plugin info

Plugins in the new frontend system can now expose rich, extensible metadata about themselves. This data is accessible at runtime inside your app. This is for example useful for adding contact and support information, and much more - and you can even overlay your own data on top of what is provided by open-source plugins.

You can read more about this in the <a href="https://backstage.io/docs/frontend-system/architecture/app" rel="nofollow">frontend app</a> and <a href="https://backstage.io/docs/frontend-system/architecture/plugins" rel="nofollow">plugin</a> architecture documentation.

Notifications retention

Notifications that are stored by the notifications backend plugin now have a default retention of one year before being deleted. This helps keep the storage size in check over time. You can override this using the <code>notifications.retention</code> duration setting in your app-config.

Contributed by <a href="https://github.com/drodil">@drodil</a> in <a href="https://github.com/backstage/backstage/pull/30206" data-hovercard-type="pull_request" data-hovercard-url="/backstage/backstage/pull/30206/hovercard">#30206</a>

Lots of i18n work

A bunch of work was done to enable i18n (translations) in several plugins! This affected at least the following:

* core components
* the org plugin
* the catalog import plugin
* the home plugin
* the search plugin
* the user settings plugin

Contributed by <a href="https://github.com/mario-mui">@mario-mui</a>

Canon steams ahead

While it’s still early days, we still want to call out that the canon design system work steams ahead with various controls added and improvements made. Hang tight!

Security Fixes

This release does not contain any security fixes.

Thanks so much to the 47 folks who jumped in and helped out with 178 pull requests! Couldn’t have done it without you, thanks a ton! <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/AdityaK60/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/AdityaK60">@AdityaK60</a>, <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/AmbrishRamachandiran/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/AmbrishRamachandiran">@AmbrishRamachandiran</a>, <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/aramissennyeydd/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/aramissennyeydd">@aramissennyeydd</a>, <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/awanlin/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/awanlin">@awanlin</a>, <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/benjdlambert/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/benjdlambert">@benjdlambert</a>, <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/billyatroadie/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/billyatroadie">@billyatroadie</a>, <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/bitanmallick/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/bitanmallick">@bitanmallick</a>, <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/camilaibs/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/camilaibs">@camilaibs</a>, <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/cdedreuille/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/cdedreuille">@cdedreuille</a>, <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/ChezCrawford/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/ChezCrawford">@ChezCrawford</a>, <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/csuich2/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/csuich2">@csuich2</a>, <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/deepthi-28/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/deepthi-28">@deepthi-28</a>, <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/drodil/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/drodil">@drodil</a>, <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/dzemanov/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/dzemanov">@dzemanov</a>, <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/EstoesMoises/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/EstoesMoises">@EstoesMoises</a>, <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/fcamgz/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/fcamgz">@fcamgz</a>, <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/fearphage/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/fearphage">@fearphage</a>, <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/freben/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/freben">@freben</a>, <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/GabDug/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/GabDug">@GabDug</a>, <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/ganievs/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/ganievs">@ganievs</a>, <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/iamEAP/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/iamEAP">@iamEAP</a>, <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/Ishdril/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/Ishdril">@Ishdril</a>, <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/jabrks/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/jabrks">@jabrks</a>, <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/JohannesWill/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/JohannesWill">@JohannesWill</a>, <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/johnphilip283/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/johnphilip283">@johnphilip283</a>, <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/Jonas-Beck/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/Jonas-Beck">@Jonas-Beck</a>, <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/jscheffner/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/jscheffner">@jscheffner</a>, <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/madsteer/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/madsteer">@madsteer</a>, <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/mario-mui/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/mario-mui">@mario-mui</a>, <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/mbenson/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/mbenson">@mbenson</a>, <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/mbruhin/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/mbruhin">@mbruhin</a>, <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/MihaiTabara/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/MihaiTabara">@MihaiTabara</a>, <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/Naycon/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/Naycon">@Naycon</a>, <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/pfeifferj/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/pfeifferj">@pfeifferj</a>, <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/philippeckelintive/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/philippeckelintive">@philippeckelintive</a>, <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/raygervais/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/raygervais">@raygervais</a>, <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/Rudra-SH/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/Rudra-SH">@Rudra-SH</a>, <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/Rugvip/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/Rugvip">@Rugvip</a>, <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/S-Thibaud/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/S-Thibaud">@S-Thibaud</a>, <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/schultzp2020/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/schultzp2020">@schultzp2020</a>, <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/solimant/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/solimant">@solimant</a>, <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/tmuplayer33/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/tmuplayer33">@tmuplayer33</a>, <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/UsainBloot/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/UsainBloot">@UsainBloot</a>, <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/valentingregoire/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/valentingregoire">@valentingregoire</a>, <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/vinnie-jog-on/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vinnie-jog-on">@vinnie-jog-on</a>, <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/vinzscam/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vinzscam">@vinzscam</a>, <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/xoanmi/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/xoanmi">@xoanmi</a>.

Upgrade path

We recommend that you keep your Backstage project up to date with this latest release. For more guidance on how to upgrade, check out the documentation for <a href="https://backstage.io/docs/getting-started/keeping-backstage-updated" rel="nofollow">keeping Backstage updated</a>.

Links and References

Below you can find a list of links and references to help you learn about and start using this new release.

* <a href="https://backstage.io/" rel="nofollow">Backstage official website</a>, <a href="https://backstage.io/docs/" rel="nofollow">documentation</a>, and <a href="https://backstage.io/docs/getting-started/" rel="nofollow">getting started guide</a>
* <a href="https://github.com/backstage/backstage">GitHub repository</a>
* Backstage's <a href="https://backstage.io/docs/overview/versioning-policy" rel="nofollow">versioning and support policy</a>
* <a href="https://discord.gg/backstage-687207715902193673" rel="nofollow">Community Discord</a> for discussions and support
* <a href="https://github.com/backstage/backstage/tree/master/docs/releases/v1.40.0-changelog.md">Changelog</a>
* Backstage <a href="https://backstage.io/demos" rel="nofollow">Demos</a>, <a href="https://backstage.io/blog" rel="nofollow">Blog</a>, <a href="https://backstage.io/docs/overview/roadmap" rel="nofollow">Roadmap</a> and <a href="https://backstage.io/plugins" rel="nofollow">Plugins</a>

Sign up for our <a href="https://info.backstage.spotify.com/newsletter_subscribe" rel="nofollow">newsletter</a> if you want to be informed about what is happening in the world of Backstage.

