# v1.41.0

## release on 20250715
## description
## changes
These are the release notes for the v1.41.0 release of <a href="https://backstage.io/" rel="nofollow">Backstage</a>.

A huge thanks to the whole team of maintainers and contributors as well as the amazing Backstage Community for the hard work in getting this release developed and done.

Highlights

<strong>BREAKING</strong>: Catalog Backend 3.0 - New Defaults

This major release of the catalog plugin backend switches the default value of a number of different flags that affect the behavior of the catalog.  

<a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="3232418365" data-permission-text="Title is private" data-url="https://github.com/backstage/backstage/issues/30546" data-hovercard-type="pull_request" data-hovercard-url="/backstage/backstage/pull/30546/hovercard" href="https://github.com/backstage/backstage/pull/30546">#30546</a>

<code>catalog.orphanStrategy</code> is now <code>delete</code> by default

This switches the default orphan strategy to eagerly delete entities that are no longer referenced within the catalog.

This flag has been suggested many times as a way to clean up entities that have been moved or deleted, and weâ€™re feeling that itâ€™s a good time to turn this on by default.

You can opt back into the previous behavior by supplying <code>orphanStrategy: keep</code> in config.

<code>catalog.orphanProviderStrategy</code> is now <code>delete</code> by default

This switches the default provider installation strategy to no longer keep around entities from providers that are no longer present.

If you have had providers installed in the past that ingested entities into the catalog that you want to keep, the recommendation is to add the provider back to the catalog. If you donâ€™t want the provider to run, you can schedule it with a very large interval.

<code>catalog.disableRelationsCompatibility</code> enabled by default

Relations compatibility is now disabled by default. It can be re-enabled with the new <code>enableRelationsCompatibility</code> flag, but be aware that this significantly reduces overall performance of the catalog.

Relations compatibility ensures that catalog responses contain both <code>targetRef</code> and <code>target</code> within the relations objects, while if it is disabled, only <code>targetRef</code> will be present. The <code>target</code> has not been needed within the Backstage ecosystem for a long time, as the move to <code>targetRef</code> was rolled out many years ago. Therefore, only bespoke external consumers of the catalog should be affected by this change.

<code>catalog.stitchingStrategy</code> is now <code>{ mode: 'deferred' }</code> by default

Stitching is the final phase of ingesting entities into the catalog. It collects all information related to an individual entity, generates the full output version of the entity, and writes it to the tables that power the read API.

This switches the stitching to happen async in a background task, rather than in the main catalog processing loop. This makes stitching a lot more performant in large catalogs.

<code>catalog.useUrlReadersSearch</code> always enabled

The <code>catalog.useUrlReadersSearch</code> flag that was added in 1.36 has been removed and is now always enabled. This means that the <code>UrlReaderProcessor</code> in the catalog will always use the <code>search</code> method when reading locations, rather than <code>read</code>. This allows each individual URL reader to decide whether location refers to a single file, or if itâ€™s a wildcard that needs searching.

This breaking change only affects those that have installed custom URL readers for use by the catalog. If these readers already implement a search method that is able to read from exact locations, youâ€™re all set, otherwise you will want to update it roughly as follows:

    search(url, options) {
      if (!isWildcard(url)) {
        return this.readUrl(url, options)
      }
      // existing search logic, or throw if wildcards arenâ€™t supported
    }

Contributed by <a href="https://github.com/tcardonne">@tcardonne</a> in <a href="https://github.com/backstage/backstage/pull/29788" data-hovercard-type="pull_request" data-hovercard-url="/backstage/backstage/pull/29788/hovercard">#29788</a>

BREAKING: Scaffolder Permissions Changes

Some of the <code>alpha</code> permissions rules in the scaffolder have had some potentially breaking changes.

Retrying a task now requires both <code>scaffolder.task.read</code> and <code>scaffolder.task.create</code> permissions, replacing the previous requirement of <code>scaffolder.task.read</code> and <code>scaffolder.task.cancel</code>.

Added a new scaffolder rule <code>isTaskOwner</code> for <code>scaffolder.task.read</code> and <code>scaffolder.task.cancel</code> to allow for conditional permission policies such as restricting access to tasks and task events based on task creators.

And weâ€™ve converted <code>scaffolder.task.read</code> and <code>scaffolder.task.cancel</code> into Resource Permissions.

Contributed by <a href="https://github.com/04kash">@04kash</a> in <a href="https://github.com/backstage/backstage/pull/29202" data-hovercard-type="pull_request" data-hovercard-url="/backstage/backstage/pull/29202/hovercard">#29202</a>

Renaming Canon to Backstage UI

We have decided to rename Canon, the new design system for Backstage, to Backstage UI. For more context on this change, see <a href="https://github.com/backstage/backstage/issues/27726#issuecomment-3019711177" data-hovercard-type="issue" data-hovercard-url="/backstage/backstage/issues/27726/hovercard">this comment</a> on the design system RFC. As part of this change, <code>@backstage/canon</code> is being renamed to <code>@backstage/ui</code>, and <code>[canon.backstage.io](http://canon.backstage.io/)</code> is being switched to <code>ui.backstage.io</code>.

Auto <code>backstage:^</code> version with Backstage Yarn Plugin

Fixed a bug that would prevent <code>yarn</code> from installing new Backstage dependencies with the <code>backstage:^</code> protocol. ðŸŽ‰

Contributed by <a href="https://github.com/eipc16">@eipc16</a> in <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="3175293237" data-permission-text="Title is private" data-url="https://github.com/backstage/backstage/issues/30390" data-hovercard-type="pull_request" data-hovercard-url="/backstage/backstage/pull/30390/hovercard" href="https://github.com/backstage/backstage/pull/30390">#30390</a>

Security Fixes

This release does not contain any security fixes.

Upgrade path

We recommend that you keep your Backstage project up to date with this latest release. For more guidance on how to upgrade, check out the documentation for <a href="https://backstage.io/docs/getting-started/keeping-backstage-updated" rel="nofollow">keeping Backstage updated</a>.

Links and References

Below you can find a list of links and references to help you learn about and start using this new release.

* <a href="https://backstage.io/" rel="nofollow">Backstage official website</a>, <a href="https://backstage.io/docs/" rel="nofollow">documentation</a>, and <a href="https://backstage.io/docs/getting-started/" rel="nofollow">getting started guide</a>
* <a href="https://github.com/backstage/backstage">GitHub repository</a>
* Backstage's <a href="https://backstage.io/docs/overview/versioning-policy" rel="nofollow">versioning and support policy</a>
* <a href="https://discord.gg/backstage-687207715902193673" rel="nofollow">Community Discord</a> for discussions and support
* <a href="https://github.com/backstage/backstage/tree/master/docs/releases/v1.41.0-changelog.md">Changelog</a>
* Backstage <a href="https://backstage.io/demos" rel="nofollow">Demos</a>, <a href="https://backstage.io/blog" rel="nofollow">Blog</a>, <a href="https://backstage.io/docs/overview/roadmap" rel="nofollow">Roadmap</a> and <a href="https://backstage.io/plugins" rel="nofollow">Plugins</a>

Sign up for our <a href="https://info.backstage.spotify.com/newsletter_subscribe" rel="nofollow">newsletter</a> if you want to be informed about what is happening in the world of Backstage.

