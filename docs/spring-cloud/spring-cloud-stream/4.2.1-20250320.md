# 4.2.1

## release on 20250320

## description

## changes

‚≠ê New Features

* Enabling lazy initialization breaks Kafka Streams <a href="https://github.com/spring-cloud/spring-cloud-stream/issues/3065" data-hovercard-type="issue" data-hovercard-url="/spring-cloud/spring-cloud-stream/issues/3065/hovercard">#3065</a>
* Clarify that having a custom error handler disables auto send to DLQ <a href="https://github.com/spring-cloud/spring-cloud-stream/pull/3063" data-hovercard-type="pull_request" data-hovercard-url="/spring-cloud/spring-cloud-stream/pull/3063/hovercard">#3063</a>
* Add <code>spring.cloud.stream.function.autodetect</code> to <code>additional-spring-configuration-metadata.json</code> <a href="https://github.com/spring-cloud/spring-cloud-stream/issues/3052" data-hovercard-type="issue" data-hovercard-url="/spring-cloud/spring-cloud-stream/issues/3052/hovercard">#3052</a>
* fix(observability): register ObservationRegistry for dynamic MessageChannels in StreamBridge (<a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2640503882" data-permission-text="Title is private" data-url="https://github.com/spring-cloud/spring-cloud-stream/issues/3033" data-hovercard-type="issue" data-hovercard-url="/spring-cloud/spring-cloud-stream/issues/3033/hovercard" href="https://github.com/spring-cloud/spring-cloud-stream/issues/3033">#3033</a>) <a href="https://github.com/spring-cloud/spring-cloud-stream/pull/3036" data-hovercard-type="pull_request" data-hovercard-url="/spring-cloud/spring-cloud-stream/pull/3036/hovercard">#3036</a>
* Batch-Capable Producer Bindings <a href="https://github.com/spring-cloud/spring-cloud-stream/issues/2969" data-hovercard-type="issue" data-hovercard-url="/spring-cloud/spring-cloud-stream/issues/2969/hovercard">#2969</a>

üêû Bug Fixes

* Can't create CRaC checkpoint, fails with the error message "CheckpointOpenSocketException: ... kafka/172.18.0.3:9092" <a href="https://github.com/spring-cloud/spring-cloud-stream/issues/3062" data-hovercard-type="issue" data-hovercard-url="/spring-cloud/spring-cloud-stream/issues/3062/hovercard">#3062</a>
* Kafka Binder's partitionCount (auto-discovered from the broker) gets reset after environment refresh <a href="https://github.com/spring-cloud/spring-cloud-stream/issues/3054" data-hovercard-type="issue" data-hovercard-url="/spring-cloud/spring-cloud-stream/issues/3054/hovercard">#3054</a>
* No converter found capable of converting from type [java.lang.String] to type [org.springframework.expression.Expression] <a href="https://github.com/spring-cloud/spring-cloud-stream/issues/3053" data-hovercard-type="issue" data-hovercard-url="/spring-cloud/spring-cloud-stream/issues/3053/hovercard">#3053</a>
* CloudEventMessageBuilder creates URI with surrounding quotes <a href="https://github.com/spring-cloud/spring-cloud-stream/issues/3055" data-hovercard-type="issue" data-hovercard-url="/spring-cloud/spring-cloud-stream/issues/3055/hovercard">#3055</a>
* Default-retryable setting is ignored <a href="https://github.com/spring-cloud/spring-cloud-stream/issues/3066" data-hovercard-type="issue" data-hovercard-url="/spring-cloud/spring-cloud-stream/issues/3066/hovercard">#3066</a>

‚ù§Ô∏è Contributors

Thank you to all the contributors who worked on this release:

<a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/agustino-lim/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/agustino-lim">@agustino-lim</a> and <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/destan/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/destan">@destan</a>

