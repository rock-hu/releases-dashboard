# 3.0.4

## release on 20230728

## description

## changes

‚≠ê New Features

* Remove imageBuilder so default is used and can be overwritten on the command line <a href="https://github.com/spring-cloud/spring-cloud-kubernetes/pull/1368" data-hovercard-type="pull_request" data-hovercard-url="/spring-cloud/spring-cloud-kubernetes/pull/1368/hovercard">#1368</a>
* Our current tests are very un-balanced <a href="https://github.com/spring-cloud/spring-cloud-kubernetes/issues/1339" data-hovercard-type="issue" data-hovercard-url="/spring-cloud/spring-cloud-kubernetes/issues/1339/hovercard">#1339</a>

üêû Bug Fixes

* incorrect services returned due to wrong label filtering <a href="https://github.com/spring-cloud/spring-cloud-kubernetes/pull/1388" data-hovercard-type="pull_request" data-hovercard-url="/spring-cloud/spring-cloud-kubernetes/pull/1388/hovercard">#1388</a>
* spring-cloud-kubernetes-fabric8-discovery includes mockito-inline as a compile-time dependency <a href="https://github.com/spring-cloud/spring-cloud-kubernetes/issues/1363" data-hovercard-type="issue" data-hovercard-url="/spring-cloud/spring-cloud-kubernetes/issues/1363/hovercard">#1363</a>
* Warning about deprecated config paths when uniquePaths is empty <a href="https://github.com/spring-cloud/spring-cloud-kubernetes/issues/1358" data-hovercard-type="issue" data-hovercard-url="/spring-cloud/spring-cloud-kubernetes/issues/1358/hovercard">#1358</a>
* Spring cloud override mockito.version defined by SB <a href="https://github.com/spring-cloud/spring-cloud-kubernetes/issues/1355" data-hovercard-type="issue" data-hovercard-url="/spring-cloud/spring-cloud-kubernetes/issues/1355/hovercard">#1355</a>
* Wrong dependency managment for spring-retry <a href="https://github.com/spring-cloud/spring-cloud-kubernetes/issues/1356" data-hovercard-type="issue" data-hovercard-url="/spring-cloud/spring-cloud-kubernetes/issues/1356/hovercard">#1356</a>

‚úîÔ∏è Tasks

* Fix issue with balanced tests <a href="https://github.com/spring-cloud/spring-cloud-kubernetes/pull/1384" data-hovercard-type="pull_request" data-hovercard-url="/spring-cloud/spring-cloud-kubernetes/pull/1384/hovercard">#1384</a>
* Fix first step of the matrix <a href="https://github.com/spring-cloud/spring-cloud-kubernetes/pull/1381" data-hovercard-type="pull_request" data-hovercard-url="/spring-cloud/spring-cloud-kubernetes/pull/1381/hovercard">#1381</a>
* refactor fabric8 test <a href="https://github.com/spring-cloud/spring-cloud-kubernetes/pull/1379" data-hovercard-type="pull_request" data-hovercard-url="/spring-cloud/spring-cloud-kubernetes/pull/1379/hovercard">#1379</a>
* drop support for circleci <a href="https://github.com/spring-cloud/spring-cloud-kubernetes/pull/1378" data-hovercard-type="pull_request" data-hovercard-url="/spring-cloud/spring-cloud-kubernetes/pull/1378/hovercard">#1378</a>
* fix build failure related to disk usage <a href="https://github.com/spring-cloud/spring-cloud-kubernetes/pull/1372" data-hovercard-type="pull_request" data-hovercard-url="/spring-cloud/spring-cloud-kubernetes/pull/1372/hovercard">#1372</a>
* Refactor some integration tests <a href="https://github.com/spring-cloud/spring-cloud-kubernetes/pull/1359" data-hovercard-type="pull_request" data-hovercard-url="/spring-cloud/spring-cloud-kubernetes/pull/1359/hovercard">#1359</a>
* Some improvements in the pipeline and integration tests <a href="https://github.com/spring-cloud/spring-cloud-kubernetes/pull/1357" data-hovercard-type="pull_request" data-hovercard-url="/spring-cloud/spring-cloud-kubernetes/pull/1357/hovercard">#1357</a>
* Simplifiy existing split of tests <a href="https://github.com/spring-cloud/spring-cloud-kubernetes/pull/1352" data-hovercard-type="pull_request" data-hovercard-url="/spring-cloud/spring-cloud-kubernetes/pull/1352/hovercard">#1352</a>
* remove explicit launcher dependency + fix occasional build failures <a href="https://github.com/spring-cloud/spring-cloud-kubernetes/pull/1349" data-hovercard-type="pull_request" data-hovercard-url="/spring-cloud/spring-cloud-kubernetes/pull/1349/hovercard">#1349</a>

‚ù§Ô∏è Contributors

Thank you to all the contributors who worked on this release:

<a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/oliverlockwood/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/oliverlockwood">@oliverlockwood</a> and <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/wind57/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/wind57">@wind57</a>

