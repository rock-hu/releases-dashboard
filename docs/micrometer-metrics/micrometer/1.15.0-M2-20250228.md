# 1.15.0-M2

## release on 20250228

## description

## changes

:warning: Noteworthy

* Publish milestones to Maven Central <a href="https://github.com/micrometer-metrics/micrometer/issues/5891" data-hovercard-type="issue" data-hovercard-url="/micrometer-metrics/micrometer/issues/5891/hovercard">#5891</a>
* Remove special handling of 404/301 from OkHttp instrumentation <a href="https://github.com/micrometer-metrics/micrometer/pull/5814" data-hovercard-type="pull_request" data-hovercard-url="/micrometer-metrics/micrometer/pull/5814/hovercard">#5814</a>
* Deprecate micrometer-registry-signalfx in favor of micrometer-registry-otlp <a href="https://github.com/micrometer-metrics/micrometer/issues/5807" data-hovercard-type="issue" data-hovercard-url="/micrometer-metrics/micrometer/issues/5807/hovercard">#5807</a>

‚≠ê New Features / Enhancements

* Use direct equals call instead of Objects.equals wrapper <a href="https://github.com/micrometer-metrics/micrometer/pull/5840" data-hovercard-type="pull_request" data-hovercard-url="/micrometer-metrics/micrometer/pull/5840/hovercard">#5840</a>
* Remove special handling of 404/301 from JDK HTTP client instrumentation <a href="https://github.com/micrometer-metrics/micrometer/pull/5838" data-hovercard-type="pull_request" data-hovercard-url="/micrometer-metrics/micrometer/pull/5838/hovercard">#5838</a>
* Make Timer and LongTaskTimer output similar in LoggingMeterRegistry <a href="https://github.com/micrometer-metrics/micrometer/pull/5835" data-hovercard-type="pull_request" data-hovercard-url="/micrometer-metrics/micrometer/pull/5835/hovercard">#5835</a>
* Remove special handling of 404 and redirection statuses from Jetty client instrumentation <a href="https://github.com/micrometer-metrics/micrometer/pull/5825" data-hovercard-type="pull_request" data-hovercard-url="/micrometer-metrics/micrometer/pull/5825/hovercard">#5825</a>
* Log deprecation warning when creating SignalFxMeterRegistry <a href="https://github.com/micrometer-metrics/micrometer/pull/5824" data-hovercard-type="pull_request" data-hovercard-url="/micrometer-metrics/micrometer/pull/5824/hovercard">#5824</a>
* Log metrics recording failures in CountedAspect and TimedAspect <a href="https://github.com/micrometer-metrics/micrometer/issues/5820" data-hovercard-type="issue" data-hovercard-url="/micrometer-metrics/micrometer/issues/5820/hovercard">#5820</a>
* Remove special handling of 404/301 from OkHttp instrumentation <a href="https://github.com/micrometer-metrics/micrometer/pull/5814" data-hovercard-type="pull_request" data-hovercard-url="/micrometer-metrics/micrometer/pull/5814/hovercard">#5814</a>
* Support AutoShutdownDelegatedExecutorService in ExecutorServiceMetrics <a href="https://github.com/micrometer-metrics/micrometer/pull/5811" data-hovercard-type="pull_request" data-hovercard-url="/micrometer-metrics/micrometer/pull/5811/hovercard">#5811</a>
* Deprecate micrometer-registry-signalfx in favor of micrometer-registry-otlp <a href="https://github.com/micrometer-metrics/micrometer/issues/5807" data-hovercard-type="issue" data-hovercard-url="/micrometer-metrics/micrometer/issues/5807/hovercard">#5807</a>
* Rebind <code>Log4j2Metrics</code> when <code>LoggerContext#reconfigure</code> is called <a href="https://github.com/micrometer-metrics/micrometer/issues/5756" data-hovercard-type="issue" data-hovercard-url="/micrometer-metrics/micrometer/issues/5756/hovercard">#5756</a>
* Send metrics via any protocol in the OTLP Registry <a href="https://github.com/micrometer-metrics/micrometer/issues/5690" data-hovercard-type="issue" data-hovercard-url="/micrometer-metrics/micrometer/issues/5690/hovercard">#5690</a>
* Improve average performance of DefaultLongTaskTimer for out-of-order stopping <a href="https://github.com/micrometer-metrics/micrometer/pull/5591" data-hovercard-type="pull_request" data-hovercard-url="/micrometer-metrics/micrometer/pull/5591/hovercard">#5591</a>

üêû Bug Fixes

* Log4j2Metrics does not work with multiple registries and non-root loggers <a href="https://github.com/micrometer-metrics/micrometer/issues/5893" data-hovercard-type="issue" data-hovercard-url="/micrometer-metrics/micrometer/issues/5893/hovercard">#5893</a>
* Fix LongTaskTimer output for LoggingMeterRegistry <a href="https://github.com/micrometer-metrics/micrometer/issues/5834" data-hovercard-type="issue" data-hovercard-url="/micrometer-metrics/micrometer/issues/5834/hovercard">#5834</a>
* <code>Log4j2Metrics</code> creates more <code>MetricsFilter</code> instances than needed <a href="https://github.com/micrometer-metrics/micrometer/pull/5818" data-hovercard-type="pull_request" data-hovercard-url="/micrometer-metrics/micrometer/pull/5818/hovercard">#5818</a>
* Fix unit discrepancy between Timer and FunctionTimer in LoggingMeterRegistry <a href="https://github.com/micrometer-metrics/micrometer/issues/5816" data-hovercard-type="issue" data-hovercard-url="/micrometer-metrics/micrometer/issues/5816/hovercard">#5816</a>
* Distribution bucket_counts sum does not equal the count <a href="https://github.com/micrometer-metrics/micrometer/issues/4868" data-hovercard-type="issue" data-hovercard-url="/micrometer-metrics/micrometer/issues/4868/hovercard">#4868</a>

üìî Documentation

* Remove obviated GraalVM native image compilation section from Stackdriver docs <a href="https://github.com/micrometer-metrics/micrometer/issues/5819" data-hovercard-type="issue" data-hovercard-url="/micrometer-metrics/micrometer/issues/5819/hovercard">#5819</a>
* Update Docs with right contract of MeterFilter <a href="https://github.com/micrometer-metrics/micrometer/issues/5480" data-hovercard-type="issue" data-hovercard-url="/micrometer-metrics/micrometer/issues/5480/hovercard">#5480</a>

üî® Dependency Upgrades

* Bump com.google.auth:google-auth-library-oauth2-http from 1.30.1 to 1.32.1 <a href="https://github.com/micrometer-metrics/micrometer/pull/5906" data-hovercard-type="pull_request" data-hovercard-url="/micrometer-metrics/micrometer/pull/5906/hovercard">#5906</a>
* Bump software.amazon.awssdk:cloudwatch from 2.29.46 to 2.30.15 <a href="https://github.com/micrometer-metrics/micrometer/pull/5905" data-hovercard-type="pull_request" data-hovercard-url="/micrometer-metrics/micrometer/pull/5905/hovercard">#5905</a>
* Bump com.netflix.spectator:spectator-reg-atlas from 1.8.3 to 1.8.4 <a href="https://github.com/micrometer-metrics/micrometer/pull/5904" data-hovercard-type="pull_request" data-hovercard-url="/micrometer-metrics/micrometer/pull/5904/hovercard">#5904</a>
* Bump com.signalfx.public:signalfx-java from 1.0.47 to 1.0.49 <a href="https://github.com/micrometer-metrics/micrometer/pull/5897" data-hovercard-type="pull_request" data-hovercard-url="/micrometer-metrics/micrometer/pull/5897/hovercard">#5897</a>
* Bump com.google.cloud:libraries-bom from 26.52.0 to 26.54.0 <a href="https://github.com/micrometer-metrics/micrometer/pull/5883" data-hovercard-type="pull_request" data-hovercard-url="/micrometer-metrics/micrometer/pull/5883/hovercard">#5883</a>
* Bump com.google.cloud:google-cloud-monitoring from 3.56.0 to 3.58.0 <a href="https://github.com/micrometer-metrics/micrometer/pull/5864" data-hovercard-type="pull_request" data-hovercard-url="/micrometer-metrics/micrometer/pull/5864/hovercard">#5864</a>
* Bump io.netty:netty-bom from 4.1.116.Final to 4.1.117.Final <a href="https://github.com/micrometer-metrics/micrometer/pull/5862" data-hovercard-type="pull_request" data-hovercard-url="/micrometer-metrics/micrometer/pull/5862/hovercard">#5862</a>
* Bump dropwizard-metrics from 4.2.29 to 4.2.30 <a href="https://github.com/micrometer-metrics/micrometer/pull/5855" data-hovercard-type="pull_request" data-hovercard-url="/micrometer-metrics/micrometer/pull/5855/hovercard">#5855</a>

üìù Tasks

* Add tests verifying that Apache (Async) HTTP clients don't have special handling for 404 <a href="https://github.com/micrometer-metrics/micrometer/pull/5837" data-hovercard-type="pull_request" data-hovercard-url="/micrometer-metrics/micrometer/pull/5837/hovercard">#5837</a>
* Fix <code>gradle check</code> with JDK17+ <a href="https://github.com/micrometer-metrics/micrometer/pull/5735" data-hovercard-type="pull_request" data-hovercard-url="/micrometer-metrics/micrometer/pull/5735/hovercard">#5735</a>
* Add .kotlin to .gitignore <a href="https://github.com/micrometer-metrics/micrometer/issues/5888" data-hovercard-type="issue" data-hovercard-url="/micrometer-metrics/micrometer/issues/5888/hovercard">#5888</a>
* Migrate to dependabot auto-merge function <a href="https://github.com/micrometer-metrics/micrometer/issues/5874" data-hovercard-type="issue" data-hovercard-url="/micrometer-metrics/micrometer/issues/5874/hovercard">#5874</a>

‚ù§Ô∏è Contributors

Thank you to all the contributors who worked on this release:

<a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/big-cir/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/big-cir">@big-cir</a>, <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/breedx-splk/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/breedx-splk">@breedx-splk</a>, <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/fogninid/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/fogninid">@fogninid</a>, <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/izeye/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/izeye">@izeye</a>, <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/ngocnhan-tran1996/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/ngocnhan-tran1996">@ngocnhan-tran1996</a>, <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/turbanoff/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/turbanoff">@turbanoff</a>, and <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/kasparkivistik/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/kasparkivistik">@kasparkivistik</a>

