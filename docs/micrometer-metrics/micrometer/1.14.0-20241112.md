# 1.14.0

## release on 20241112

## description

## changes

Micrometer 1.14.0 is the GA version of a new feature release. See our <a href="https://micrometer.io/support" rel="nofollow">support policy</a> for support timelines.

Below are the combined release notes of all the pre-release milestones and release candidate preceding this GA release.

:warning: Noteworthy

* Support ExponentialHistogram in OTLP <a href="https://github.com/micrometer-metrics/micrometer/issues/3861" data-hovercard-type="issue" data-hovercard-url="/micrometer-metrics/micrometer/issues/3861/hovercard">#3861</a>
* Virtual thread metrics <a href="https://github.com/micrometer-metrics/micrometer/issues/3956" data-hovercard-type="issue" data-hovercard-url="/micrometer-metrics/micrometer/issues/3956/hovercard">#3956</a>
* Validate expected Observation API call ordering on TestObservationRegistry <a href="https://github.com/micrometer-metrics/micrometer/issues/5239" data-hovercard-type="issue" data-hovercard-url="/micrometer-metrics/micrometer/issues/5239/hovercard">#5239</a>

‚≠ê New Features / Enhancements

* Expose TestObservationRegistry as an AssertJ AssertProvider <a href="https://github.com/micrometer-metrics/micrometer/pull/5551" data-hovercard-type="pull_request" data-hovercard-url="/micrometer-metrics/micrometer/pull/5551/hovercard">#5551</a>
* Use failure with actual and expected message to improve IDE experience for ObservationContextAssert <a href="https://github.com/micrometer-metrics/micrometer/pull/5550" data-hovercard-type="pull_request" data-hovercard-url="/micrometer-metrics/micrometer/pull/5550/hovercard">#5550</a>
* Replace <code>@Nonnull</code>(when = When.MAYBE) with <code>@CheckForNull</code> in <code>@Nullable</code> <a href="https://github.com/micrometer-metrics/micrometer/pull/5485" data-hovercard-type="pull_request" data-hovercard-url="/micrometer-metrics/micrometer/pull/5485/hovercard">#5485</a>
* Warn about Prometheus meter registration failure <a href="https://github.com/micrometer-metrics/micrometer/pull/5228" data-hovercard-type="pull_request" data-hovercard-url="/micrometer-metrics/micrometer/pull/5228/hovercard">#5228</a>
* Improve performance of merging two <code>Tags</code>/<code>KeyValues</code> instances <a href="https://github.com/micrometer-metrics/micrometer/issues/5140" data-hovercard-type="issue" data-hovercard-url="/micrometer-metrics/micrometer/issues/5140/hovercard">#5140</a>
* Allow user-provided custom scheduler for periodically binding KafkaMetrics <a href="https://github.com/micrometer-metrics/micrometer/issues/4976" data-hovercard-type="issue" data-hovercard-url="/micrometer-metrics/micrometer/issues/4976/hovercard">#4976</a>
* Allow specifying the meterNameConsumer for HighCardinalityTagsDetector <a href="https://github.com/micrometer-metrics/micrometer/pull/4028" data-hovercard-type="pull_request" data-hovercard-url="/micrometer-metrics/micrometer/pull/4028/hovercard">#4028</a>
* Virtual thread metrics <a href="https://github.com/micrometer-metrics/micrometer/issues/3956" data-hovercard-type="issue" data-hovercard-url="/micrometer-metrics/micrometer/issues/3956/hovercard">#3956</a>
* Allow tagsBasedOnJoinPoint to override extraTags with CountedAspect <a href="https://github.com/micrometer-metrics/micrometer/issues/2461" data-hovercard-type="issue" data-hovercard-url="/micrometer-metrics/micrometer/issues/2461/hovercard">#2461</a>
* Configurable _source.enabled Elastic mapping property <a href="https://github.com/micrometer-metrics/micrometer/issues/1629" data-hovercard-type="issue" data-hovercard-url="/micrometer-metrics/micrometer/issues/1629/hovercard">#1629</a>
* Skip registering Caffeine meters when statistics are not enabled <a href="https://github.com/micrometer-metrics/micrometer/pull/5409" data-hovercard-type="pull_request" data-hovercard-url="/micrometer-metrics/micrometer/pull/5409/hovercard">#5409</a>
* Log a warning when instrumenting a cache that is not recording stats in CaffeineCacheMetrics <a href="https://github.com/micrometer-metrics/micrometer/pull/5402" data-hovercard-type="pull_request" data-hovercard-url="/micrometer-metrics/micrometer/pull/5402/hovercard">#5402</a>
* MultiGauge.register should accept more types <a href="https://github.com/micrometer-metrics/micrometer/issues/5390" data-hovercard-type="issue" data-hovercard-url="/micrometer-metrics/micrometer/issues/5390/hovercard">#5390</a>
* Metrics not collected after ExecutorService recreation <a href="https://github.com/micrometer-metrics/micrometer/issues/5366" data-hovercard-type="issue" data-hovercard-url="/micrometer-metrics/micrometer/issues/5366/hovercard">#5366</a>
* Add "cancelled" information to the GrpcServerObservationContext <a href="https://github.com/micrometer-metrics/micrometer/issues/5301" data-hovercard-type="issue" data-hovercard-url="/micrometer-metrics/micrometer/issues/5301/hovercard">#5301</a>
* process_start_time_seconds HELP description inconsistency between Prometheus and micrometer <a href="https://github.com/micrometer-metrics/micrometer/issues/5290" data-hovercard-type="issue" data-hovercard-url="/micrometer-metrics/micrometer/issues/5290/hovercard">#5290</a>
* Add history-tracking to ObservationValidator <a href="https://github.com/micrometer-metrics/micrometer/pull/5370" data-hovercard-type="pull_request" data-hovercard-url="/micrometer-metrics/micrometer/pull/5370/hovercard">#5370</a>
* [dynatrace/v2] reduce log verbosity <a href="https://github.com/micrometer-metrics/micrometer/pull/5306" data-hovercard-type="pull_request" data-hovercard-url="/micrometer-metrics/micrometer/pull/5306/hovercard">#5306</a>
* Validate expected Observation API call ordering on TestObservationRegistry <a href="https://github.com/micrometer-metrics/micrometer/issues/5239" data-hovercard-type="issue" data-hovercard-url="/micrometer-metrics/micrometer/issues/5239/hovercard">#5239</a>
* Add JvmThreadDeadlockMetrics <a href="https://github.com/micrometer-metrics/micrometer/pull/5222" data-hovercard-type="pull_request" data-hovercard-url="/micrometer-metrics/micrometer/pull/5222/hovercard">#5222</a>
* Allow multiple MeterTag annotations for multiple tags from same target <a href="https://github.com/micrometer-metrics/micrometer/issues/4081" data-hovercard-type="issue" data-hovercard-url="/micrometer-metrics/micrometer/issues/4081/hovercard">#4081</a>
* Support ExponentialHistogram in OTLP <a href="https://github.com/micrometer-metrics/micrometer/issues/3861" data-hovercard-type="issue" data-hovercard-url="/micrometer-metrics/micrometer/issues/3861/hovercard">#3861</a>
* Expose ForkJoinPool parallelism and pool size metrics <a href="https://github.com/micrometer-metrics/micrometer/pull/5236" data-hovercard-type="pull_request" data-hovercard-url="/micrometer-metrics/micrometer/pull/5236/hovercard">#5236</a>
* Allow custom ThreadFactory for OtlpMeterRegistry <a href="https://github.com/micrometer-metrics/micrometer/pull/5153" data-hovercard-type="pull_request" data-hovercard-url="/micrometer-metrics/micrometer/pull/5153/hovercard">#5153</a>
* Do not register GC metrics when GC notifications are unavailable <a href="https://github.com/micrometer-metrics/micrometer/pull/5149" data-hovercard-type="pull_request" data-hovercard-url="/micrometer-metrics/micrometer/pull/5149/hovercard">#5149</a>
* Cancelled status code not reported in the gRPC server metrics <a href="https://github.com/micrometer-metrics/micrometer/issues/5109" data-hovercard-type="issue" data-hovercard-url="/micrometer-metrics/micrometer/issues/5109/hovercard">#5109</a>
* Add counter of failed attempts to retrieve a connection from the pool <a href="https://github.com/micrometer-metrics/micrometer/pull/5057" data-hovercard-type="pull_request" data-hovercard-url="/micrometer-metrics/micrometer/pull/5057/hovercard">#5057</a>
* Add Support for <code>@MeterTag</code> to <code>@Counted</code> <a href="https://github.com/micrometer-metrics/micrometer/issues/4725" data-hovercard-type="issue" data-hovercard-url="/micrometer-metrics/micrometer/issues/4725/hovercard">#4725</a>
* Compile-time weaving support for aspects <a href="https://github.com/micrometer-metrics/micrometer/issues/1149" data-hovercard-type="issue" data-hovercard-url="/micrometer-metrics/micrometer/issues/1149/hovercard">#1149</a>
* Service level objectives support on <code>@Timed</code> annotation <a href="https://github.com/micrometer-metrics/micrometer/pull/5145" data-hovercard-type="pull_request" data-hovercard-url="/micrometer-metrics/micrometer/pull/5145/hovercard">#5145</a>

üìî Documentation

* Add docs for ObservationValidator <a href="https://github.com/micrometer-metrics/micrometer/issues/5387" data-hovercard-type="issue" data-hovercard-url="/micrometer-metrics/micrometer/issues/5387/hovercard">#5387</a>
* Add docs for multiple MeterTag annotations <a href="https://github.com/micrometer-metrics/micrometer/pull/5641" data-hovercard-type="pull_request" data-hovercard-url="/micrometer-metrics/micrometer/pull/5641/hovercard">#5641</a>
* Add docs for <code>@MeterTag</code> for <code>@Counted</code> <a href="https://github.com/micrometer-metrics/micrometer/pull/5640" data-hovercard-type="pull_request" data-hovercard-url="/micrometer-metrics/micrometer/pull/5640/hovercard">#5640</a>
* Add docs for JvmThreadDeadlockMetrics <a href="https://github.com/micrometer-metrics/micrometer/pull/5614" data-hovercard-type="pull_request" data-hovercard-url="/micrometer-metrics/micrometer/pull/5614/hovercard">#5614</a>
* Add docs for ForkJoinPool parallelism and pool size metrics <a href="https://github.com/micrometer-metrics/micrometer/pull/5611" data-hovercard-type="pull_request" data-hovercard-url="/micrometer-metrics/micrometer/pull/5611/hovercard">#5611</a>
* Add docs for VirtualThreadMetrics <a href="https://github.com/micrometer-metrics/micrometer/pull/5610" data-hovercard-type="pull_request" data-hovercard-url="/micrometer-metrics/micrometer/pull/5610/hovercard">#5610</a>

üî® Dependency Upgrades

* Bump io.prometheus:prometheus-metrics-bom to 1.3.3 <a href="https://github.com/micrometer-metrics/micrometer/pull/5649" data-hovercard-type="pull_request" data-hovercard-url="/micrometer-metrics/micrometer/pull/5649/hovercard">#5649</a>
* Bump software.amazon.awssdk:cloudwatch to 2.29.7 <a href="https://github.com/micrometer-metrics/micrometer/pull/5645" data-hovercard-type="pull_request" data-hovercard-url="/micrometer-metrics/micrometer/pull/5645/hovercard">#5645</a>
* Bump com.google.cloud:libraries-bom to 26.50.0 <a href="https://github.com/micrometer-metrics/micrometer/pull/5638" data-hovercard-type="pull_request" data-hovercard-url="/micrometer-metrics/micrometer/pull/5638/hovercard">#5638</a>
* Bump com.signalfx.public:signalfx-java to 1.0.47 <a href="https://github.com/micrometer-metrics/micrometer/pull/5635" data-hovercard-type="pull_request" data-hovercard-url="/micrometer-metrics/micrometer/pull/5635/hovercard">#5635</a>
* Bump com.google.auth:google-auth-library-oauth2-http to 1.29.0 <a href="https://github.com/micrometer-metrics/micrometer/pull/5634" data-hovercard-type="pull_request" data-hovercard-url="/micrometer-metrics/micrometer/pull/5634/hovercard">#5634</a>
* Bump software.amazon.awssdk:cloudwatch to 2.29.6 <a href="https://github.com/micrometer-metrics/micrometer/pull/5631" data-hovercard-type="pull_request" data-hovercard-url="/micrometer-metrics/micrometer/pull/5631/hovercard">#5631</a>
* Bump com.netflix.spectator:spectator-reg-atlas to 1.8.1 <a href="https://github.com/micrometer-metrics/micrometer/pull/5630" data-hovercard-type="pull_request" data-hovercard-url="/micrometer-metrics/micrometer/pull/5630/hovercard">#5630</a>
* Bump com.google.cloud:google-cloud-monitoring to 3.54.0 <a href="https://github.com/micrometer-metrics/micrometer/pull/5628" data-hovercard-type="pull_request" data-hovercard-url="/micrometer-metrics/micrometer/pull/5628/hovercard">#5628</a>
* Bump dropwizard-metrics to 4.2.28 <a href="https://github.com/micrometer-metrics/micrometer/pull/5569" data-hovercard-type="pull_request" data-hovercard-url="/micrometer-metrics/micrometer/pull/5569/hovercard">#5569</a>
* Bump io.opentelemetry.proto:opentelemetry-proto to 1.3.2-alpha <a href="https://github.com/micrometer-metrics/micrometer/pull/5268" data-hovercard-type="pull_request" data-hovercard-url="/micrometer-metrics/micrometer/pull/5268/hovercard">#5268</a>
* Bump org.hdrhistogram:HdrHistogram to 2.2.2 <a href="https://github.com/micrometer-metrics/micrometer/pull/5171" data-hovercard-type="pull_request" data-hovercard-url="/micrometer-metrics/micrometer/pull/5171/hovercard">#5171</a>

‚ù§Ô∏è Contributors

Thank you to all the contributors who worked on this release:

<a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/codesimplicity/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/codesimplicity">@codesimplicity</a>, <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/genuss/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/genuss">@genuss</a>, <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/izeye/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/izeye">@izeye</a>, <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/mihalyr/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/mihalyr">@mihalyr</a>, <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/lcavadas/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/lcavadas">@lcavadas</a>, <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/filiphr/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/filiphr">@filiphr</a>, <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/sean-heller/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/sean-heller">@sean-heller</a>, <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/vasiliy-sarzhynskyi/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vasiliy-sarzhynskyi">@vasiliy-sarzhynskyi</a>, <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/ArtyomGabeev/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/ArtyomGabeev">@ArtyomGabeev</a>, <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/kinddevil/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/kinddevil">@kinddevil</a>, <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/mstyura/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/mstyura">@mstyura</a>, <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/madhead/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/madhead">@madhead</a>, <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/pirgeo/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/pirgeo">@pirgeo</a>, <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/rkurniawati/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/rkurniawati">@rkurniawati</a>, <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/lenin-jaganathan/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/lenin-jaganathan">@lenin-jaganathan</a>, <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/smaxx/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/smaxx">@smaxx</a>

