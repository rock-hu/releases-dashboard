# 1.15.0-M1

## release on 20250113
## description
## changes
:warning: Noteworthy

* Do not leak OTLP types on public-facing API <a href="https://github.com/micrometer-metrics/micrometer/pull/5699" data-hovercard-type="pull_request" data-hovercard-url="/micrometer-metrics/micrometer/pull/5699/hovercard">#5699</a>

‚≠ê New Features / Enhancements

* Make jvm.classes.unloaded description generic <a href="https://github.com/micrometer-metrics/micrometer/pull/5745" data-hovercard-type="pull_request" data-hovercard-url="/micrometer-metrics/micrometer/pull/5745/hovercard">#5745</a>
* Use String.toLowerCase()/toUpperCase() with Locale.ROOT consistently <a href="https://github.com/micrometer-metrics/micrometer/pull/5711" data-hovercard-type="pull_request" data-hovercard-url="/micrometer-metrics/micrometer/pull/5711/hovercard">#5711</a>
* Use failWithActualExpectedAndMessage() where possible <a href="https://github.com/micrometer-metrics/micrometer/pull/5696" data-hovercard-type="pull_request" data-hovercard-url="/micrometer-metrics/micrometer/pull/5696/hovercard">#5696</a>
* Provide target host/port info in ObservationExecChainHandler when HttpHostConnectException is thrown <a href="https://github.com/micrometer-metrics/micrometer/issues/5615" data-hovercard-type="issue" data-hovercard-url="/micrometer-metrics/micrometer/issues/5615/hovercard">#5615</a>
* Enable Gauge builders to take a subclass of Number <a href="https://github.com/micrometer-metrics/micrometer/pull/5601" data-hovercard-type="pull_request" data-hovercard-url="/micrometer-metrics/micrometer/pull/5601/hovercard">#5601</a>
* micrometer-observation-test support for assertions on events <a href="https://github.com/micrometer-metrics/micrometer/issues/5576" data-hovercard-type="issue" data-hovercard-url="/micrometer-metrics/micrometer/issues/5576/hovercard">#5576</a>
* Log delta count in addition to throughput in LoggingMeterRegistry <a href="https://github.com/micrometer-metrics/micrometer/issues/5548" data-hovercard-type="issue" data-hovercard-url="/micrometer-metrics/micrometer/issues/5548/hovercard">#5548</a>
* Add peer name and port to gRPC observation contexts <a href="https://github.com/micrometer-metrics/micrometer/pull/3512" data-hovercard-type="pull_request" data-hovercard-url="/micrometer-metrics/micrometer/pull/3512/hovercard">#3512</a>

üêû Bug Fixes

* Handle RuntimeException when getting/setting JMS headers <a href="https://github.com/micrometer-metrics/micrometer/pull/5746" data-hovercard-type="pull_request" data-hovercard-url="/micrometer-metrics/micrometer/pull/5746/hovercard">#5746</a>
* NPE occurs when AOP is applied to a method that returns CompletableFuture <a href="https://github.com/micrometer-metrics/micrometer/issues/5741" data-hovercard-type="issue" data-hovercard-url="/micrometer-metrics/micrometer/issues/5741/hovercard">#5741</a>
* Performance regression in <code>MeterRegistry#remove</code> with many meters <a href="https://github.com/micrometer-metrics/micrometer/issues/5466" data-hovercard-type="issue" data-hovercard-url="/micrometer-metrics/micrometer/issues/5466/hovercard">#5466</a>
* Exponential histogram throws ArrayIndexOutOfBoundsException <a href="https://github.com/micrometer-metrics/micrometer/issues/5740" data-hovercard-type="issue" data-hovercard-url="/micrometer-metrics/micrometer/issues/5740/hovercard">#5740</a>
* Do not leak OTLP types on public-facing API <a href="https://github.com/micrometer-metrics/micrometer/pull/5699" data-hovercard-type="pull_request" data-hovercard-url="/micrometer-metrics/micrometer/pull/5699/hovercard">#5699</a>

üî® Dependency Upgrades

* Bump software.amazon.awssdk:cloudwatch from 2.29.7 to 2.29.46 <a href="https://github.com/micrometer-metrics/micrometer/pull/5801" data-hovercard-type="pull_request" data-hovercard-url="/micrometer-metrics/micrometer/pull/5801/hovercard">#5801</a>
* Upgrade opentelemetry-proto to 1.4.0-alpha <a href="https://github.com/micrometer-metrics/micrometer/pull/5698" data-hovercard-type="pull_request" data-hovercard-url="/micrometer-metrics/micrometer/pull/5698/hovercard">#5698</a>
* Bump io.opentelemetry.proto:opentelemetry-proto from 1.4.0-alpha to 1.5.0-alpha <a href="https://github.com/micrometer-metrics/micrometer/pull/5798" data-hovercard-type="pull_request" data-hovercard-url="/micrometer-metrics/micrometer/pull/5798/hovercard">#5798</a>
* Bump com.netflix.spectator:spectator-reg-atlas from 1.8.1 to 1.8.3 <a href="https://github.com/micrometer-metrics/micrometer/pull/5797" data-hovercard-type="pull_request" data-hovercard-url="/micrometer-metrics/micrometer/pull/5797/hovercard">#5797</a>
* Bump com.google.auth:google-auth-library-oauth2-http from 1.29.0 to 1.30.1 <a href="https://github.com/micrometer-metrics/micrometer/pull/5779" data-hovercard-type="pull_request" data-hovercard-url="/micrometer-metrics/micrometer/pull/5779/hovercard">#5779</a>
* Bump com.google.cloud:google-cloud-monitoring from 3.54.0 to 3.56.0 <a href="https://github.com/micrometer-metrics/micrometer/pull/5776" data-hovercard-type="pull_request" data-hovercard-url="/micrometer-metrics/micrometer/pull/5776/hovercard">#5776</a>
* Bump org.jooq:jooq from 3.19.15 to 3.19.16 <a href="https://github.com/micrometer-metrics/micrometer/pull/5769" data-hovercard-type="pull_request" data-hovercard-url="/micrometer-metrics/micrometer/pull/5769/hovercard">#5769</a>
* Bump io.prometheus:prometheus-metrics-bom from 1.3.3 to 1.3.5 <a href="https://github.com/micrometer-metrics/micrometer/pull/5766" data-hovercard-type="pull_request" data-hovercard-url="/micrometer-metrics/micrometer/pull/5766/hovercard">#5766</a>
* Bump com.google.cloud:libraries-bom from 26.50.0 to 26.52.0 <a href="https://github.com/micrometer-metrics/micrometer/pull/5764" data-hovercard-type="pull_request" data-hovercard-url="/micrometer-metrics/micrometer/pull/5764/hovercard">#5764</a>
* Bump dropwizard-metrics from 4.2.28 to 4.2.29 <a href="https://github.com/micrometer-metrics/micrometer/pull/5712" data-hovercard-type="pull_request" data-hovercard-url="/micrometer-metrics/micrometer/pull/5712/hovercard">#5712</a>

üìî Documentation

* Polish <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2748983798" data-permission-text="Title is private" data-url="https://github.com/micrometer-metrics/micrometer/issues/5751" data-hovercard-type="pull_request" data-hovercard-url="/micrometer-metrics/micrometer/pull/5751/hovercard" href="https://github.com/micrometer-metrics/micrometer/pull/5751">gh-5751</a> <a href="https://github.com/micrometer-metrics/micrometer/pull/5760" data-hovercard-type="pull_request" data-hovercard-url="/micrometer-metrics/micrometer/pull/5760/hovercard">#5760</a>
* Improve docs for same name with different tags <a href="https://github.com/micrometer-metrics/micrometer/pull/5751" data-hovercard-type="pull_request" data-hovercard-url="/micrometer-metrics/micrometer/pull/5751/hovercard">#5751</a>
* Document no support for meta-annotations with <code>@Timed</code>/<code>@Counted</code> <a href="https://github.com/micrometer-metrics/micrometer/pull/5737" data-hovercard-type="pull_request" data-hovercard-url="/micrometer-metrics/micrometer/pull/5737/hovercard">#5737</a>
* Remove outdated warnings in docs for <code>@Counted</code>/<code>@Timed</code> <a href="https://github.com/micrometer-metrics/micrometer/pull/5736" data-hovercard-type="pull_request" data-hovercard-url="/micrometer-metrics/micrometer/pull/5736/hovercard">#5736</a>

‚ù§Ô∏è Contributors

Thank you to all the contributors who worked on this release:

<a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/cfredri4/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/cfredri4">@cfredri4</a>, <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/izeye/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/izeye">@izeye</a>, <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/ngocnhan-tran1996/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/ngocnhan-tran1996">@ngocnhan-tran1996</a>, <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/s-ste/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/s-ste">@s-ste</a>, and <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/ttddyy/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/ttddyy">@ttddyy</a>

