# 1.15.0

## release on 20250627

## description

## changes

Below includes changes from all milestones and release candidates for the 1.15.0 release.

‚≠ê New Features

* Further enhancement to OtlpMetricsSender <a href="https://github.com/micrometer-metrics/micrometer/pull/6025" data-hovercard-type="pull_request" data-hovercard-url="/micrometer-metrics/micrometer/pull/6025/hovercard">#6025</a>
* Make Prometheus Metric and Label naming conventions consistent <a href="https://github.com/micrometer-metrics/micrometer/issues/5923" data-hovercard-type="issue" data-hovercard-url="/micrometer-metrics/micrometer/issues/5923/hovercard">#5923</a>
* Metrics for Executors.newVirtualThreadPerTaskExecutor() <a href="https://github.com/micrometer-metrics/micrometer/issues/5488" data-hovercard-type="issue" data-hovercard-url="/micrometer-metrics/micrometer/issues/5488/hovercard">#5488</a>
* Metrics for live virtual threads <a href="https://github.com/micrometer-metrics/micrometer/issues/5950" data-hovercard-type="issue" data-hovercard-url="/micrometer-metrics/micrometer/issues/5950/hovercard">#5950</a>
* More flexible OTLP per meter configuration <a href="https://github.com/micrometer-metrics/micrometer/issues/6099" data-hovercard-type="issue" data-hovercard-url="/micrometer-metrics/micrometer/issues/6099/hovercard">#6099</a>
* Prometheus/OpenMetrics <code>_created</code> timestamp <a href="https://github.com/micrometer-metrics/micrometer/issues/2625" data-hovercard-type="issue" data-hovercard-url="/micrometer-metrics/micrometer/issues/2625/hovercard">#2625</a>
* Make jvm.classes.unloaded description generic <a href="https://github.com/micrometer-metrics/micrometer/pull/5745" data-hovercard-type="pull_request" data-hovercard-url="/micrometer-metrics/micrometer/pull/5745/hovercard">#5745</a>
* Use String.toLowerCase()/toUpperCase() with Locale.ROOT consistently <a href="https://github.com/micrometer-metrics/micrometer/pull/5711" data-hovercard-type="pull_request" data-hovercard-url="/micrometer-metrics/micrometer/pull/5711/hovercard">#5711</a>
* Use failWithActualExpectedAndMessage() where possible <a href="https://github.com/micrometer-metrics/micrometer/pull/5696" data-hovercard-type="pull_request" data-hovercard-url="/micrometer-metrics/micrometer/pull/5696/hovercard">#5696</a>
* Provide target host/port info in ObservationExecChainHandler when HttpHostConnectException is thrown <a href="https://github.com/micrometer-metrics/micrometer/issues/5615" data-hovercard-type="issue" data-hovercard-url="/micrometer-metrics/micrometer/issues/5615/hovercard">#5615</a>
* Enable Gauge builders to take a subclass of Number <a href="https://github.com/micrometer-metrics/micrometer/pull/5601" data-hovercard-type="pull_request" data-hovercard-url="/micrometer-metrics/micrometer/pull/5601/hovercard">#5601</a>
* micrometer-observation-test support for assertions on events <a href="https://github.com/micrometer-metrics/micrometer/issues/5576" data-hovercard-type="issue" data-hovercard-url="/micrometer-metrics/micrometer/issues/5576/hovercard">#5576</a>
* Log delta count in addition to throughput in LoggingMeterRegistry <a href="https://github.com/micrometer-metrics/micrometer/issues/5548" data-hovercard-type="issue" data-hovercard-url="/micrometer-metrics/micrometer/issues/5548/hovercard">#5548</a>
* Add peer name and port to gRPC observation contexts <a href="https://github.com/micrometer-metrics/micrometer/pull/3512" data-hovercard-type="pull_request" data-hovercard-url="/micrometer-metrics/micrometer/pull/3512/hovercard">#3512</a>
* Use direct equals call instead of Objects.equals wrapper <a href="https://github.com/micrometer-metrics/micrometer/pull/5840" data-hovercard-type="pull_request" data-hovercard-url="/micrometer-metrics/micrometer/pull/5840/hovercard">#5840</a>
* Remove special handling of 404/301 from JDK HTTP client instrumentation <a href="https://github.com/micrometer-metrics/micrometer/pull/5838" data-hovercard-type="pull_request" data-hovercard-url="/micrometer-metrics/micrometer/pull/5838/hovercard">#5838</a>
* Make Timer and LongTaskTimer output similar in LoggingMeterRegistry <a href="https://github.com/micrometer-metrics/micrometer/pull/5835" data-hovercard-type="pull_request" data-hovercard-url="/micrometer-metrics/micrometer/pull/5835/hovercard">#5835</a>
* Remove special handling of 404 and redirection statuses from Jetty client instrumentation <a href="https://github.com/micrometer-metrics/micrometer/pull/5825" data-hovercard-type="pull_request" data-hovercard-url="/micrometer-metrics/micrometer/pull/5825/hovercard">#5825</a>
* Log deprecation warning when creating SignalFxMeterRegistry <a href="https://github.com/micrometer-metrics/micrometer/pull/5824" data-hovercard-type="pull_request" data-hovercard-url="/micrometer-metrics/micrometer/pull/5824/hovercard">#5824</a>
* Log metrics recording failures in CountedAspect and TimedAspect <a href="https://github.com/micrometer-metrics/micrometer/issues/5820" data-hovercard-type="issue" data-hovercard-url="/micrometer-metrics/micrometer/issues/5820/hovercard">#5820</a>
* Remove special handling of 404/301 from OkHttp instrumentation <a href="https://github.com/micrometer-metrics/micrometer/pull/5814" data-hovercard-type="pull_request" data-hovercard-url="/micrometer-metrics/micrometer/pull/5814/hovercard">#5814</a>
* Support AutoShutdownDelegatedExecutorService in ExecutorServiceMetrics <a href="https://github.com/micrometer-metrics/micrometer/pull/5811" data-hovercard-type="pull_request" data-hovercard-url="/micrometer-metrics/micrometer/pull/5811/hovercard">#5811</a>
* Deprecate micrometer-registry-signalfx in favor of micrometer-registry-otlp <a href="https://github.com/micrometer-metrics/micrometer/issues/5807" data-hovercard-type="issue" data-hovercard-url="/micrometer-metrics/micrometer/issues/5807/hovercard">#5807</a>
* Rebind <code>Log4j2Metrics</code> when <code>LoggerContext#reconfigure</code> is called <a href="https://github.com/micrometer-metrics/micrometer/issues/5756" data-hovercard-type="issue" data-hovercard-url="/micrometer-metrics/micrometer/issues/5756/hovercard">#5756</a>
* Send metrics via any protocol in the OTLP Registry <a href="https://github.com/micrometer-metrics/micrometer/issues/5690" data-hovercard-type="issue" data-hovercard-url="/micrometer-metrics/micrometer/issues/5690/hovercard">#5690</a>
* Improve average performance of DefaultLongTaskTimer for out-of-order stopping <a href="https://github.com/micrometer-metrics/micrometer/pull/5591" data-hovercard-type="pull_request" data-hovercard-url="/micrometer-metrics/micrometer/pull/5591/hovercard">#5591</a>
* Improve OtlpMetricsSender API <a href="https://github.com/micrometer-metrics/micrometer/pull/5994" data-hovercard-type="pull_request" data-hovercard-url="/micrometer-metrics/micrometer/pull/5994/hovercard">#5994</a>
* Support configuring exponential histograms at the meter level <a href="https://github.com/micrometer-metrics/micrometer/issues/5459" data-hovercard-type="issue" data-hovercard-url="/micrometer-metrics/micrometer/issues/5459/hovercard">#5459</a>
* Allow TimedAspect/CountedAspect to create tags based on method result <a href="https://github.com/micrometer-metrics/micrometer/issues/3058" data-hovercard-type="issue" data-hovercard-url="/micrometer-metrics/micrometer/issues/3058/hovercard">#3058</a>

üêû Bug Fixes

* Do not leak OTLP types on public-facing API <a href="https://github.com/micrometer-metrics/micrometer/pull/5699" data-hovercard-type="pull_request" data-hovercard-url="/micrometer-metrics/micrometer/pull/5699/hovercard">#5699</a>
* micrometer-observation-test brings unnecessary JUnit dependencies, leading to conflicts <a href="https://github.com/micrometer-metrics/micrometer/issues/6012" data-hovercard-type="issue" data-hovercard-url="/micrometer-metrics/micrometer/issues/6012/hovercard">#6012</a>

üî® Dependency Upgrades

* Bump io.opentelemetry.proto:opentelemetry-proto from 1.4.0-alpha to 1.5.0-alpha <a href="https://github.com/micrometer-metrics/micrometer/pull/5798" data-hovercard-type="pull_request" data-hovercard-url="/micrometer-metrics/micrometer/pull/5798/hovercard">#5798</a>
* Bump com.google.cloud:libraries-bom from 26.55.0 to 26.56.0 <a href="https://github.com/micrometer-metrics/micrometer/pull/5991" data-hovercard-type="pull_request" data-hovercard-url="/micrometer-metrics/micrometer/pull/5991/hovercard">#5991</a>
* Bump com.google.cloud:google-cloud-monitoring from 3.59.0 to 3.60.0 <a href="https://github.com/micrometer-metrics/micrometer/pull/5986" data-hovercard-type="pull_request" data-hovercard-url="/micrometer-metrics/micrometer/pull/5986/hovercard">#5986</a>
* Bump com.google.auth:google-auth-library-oauth2-http from 1.32.1 to 1.33.0 <a href="https://github.com/micrometer-metrics/micrometer/pull/5963" data-hovercard-type="pull_request" data-hovercard-url="/micrometer-metrics/micrometer/pull/5963/hovercard">#5963</a>
* Bump software.amazon.awssdk:cloudwatch from 2.29.46 to 2.30.11 <a href="https://github.com/micrometer-metrics/micrometer/pull/5863" data-hovercard-type="pull_request" data-hovercard-url="/micrometer-metrics/micrometer/pull/5863/hovercard">#5863</a>

‚ù§Ô∏è Contributors

Thank you to all the contributors who worked on this release:

<a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/izeye/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/izeye">@izeye</a>, <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/ngocnhan-tran1996/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/ngocnhan-tran1996">@ngocnhan-tran1996</a>, <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/s-ste/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/s-ste">@s-ste</a>, <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/ttddyy/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/ttddyy">@ttddyy</a>, <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/big-cir/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/big-cir">@big-cir</a>, <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/breedx-splk/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/breedx-splk">@breedx-splk</a>, <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/fogninid/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/fogninid">@fogninid</a>, <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/turbanoff/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/turbanoff">@turbanoff</a>

