# v1.5.8

## release on 20250929
## description
## changes
Highlights 💡

Enhanced Tree Shaking for Nested Exports in Destructuring

Rspack now supports more precise tree shaking for nested exports accessed through destructuring assignments.

    // lib.js
    export * as a from "./a";
    export * as b from "./b";

    // index.js
    import * as lib from "./lib";
    // Before: All exports under `lib.a` were retained, only `lib.b` was tree-shaken
    // Now: Only the specific property `inner` from `lib.a` is kept; everything else is removed
    const { a: { inner } } = lib;

What's Changed

Performance Improvements ⚡

* perf: rspack sources buffer function by <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/SyMind/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/SyMind">@SyMind</a> in <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="3447305451" data-permission-text="Title is private" data-url="https://github.com/web-infra-dev/rspack/issues/11749" data-hovercard-type="pull_request" data-hovercard-url="/web-infra-dev/rspack/pull/11749/hovercard" href="https://github.com/web-infra-dev/rspack/pull/11749">#11749</a>
* perf: avoid unnecessary source map creation by <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/CPunisher/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/CPunisher">@CPunisher</a> in <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="3460988276" data-permission-text="Title is private" data-url="https://github.com/web-infra-dev/rspack/issues/11773" data-hovercard-type="pull_request" data-hovercard-url="/web-infra-dev/rspack/pull/11773/hovercard" href="https://github.com/web-infra-dev/rspack/pull/11773">#11773</a>

New Features 🎉

* feat: should retain source error name by <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/SyMind/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/SyMind">@SyMind</a> in <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="3452125715" data-permission-text="Title is private" data-url="https://github.com/web-infra-dev/rspack/issues/11762" data-hovercard-type="pull_request" data-hovercard-url="/web-infra-dev/rspack/pull/11762/hovercard" href="https://github.com/web-infra-dev/rspack/pull/11762">#11762</a>
* feat(parser): add <code>commonjs</code> options by <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/fi3ework/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/fi3ework">@fi3ework</a> in <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="3445735240" data-permission-text="Title is private" data-url="https://github.com/web-infra-dev/rspack/issues/11744" data-hovercard-type="pull_request" data-hovercard-url="/web-infra-dev/rspack/pull/11744/hovercard" href="https://github.com/web-infra-dev/rspack/pull/11744">#11744</a>
* feat: transform url in new URL without runtime by <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/JSerFeng/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/JSerFeng">@JSerFeng</a> in <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="3453113519" data-permission-text="Title is private" data-url="https://github.com/web-infra-dev/rspack/issues/11765" data-hovercard-type="pull_request" data-hovercard-url="/web-infra-dev/rspack/pull/11765/hovercard" href="https://github.com/web-infra-dev/rspack/pull/11765">#11765</a>
* feat: add experimental EsmLibraryPlugin for better esm output by <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/JSerFeng/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/JSerFeng">@JSerFeng</a> in <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="3059741464" data-permission-text="Title is private" data-url="https://github.com/web-infra-dev/rspack/issues/10350" data-hovercard-type="pull_request" data-hovercard-url="/web-infra-dev/rspack/pull/10350/hovercard" href="https://github.com/web-infra-dev/rspack/pull/10350">#10350</a>
* feat: tree shaking nested exports for destructuring assignment by <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/ahabhgk/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/ahabhgk">@ahabhgk</a> in <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="3461819982" data-permission-text="Title is private" data-url="https://github.com/web-infra-dev/rspack/issues/11781" data-hovercard-type="pull_request" data-hovercard-url="/web-infra-dev/rspack/pull/11781/hovercard" href="https://github.com/web-infra-dev/rspack/pull/11781">#11781</a>

Bug Fixes 🐞

* fix: cjs export require tree shaking by <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/ahabhgk/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/ahabhgk">@ahabhgk</a> in <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="3449197926" data-permission-text="Title is private" data-url="https://github.com/web-infra-dev/rspack/issues/11758" data-hovercard-type="pull_request" data-hovercard-url="/web-infra-dev/rspack/pull/11758/hovercard" href="https://github.com/web-infra-dev/rspack/pull/11758">#11758</a>
* fix: should always walk import then arguments by <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/ahabhgk/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/ahabhgk">@ahabhgk</a> in <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="3451869180" data-permission-text="Title is private" data-url="https://github.com/web-infra-dev/rspack/issues/11760" data-hovercard-type="pull_request" data-hovercard-url="/web-infra-dev/rspack/pull/11760/hovercard" href="https://github.com/web-infra-dev/rspack/pull/11760">#11760</a>
* fix: should update alias resolution when a higher-priority file is created in watch mode by <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/SyMind/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/SyMind">@SyMind</a> in <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="3405171351" data-permission-text="Title is private" data-url="https://github.com/web-infra-dev/rspack/issues/11643" data-hovercard-type="pull_request" data-hovercard-url="/web-infra-dev/rspack/pull/11643/hovercard" href="https://github.com/web-infra-dev/rspack/pull/11643">#11643</a>
* fix: should analyze correct variable for dynamic import by <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/ahabhgk/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/ahabhgk">@ahabhgk</a> in <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="3456494599" data-permission-text="Title is private" data-url="https://github.com/web-infra-dev/rspack/issues/11768" data-hovercard-type="pull_request" data-hovercard-url="/web-infra-dev/rspack/pull/11768/hovercard" href="https://github.com/web-infra-dev/rspack/pull/11768">#11768</a>
* fix: URLPlugin in child compiler by <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/SyMind/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/SyMind">@SyMind</a> in <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="3463435779" data-permission-text="Title is private" data-url="https://github.com/web-infra-dev/rspack/issues/11785" data-hovercard-type="pull_request" data-hovercard-url="/web-infra-dev/rspack/pull/11785/hovercard" href="https://github.com/web-infra-dev/rspack/pull/11785">#11785</a>

Refactor 🔨

* refactor: remove unused parameters and clean up code by <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/chenjiahan/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/chenjiahan">@chenjiahan</a> in <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="3448927420" data-permission-text="Title is private" data-url="https://github.com/web-infra-dev/rspack/issues/11756" data-hovercard-type="pull_request" data-hovercard-url="/web-infra-dev/rspack/pull/11756/hovercard" href="https://github.com/web-infra-dev/rspack/pull/11756">#11756</a>
* refactor: file counter save the resource id which used the file by <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/jerrykingxyz/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/jerrykingxyz">@jerrykingxyz</a> in <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="3449103571" data-permission-text="Title is private" data-url="https://github.com/web-infra-dev/rspack/issues/11757" data-hovercard-type="pull_request" data-hovercard-url="/web-infra-dev/rspack/pull/11757/hovercard" href="https://github.com/web-infra-dev/rspack/pull/11757">#11757</a>

Document Updates 📖

* docs: add commonjsMagicComments docs by <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/stormslowly/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/stormslowly">@stormslowly</a> in <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="3447854421" data-permission-text="Title is private" data-url="https://github.com/web-infra-dev/rspack/issues/11752" data-hovercard-type="pull_request" data-hovercard-url="/web-infra-dev/rspack/pull/11752/hovercard" href="https://github.com/web-infra-dev/rspack/pull/11752">#11752</a>
* docs: document parser jsx option by <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/fi3ework/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/fi3ework">@fi3ework</a> in <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="3456104838" data-permission-text="Title is private" data-url="https://github.com/web-infra-dev/rspack/issues/11767" data-hovercard-type="pull_request" data-hovercard-url="/web-infra-dev/rspack/pull/11767/hovercard" href="https://github.com/web-infra-dev/rspack/pull/11767">#11767</a>
* docs: add Snap to who is using section by <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/chenjiahan/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/chenjiahan">@chenjiahan</a> in <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="3461472126" data-permission-text="Title is private" data-url="https://github.com/web-infra-dev/rspack/issues/11777" data-hovercard-type="pull_request" data-hovercard-url="/web-infra-dev/rspack/pull/11777/hovercard" href="https://github.com/web-infra-dev/rspack/pull/11777">#11777</a>
* docs(style): remove unexpected borders on code block focus by <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/ritoban23/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/ritoban23">@ritoban23</a> in <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="3462510782" data-permission-text="Title is private" data-url="https://github.com/web-infra-dev/rspack/issues/11784" data-hovercard-type="pull_request" data-hovercard-url="/web-infra-dev/rspack/pull/11784/hovercard" href="https://github.com/web-infra-dev/rspack/pull/11784">#11784</a>

Other Changes

* test: remove simple tester by <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/LingyuCoder/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/LingyuCoder">@LingyuCoder</a> in <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="3447811384" data-permission-text="Title is private" data-url="https://github.com/web-infra-dev/rspack/issues/11751" data-hovercard-type="pull_request" data-hovercard-url="/web-infra-dev/rspack/pull/11751/hovercard" href="https://github.com/web-infra-dev/rspack/pull/11751">#11751</a>
* chore(deps): update dependency memfs to v4.46.0 by <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/renovate/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/renovate">@renovate</a>[bot] in <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="3437666960" data-permission-text="Title is private" data-url="https://github.com/web-infra-dev/rspack/issues/11721" data-hovercard-type="pull_request" data-hovercard-url="/web-infra-dev/rspack/pull/11721/hovercard" href="https://github.com/web-infra-dev/rspack/pull/11721">#11721</a>
* test: close compiler by <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/LingyuCoder/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/LingyuCoder">@LingyuCoder</a> in <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="3452165016" data-permission-text="Title is private" data-url="https://github.com/web-infra-dev/rspack/issues/11764" data-hovercard-type="pull_request" data-hovercard-url="/web-infra-dev/rspack/pull/11764/hovercard" href="https://github.com/web-infra-dev/rspack/pull/11764">#11764</a>
* chore(deps): lock file maintenance by <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/renovate/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/renovate">@renovate</a>[bot] in <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="3438395443" data-permission-text="Title is private" data-url="https://github.com/web-infra-dev/rspack/issues/11726" data-hovercard-type="pull_request" data-hovercard-url="/web-infra-dev/rspack/pull/11726/hovercard" href="https://github.com/web-infra-dev/rspack/pull/11726">#11726</a>
* test: add persistent cache symlink test case by <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/jerrykingxyz/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/jerrykingxyz">@jerrykingxyz</a> in <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="3456513919" data-permission-text="Title is private" data-url="https://github.com/web-infra-dev/rspack/issues/11769" data-hovercard-type="pull_request" data-hovercard-url="/web-infra-dev/rspack/pull/11769/hovercard" href="https://github.com/web-infra-dev/rspack/pull/11769">#11769</a>
* chore(deps): update swc by <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/renovate/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/renovate">@renovate</a>[bot] in <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="3446896997" data-permission-text="Title is private" data-url="https://github.com/web-infra-dev/rspack/issues/11747" data-hovercard-type="pull_request" data-hovercard-url="/web-infra-dev/rspack/pull/11747/hovercard" href="https://github.com/web-infra-dev/rspack/pull/11747">#11747</a>

New Contributors

* <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/ritoban23/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/ritoban23">@ritoban23</a> made their first contribution in <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="3462510782" data-permission-text="Title is private" data-url="https://github.com/web-infra-dev/rspack/issues/11784" data-hovercard-type="pull_request" data-hovercard-url="/web-infra-dev/rspack/pull/11784/hovercard" href="https://github.com/web-infra-dev/rspack/pull/11784">#11784</a>

<strong>Full Changelog</strong>: <a class="commit-link" href="https://github.com/web-infra-dev/rspack/compare/v1.5.7...v1.5.8"><tt>v1.5.7...v1.5.8</tt></a>

