# v1.3.1

## release on 20260128
## description
## changes
What's Changed

New Features üéâ

* feat(core): make delayAfterRunner configurable as agent parameter by <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/yuyutaotao/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/yuyutaotao">@yuyutaotao</a> in <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="3832186159" data-permission-text="Title is private" data-url="https://github.com/web-infra-dev/midscene/issues/1820" data-hovercard-type="pull_request" data-hovercard-url="/web-infra-dev/midscene/pull/1820/hovercard" href="https://github.com/web-infra-dev/midscene/pull/1820">#1820</a>
* feat(web-integration): add timeout parameter to connectNewTabWithUrl and connectCurrentTab methods by <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/quanru/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/quanru">@quanru</a> in <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="3838022624" data-permission-text="Title is private" data-url="https://github.com/web-infra-dev/midscene/issues/1838" data-hovercard-type="pull_request" data-hovercard-url="/web-infra-dev/midscene/pull/1838/hovercard" href="https://github.com/web-infra-dev/midscene/pull/1838">#1838</a>
* feat: prioritize inferring as app name when uncertain in Launch action by <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/frank-mupt/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/frank-mupt">@frank-mupt</a> in <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="3841696389" data-permission-text="Title is private" data-url="https://github.com/web-infra-dev/midscene/issues/1843" data-hovercard-type="pull_request" data-hovercard-url="/web-infra-dev/midscene/pull/1843/hovercard" href="https://github.com/web-infra-dev/midscene/pull/1843">#1843</a>
* feat(cli): set defaultViewportScale to 0 by <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/EAGzzyCSL/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/EAGzzyCSL">@EAGzzyCSL</a> in <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="3841607378" data-permission-text="Title is private" data-url="https://github.com/web-infra-dev/midscene/issues/1841" data-hovercard-type="pull_request" data-hovercard-url="/web-infra-dev/midscene/pull/1841/hovercard" href="https://github.com/web-infra-dev/midscene/pull/1841">#1841</a>
* feat: package name comparison logic by <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/frank-mupt/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/frank-mupt">@frank-mupt</a> in <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="3841717208" data-permission-text="Title is private" data-url="https://github.com/web-infra-dev/midscene/issues/1844" data-hovercard-type="pull_request" data-hovercard-url="/web-infra-dev/midscene/pull/1844/hovercard" href="https://github.com/web-infra-dev/midscene/pull/1844">#1844</a>
* feat(shared): added mergeAndNormalizeAppNameMapping helper function for normalizing and merging app name mappings by <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/frank-mupt/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/frank-mupt">@frank-mupt</a> in <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="3842116473" data-permission-text="Title is private" data-url="https://github.com/web-infra-dev/midscene/issues/1847" data-hovercard-type="pull_request" data-hovercard-url="/web-infra-dev/midscene/pull/1847/hovercard" href="https://github.com/web-infra-dev/midscene/pull/1847">#1847</a>
* feat(computer): add @midscene/computer package for PC desktop automation by <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/quanru/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/quanru">@quanru</a> in <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="3788275896" data-permission-text="Title is private" data-url="https://github.com/web-infra-dev/midscene/issues/1734" data-hovercard-type="pull_request" data-hovercard-url="/web-infra-dev/midscene/pull/1734/hovercard" href="https://github.com/web-infra-dev/midscene/pull/1734">#1734</a>
* feat(all): introduce useDeviceTimestamp args by <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/frank-mupt/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/frank-mupt">@frank-mupt</a> in <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="3854951961" data-permission-text="Title is private" data-url="https://github.com/web-infra-dev/midscene/issues/1857" data-hovercard-type="pull_request" data-hovercard-url="/web-infra-dev/midscene/pull/1857/hovercard" href="https://github.com/web-infra-dev/midscene/pull/1857">#1857</a>
* feat(android): real-time scrcpy screenshots with zero-buffering architecture by <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/quanru/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/quanru">@quanru</a> in <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="3861013897" data-permission-text="Title is private" data-url="https://github.com/web-infra-dev/midscene/issues/1869" data-hovercard-type="pull_request" data-hovercard-url="/web-infra-dev/midscene/pull/1869/hovercard" href="https://github.com/web-infra-dev/midscene/pull/1869">#1869</a>

Bug Fixes üêû

* fix(core): context in test cases by <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/EAGzzyCSL/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/EAGzzyCSL">@EAGzzyCSL</a> in <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="3833830824" data-permission-text="Title is private" data-url="https://github.com/web-infra-dev/midscene/issues/1824" data-hovercard-type="pull_request" data-hovercard-url="/web-infra-dev/midscene/pull/1824/hovercard" href="https://github.com/web-infra-dev/midscene/pull/1824">#1824</a>
* fix(core): replay scripts with error by <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/yuyutaotao/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/yuyutaotao">@yuyutaotao</a> in <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="3836393806" data-permission-text="Title is private" data-url="https://github.com/web-infra-dev/midscene/issues/1827" data-hovercard-type="pull_request" data-hovercard-url="/web-infra-dev/midscene/pull/1827/hovercard" href="https://github.com/web-infra-dev/midscene/pull/1827">#1827</a>
* fix(core): fix Launch and runAdbShell parameter types by <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/yuyutaotao/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/yuyutaotao">@yuyutaotao</a> in <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="3836233732" data-permission-text="Title is private" data-url="https://github.com/web-infra-dev/midscene/issues/1825" data-hovercard-type="pull_request" data-hovercard-url="/web-infra-dev/midscene/pull/1825/hovercard" href="https://github.com/web-infra-dev/midscene/pull/1825">#1825</a>
* fix(android): improve text input handling for Unicode and special characters by <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/quanru/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/quanru">@quanru</a> in <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="3837649363" data-permission-text="Title is private" data-url="https://github.com/web-infra-dev/midscene/issues/1833" data-hovercard-type="pull_request" data-hovercard-url="/web-infra-dev/midscene/pull/1833/hovercard" href="https://github.com/web-infra-dev/midscene/pull/1833">#1833</a>
* fix(report): remove conflicting height property to prevent timeline layout expansion by <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/quanru/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/quanru">@quanru</a> in <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="3837960192" data-permission-text="Title is private" data-url="https://github.com/web-infra-dev/midscene/issues/1836" data-hovercard-type="pull_request" data-hovercard-url="/web-infra-dev/midscene/pull/1836/hovercard" href="https://github.com/web-infra-dev/midscene/pull/1836">#1836</a>
* fix(ios): remove environment check to support remote WDA by <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/quanru/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/quanru">@quanru</a> in <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="3837824474" data-permission-text="Title is private" data-url="https://github.com/web-infra-dev/midscene/issues/1834" data-hovercard-type="pull_request" data-hovercard-url="/web-infra-dev/midscene/pull/1834/hovercard" href="https://github.com/web-infra-dev/midscene/pull/1834">#1834</a>
* fix(core): forbid 'complete-task' action-type and resolve mixed action/complete-task responses by <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/yuyutaotao/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/yuyutaotao">@yuyutaotao</a> in <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="3838020483" data-permission-text="Title is private" data-url="https://github.com/web-infra-dev/midscene/issues/1837" data-hovercard-type="pull_request" data-hovercard-url="/web-infra-dev/midscene/pull/1837/hovercard" href="https://github.com/web-infra-dev/midscene/pull/1837">#1837</a>
* fix(android): enhance screenshot validation for problematic devices by <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/quanru/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/quanru">@quanru</a> in <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="3831748654" data-permission-text="Title is private" data-url="https://github.com/web-infra-dev/midscene/issues/1816" data-hovercard-type="pull_request" data-hovercard-url="/web-infra-dev/midscene/pull/1816/hovercard" href="https://github.com/web-infra-dev/midscene/pull/1816">#1816</a>
* fix(shared): include svg tag index in xpath cache for multiple icons by <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/quanru/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/quanru">@quanru</a> in <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="3836437372" data-permission-text="Title is private" data-url="https://github.com/web-infra-dev/midscene/issues/1828" data-hovercard-type="pull_request" data-hovercard-url="/web-infra-dev/midscene/pull/1828/hovercard" href="https://github.com/web-infra-dev/midscene/pull/1828">#1828</a>
* fix(puppeteer): prevent screenshot hang on inactive tabs by <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/quanru/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/quanru">@quanru</a> in <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="3858976804" data-permission-text="Title is private" data-url="https://github.com/web-infra-dev/midscene/issues/1862" data-hovercard-type="pull_request" data-hovercard-url="/web-infra-dev/midscene/pull/1862/hovercard" href="https://github.com/web-infra-dev/midscene/pull/1862">#1862</a>

Document üìñ

* docs(core): fix anchor link bug by <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/yuyutaotao/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/yuyutaotao">@yuyutaotao</a> in <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="3836320437" data-permission-text="Title is private" data-url="https://github.com/web-infra-dev/midscene/issues/1826" data-hovercard-type="pull_request" data-hovercard-url="/web-infra-dev/midscene/pull/1826/hovercard" href="https://github.com/web-infra-dev/midscene/pull/1826">#1826</a>

Other Changes

* refactor(core): change LLM planning prompt output to XML format by <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/yuyutaotao/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/yuyutaotao">@yuyutaotao</a> in <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="3829242199" data-permission-text="Title is private" data-url="https://github.com/web-infra-dev/midscene/issues/1814" data-hovercard-type="pull_request" data-hovercard-url="/web-infra-dev/midscene/pull/1814/hovercard" href="https://github.com/web-infra-dev/midscene/pull/1814">#1814</a>
* chore(docs): agent.runYaml only parse tasks field by <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/EAGzzyCSL/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/EAGzzyCSL">@EAGzzyCSL</a> in <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="3840991650" data-permission-text="Title is private" data-url="https://github.com/web-infra-dev/midscene/issues/1839" data-hovercard-type="pull_request" data-hovercard-url="/web-infra-dev/midscene/pull/1839/hovercard" href="https://github.com/web-infra-dev/midscene/pull/1839">#1839</a>
* refactor(core): expose sleep in action space by <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/yuyutaotao/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/yuyutaotao">@yuyutaotao</a> in <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="3841371146" data-permission-text="Title is private" data-url="https://github.com/web-infra-dev/midscene/issues/1840" data-hovercard-type="pull_request" data-hovercard-url="/web-infra-dev/midscene/pull/1840/hovercard" href="https://github.com/web-infra-dev/midscene/pull/1840">#1840</a>
* feat(playwright): append browser name to test titles in multi-project reports by @Copilot in <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="3837951297" data-permission-text="Title is private" data-url="https://github.com/web-infra-dev/midscene/issues/1835" data-hovercard-type="pull_request" data-hovercard-url="/web-infra-dev/midscene/pull/1835/hovercard" href="https://github.com/web-infra-dev/midscene/pull/1835">#1835</a>
* chore(core): add auto-glm license by <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/EAGzzyCSL/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/EAGzzyCSL">@EAGzzyCSL</a> in <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="3841783270" data-permission-text="Title is private" data-url="https://github.com/web-infra-dev/midscene/issues/1846" data-hovercard-type="pull_request" data-hovercard-url="/web-infra-dev/midscene/pull/1846/hovercard" href="https://github.com/web-infra-dev/midscene/pull/1846">#1846</a>
* chore(ci): use GitHub variables for model configuration by <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/quanru/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/quanru">@quanru</a> in <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="3845565539" data-permission-text="Title is private" data-url="https://github.com/web-infra-dev/midscene/issues/1850" data-hovercard-type="pull_request" data-hovercard-url="/web-infra-dev/midscene/pull/1850/hovercard" href="https://github.com/web-infra-dev/midscene/pull/1850">#1850</a>
* chore(ci): upgrade Node.js version from 18 to 22 (LTS) by <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/quanru/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/quanru">@quanru</a> in <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="3854346503" data-permission-text="Title is private" data-url="https://github.com/web-infra-dev/midscene/issues/1854" data-hovercard-type="pull_request" data-hovercard-url="/web-infra-dev/midscene/pull/1854/hovercard" href="https://github.com/web-infra-dev/midscene/pull/1854">#1854</a>
* chore(docs): add AutoGLM insight model configuration guidance by <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/EAGzzyCSL/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/EAGzzyCSL">@EAGzzyCSL</a> in <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="3854744662" data-permission-text="Title is private" data-url="https://github.com/web-infra-dev/midscene/issues/1856" data-hovercard-type="pull_request" data-hovercard-url="/web-infra-dev/midscene/pull/1856/hovercard" href="https://github.com/web-infra-dev/midscene/pull/1856">#1856</a>
* chore(core): log usage when failed to parse content from model by <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/yuyutaotao/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/yuyutaotao">@yuyutaotao</a> in <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="3855858431" data-permission-text="Title is private" data-url="https://github.com/web-infra-dev/midscene/issues/1859" data-hovercard-type="pull_request" data-hovercard-url="/web-infra-dev/midscene/pull/1859/hovercard" href="https://github.com/web-infra-dev/midscene/pull/1859">#1859</a>
* refactor(core): refactor coordinate calc logic by <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/EAGzzyCSL/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/EAGzzyCSL">@EAGzzyCSL</a> in <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="3860349048" data-permission-text="Title is private" data-url="https://github.com/web-infra-dev/midscene/issues/1867" data-hovercard-type="pull_request" data-hovercard-url="/web-infra-dev/midscene/pull/1867/hovercard" href="https://github.com/web-infra-dev/midscene/pull/1867">#1867</a>
* chore(core): adjust assertion in aiAct by <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/yuyutaotao/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/yuyutaotao">@yuyutaotao</a> in <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="3863234150" data-permission-text="Title is private" data-url="https://github.com/web-infra-dev/midscene/issues/1872" data-hovercard-type="pull_request" data-hovercard-url="/web-infra-dev/midscene/pull/1872/hovercard" href="https://github.com/web-infra-dev/midscene/pull/1872">#1872</a>

New Contributors

* <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/frank-mupt/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/frank-mupt">@frank-mupt</a> made their first contribution in <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="3841696389" data-permission-text="Title is private" data-url="https://github.com/web-infra-dev/midscene/issues/1843" data-hovercard-type="pull_request" data-hovercard-url="/web-infra-dev/midscene/pull/1843/hovercard" href="https://github.com/web-infra-dev/midscene/pull/1843">#1843</a>

<strong>Full Changelog</strong>: <a class="commit-link" href="https://github.com/web-infra-dev/midscene/compare/v1.2.2...v1.3.1"><tt>v1.2.2...v1.3.1</tt></a>

