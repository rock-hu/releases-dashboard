# v4.0 Release 2

## release on 20240919

## description

## changes

Addresses a number of issue identified:

|                                                             Change                                                             |                                                                                                                                                Link (if available)                                                                                                                                                |
|--------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Grammatical fixes addressing missing spaces between sentences                                                                  |                                                                                                                                                                                                                                                                                                                   |
| Codeset and repo link added to descriptions for classes and objects                                                            |                                                                                                                                                                                                                                                                                                                   |
| References to <em>ISO_External_CodeSet.csv</em> replaced with <em>ISO_External_CodeSet</em> for consistency across files.      |                                                                                                                                                                                                                                                                                                                   |
| Descriptions updated to match spec pages                                                                                       |                                                                                                                                                                                                                                                                                                                   |
| Restored OBDomesticVRPDetails to v3 schema but using ISO 20022 Status codes as per v40_KI6                                     | <a href="https://openbankinguk.github.io/read-write-api-site3/v4.0/resources-and-data-models/vrp/domestic-vrps.html#obdomesticvrpdetails" rel="nofollow">OBDomesticVRPDetails</a> <a href="https://openbanking.atlassian.net/wiki/spaces/DZ/pages/47546479/Known+Specification+Issues" rel="nofollow">v40_KI6</a> |
| Fixed 'ASCP' typo in OBWriteFileResponse3                                                                                      |                                                                                                                                                                                                                                                                                                                   |
| Updated Standing order status values to match spec page tables                                                                 | <a href="https://openbankinguk.github.io/read-write-api-site3/v4.0/resources-and-data-models/pisp/domestic-standing-orders.html" rel="nofollow">Standing order</a>                                                                                                                                                |
| Updated MultiAuthorisation codeset to OBInternalStatus2Code                                                                    |                                                                                                                                                                                                                                                                                                                   |
| Updated payment-details schema to match the revert to v3 schema and aligned enums to ISO 20022 codesets                        | <a href="https://openbankinguk.github.io/read-write-api-site3/v4.0/profiles/payment-initiation-api-profile.html#obwritepaymentdetailsresponse1" rel="nofollow">OBWritePaymentDetailsResponse1</a>                                                                                                                 |
| Fixed broken GitHub link in OBWritePaymentDetails1 description                                                                 |                                                                                                                                                                                                                                                                                                                   |
| Removed 'ACSP' from Standing Order consent response                                                                            |                                                                                                                                                                                                                                                                                                                   |
| MandateRelatedInformation added as a mandatory object in Standing Order (both Domestic and International) to address v40_KI10  | <a href="https://openbanking.atlassian.net/wiki/spaces/DZ/pages/47546479/Known+Specification+Issues" rel="nofollow">v40_KI10</a>                                                                                                                                                                                  |
| Updated Standing Order payment status list to match spec page ordering                                                         | <a href="https://openbankinguk.github.io/read-write-api-site3/v4.0/resources-and-data-models/pisp/domestic-standing-orders.html#status-2" rel="nofollow">Standing order</a>                                                                                                                                       |
| Update Standing Order initiation block to match spec page ordering                                                             | <a href="https://openbankinguk.github.io/read-write-api-site3/v4.0/resources-and-data-models/pisp/domestic-standing-order-consents.html#uml-diagram-2" rel="nofollow">Standing Order</a>                                                                                                                          |
| Added missing AWUP to File payment consent status enum                                                                         |                                                                                                                                                                                                                                                                                                                   |
| Aligned Creditor Name length in International payments to spec page size.                                                      | <a href="https://openbankinguk.github.io/read-write-api-site3/v4.0/resources-and-data-models/pisp/international-payment-consents.html#data-dictionary" rel="nofollow">International Payment Data Sictionary</a>                                                                                                   |
| Removed 'Purpose' from International payments                                                                                  |                                                                                                                                                                                                                                                                                                                   |
| Aligned Creditor name max length to spec page size                                                                             |                                                                                                                                                                                                                                                                                                                   |
| Removed 'Path' field from International Scheduled payments                                                                     | <a href="https://openbankinguk.github.io/read-write-api-site3/v4.0/resources-and-data-models/pisp/domestic-scheduled-payment-consents.html" rel="nofollow">International Scheduled payments</a>                                                                                                                   |
| Updated Events server url to v4.0                                                                                              |                                                                                                                                                                                                                                                                                                                   |
| Removed CreditorAgent from VRP payloads as per KI v319_KI9                                                                     | <a href="https://openbanking.atlassian.net/wiki/spaces/DZ/pages/47546479/Known+Specification+Issues" rel="nofollow">v319_KI9</a>                                                                                                                                                                                  |
| Updated OBWriteInternationalStandingOrderResponse7 Status enum to match specs                                                  | <a href="https://openbankinguk.github.io/read-write-api-site3/v4.0/resources-and-data-models/pisp/international-standing-orders.html#data-dictionary-2" rel="nofollow">OBWriteInternationalStandingOrderResponse7</a>                                                                                             |
| Aligned OBWriteDomesticScheduledResponse5 Status enum to specs                                                                 | <a href="https://openbankinguk.github.io/read-write-api-site3/v4.0/resources-and-data-models/pisp/domestic-scheduled-payments.html#data-dictionary-2" rel="nofollow">OBWriteDomesticScheduledResponse5</a>                                                                                                        |
| Reverted File Payment details to use v3 payment-details response schema with ISO 20022 codes                                   | <a href="https://openbanking.atlassian.net/wiki/spaces/DZ/pages/47546479/Known+Specification+Issues" rel="nofollow">v40_KI6</a>                                                                                                                                                                                   |
| Updated status enum list for Funds Confirmation consent to match specs                                                         | <a href="https://openbankinguk.github.io/read-write-api-site3/v4.0/resources-and-data-models/cbpii/funds-confirmation-consent.html#overview" rel="nofollow">CBPII</a>                                                                                                                                             |
| VRP CreditorAccount/Name (OBCashAccountCreditor3) length updated to 70 to match spec page                                      | <a href="https://openbankinguk.github.io/read-write-api-site3/v4.0/resources-and-data-models/vrp/domestic-vrp-consents.html#obcashaccountcreditor3" rel="nofollow">OBCashAccountCreditor3</a>                                                                                                                     |
| VRP - OBCashAccountDebtorWithName updated to remove LEI and add Proxy                                                          |                                                                                                                                                                                                                                                                                                                   |
| Updated AISP OBRisk description to correctly reference Account Information instead of payments                                 |                                                                                                                                                                                                                                                                                                                   |
| Updated OBBalanceType1Code enum and corrected link                                                                             |                                                                                                                                                                                                                                                                                                                   |
| Matched LEI regex to spec page definition                                                                                      |                                                                                                                                                                                                                                                                                                                   |
| Aligned OBFrequency2Code to codeset listing                                                                                    |                                                                                                                                                                                                                                                                                                                   |
| Fixed SDHS typo in OBFileFormat enum                                                                                           |                                                                                                                                                                                                                                                                                                                   |
| Aligned OBBalanceType1Code enum values to codeset listing                                                                      |                                                                                                                                                                                                                                                                                                                   |
| Fixed AISP Transaction 'Type' schema                                                                                           |                                                                                                                                                                                                                                                                                                                   |
| Transactions CreditorAgent was missing LEI field                                                                               |                                                                                                                                                                                                                                                                                                                   |
| Updated RemittanceInformation2/Unstructured maxSize to match spec pages                                                        | <a href="https://openbankinguk.github.io/read-write-api-site3/v4.0/profiles/payment-initiation-api-profile.html#obremittanceinformation2" rel="nofollow">RemittanceInformation2</a>                                                                                                                               |
| AISP - Updated ExternalMandateStatus1Code enum list to match codeset                                                           |                                                                                                                                                                                                                                                                                                                   |
| AISP - Updated DirectDebits 'Name' field length to match spec pages size                                                       |                                                                                                                                                                                                                                                                                                                   |
| AISP - Corrected 'CountPerSide' typo which was present in PointInTime description                                              |                                                                                                                                                                                                                                                                                                                   |
| StandingOrder payload (OBStandingOrder6) updated to match spec pages                                                           | <a href="https://openbankinguk.github.io/read-write-api-site3/v4.0/resources-and-data-models/aisp/standing-orders.html#data-dictionary" rel="nofollow">OBStandingOrder6</a>                                                                                                                                       |
| PISP - Aligned OBRemittanceInformation2 to spec page definition                                                                | <a href="https://openbankinguk.github.io/read-write-api-site3/v4.0/profiles/payment-initiation-api-profile.html#obremittanceinformation2" rel="nofollow">OBRemittanceInformation2</a>                                                                                                                             |
| Removed duplicate pattern entry for x-fapi-auth-date header in CBPII                                                           |                                                                                                                                                                                                                                                                                                                   |
| Restored PaymentStatus/StatusDetail/Status to be mandatory                                                                     |                                                                                                                                                                                                                                                                                                                   |
| Changed ExternalPaymentTransactionStatus1Code codeset location from ISO_External_CodeSet to OB_Internal_CodeSet as per v40_KI9 | <a href="https://openbanking.atlassian.net/wiki/spaces/DZ/pages/47546479/Known+Specification+Issues" rel="nofollow">v40_KI9</a>                                                                                                                                                                                   |

