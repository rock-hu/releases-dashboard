# v4.0.1 - Release Candidate 1

## release on 20260105
## description
## changes
Changelog

v4.0.1 Release Candidate 1 - 2026-01-05

Added

* Added <code>NONE</code> to <code>OBFrequency2</code> in AIS

Removed

* Removed duplicate <code>WEEK</code> from <code>OBFrequency6Code</code> in PIS

v4.0.1 Draft 1 - 2025-11-20

Added

* Added clarity to file endpoint descriptions regarding ASPSPs specifying available content types. Affects  
  <code>200AccountsAccountIdStatementsStatementIdFileRead</code>, <code>200FilePaymentConsentsConsentIdFileRead</code>, and  
  <code>200FilePaymentsFilePaymentIdReportFileRead</code> (<a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="3616960581" data-permission-text="Title is private" data-url="https://github.com/OpenBankingUK/read-write-api-specs/issues/195" data-hovercard-type="pull_request" data-hovercard-url="/OpenBankingUK/read-write-api-specs/pull/195/hovercard" href="https://github.com/OpenBankingUK/read-write-api-specs/pull/195">#195</a>)
* Added a note to the top-level description of all swagger files about <em>conditional</em> and <em>required</em> fields (<a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="3638340257" data-permission-text="Title is private" data-url="https://github.com/OpenBankingUK/read-write-api-specs/issues/209" data-hovercard-type="pull_request" data-hovercard-url="/OpenBankingUK/read-write-api-specs/pull/209/hovercard" href="https://github.com/OpenBankingUK/read-write-api-specs/pull/209">#209</a>)
* <code>CRYP</code> added to <code>ExternalPurpose1Code</code>
* Added the following codes to <code>OBInternalStatementFeeType1Code</code>:
  * <code>UK.OBIE.InstalmentPlan</code>
  * <code>UK.OBIE.ReturnedPayment</code>
* Added the following codes to <code>OBInternalStatementInterestType1Code</code>:
  * <code>UK.OBIE.InstalmentPlan</code>
  * <code>UK.OBIE.MoneyTransfer</code>
* Added rate limit headers to all OpenAPI files
* Introduced a new <code>OBIntermediaryAgent</code> class which can appear up to 3 times in payload as <code>IntermediaryAgent1</code>,  
  <code>IntermediaryAgent2</code> and <code>IntermediaryAgent3</code>.
  * This is used in <code>OBReadTransaction6/Data/Transaction</code>
  * Returning these fields requires use of the <code>ReadTransactionDetail</code> permission
* Deprecated <code>PaymentContextCode</code> values have been reintroduced to VRP and PIS OpenAPI files.
  * For the avoidance of doubt - these values <strong>must not</strong> be accepted in a new consent and may only be accepted for  
    payment against a v3 VRP consent migrated to v4.
  * They may optionally be returned for a historical payment or consent migrated to v4 when using a <code>GET</code> request.
* <code>OBDomesticRefundAccount1</code> class definition added to the Payment Initiation and VRP OpenAPI files.
* <code>HTTP 422</code> has been added as a response code - this should be used when a duplicate Idempotency code is submitted.

Changed

* Standardized all regex patterns in YAML files to be surrounded by single quotes and on a single line, for robustness,  
  reliability and consistency (<a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="3612955865" data-permission-text="Title is private" data-url="https://github.com/OpenBankingUK/read-write-api-specs/issues/192" data-hovercard-type="pull_request" data-hovercard-url="/OpenBankingUK/read-write-api-specs/pull/192/hovercard" href="https://github.com/OpenBankingUK/read-write-api-specs/pull/192">#192</a>)
* Updated usages of <code>OBInternalConsentStatus1Code</code> in to use re-usable domain-specific consent status codes (<a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="3625075164" data-permission-text="Title is private" data-url="https://github.com/OpenBankingUK/read-write-api-specs/issues/204" data-hovercard-type="pull_request" data-hovercard-url="/OpenBankingUK/read-write-api-specs/pull/204/hovercard" href="https://github.com/OpenBankingUK/read-write-api-specs/pull/204">#204</a>).  
  Changed codes:
  * Changed to <code>OBInternalConsentStatus2Code</code> in all PIS consents except File Payments
  * Changed to <code>OBInternalConsentStatus3Code</code> in only PIS File Payments consents
* Remap <code>ReferredDocumentAmount</code> from <code>Int32</code> to <code>OBActiveCurrencyAndAmount_SimpleType</code> in AIS, PIS, & VRP (<a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="3625248035" data-permission-text="Title is private" data-url="https://github.com/OpenBankingUK/read-write-api-specs/issues/205" data-hovercard-type="pull_request" data-hovercard-url="/OpenBankingUK/read-write-api-specs/pull/205/hovercard" href="https://github.com/OpenBankingUK/read-write-api-specs/pull/205">#205</a>)
* Updated usages of <code>ExternalPaymentTransactionStatus1Code</code> for PIS and VRP to use re-usable endpoint-specific payment  
  status codes (<a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="3634362732" data-permission-text="Title is private" data-url="https://github.com/OpenBankingUK/read-write-api-specs/issues/208" data-hovercard-type="pull_request" data-hovercard-url="/OpenBankingUK/read-write-api-specs/pull/208/hovercard" href="https://github.com/OpenBankingUK/read-write-api-specs/pull/208">#208</a>). Codes changed:
  * <code>ExternalPaymentTransactionStatus1Code</code> used in Domestic Standing Orders and International Standing Orders
  * <code>ExternalPaymentTransactionStatus2Code</code> used in Domestic Scheduled Payments and International Scheduled Payments
  * <code>ExternalPaymentTransactionStatus3Code</code> used in Domestic Payments and International Payments
  * <code>ExternalPaymentTransactionStatus4Code</code> used in File Payments
  * <code>ExternalPaymentTransactionStatus5Code</code> used in Domestic VRP
* <code>Meta</code> and <code>Links</code> have been made conditional in the VRP OpenAPI file.
* VRP <code>OBCashAccountDebtorWithName</code> max length is increased from 70 to 350 characters and is no longer <code>mandatory</code>.
* Updated <code>ReferredDocumentInformation/LineDetails</code> string length to 2048 max characters.
* The <code>Refund</code> field in the Payment Initiation and VRP OpenAPI files has been updated to point to the newly added  
  <code>OBDomesticRefundAccount1</code> class.

Removed

* Remove legacy v3 artefact <code>OBAddressTypeCode</code> from Account Information (<a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="3624898962" data-permission-text="Title is private" data-url="https://github.com/OpenBankingUK/read-write-api-specs/issues/202" data-hovercard-type="pull_request" data-hovercard-url="/OpenBankingUK/read-write-api-specs/pull/202/hovercard" href="https://github.com/OpenBankingUK/read-write-api-specs/pull/202">#202</a>)
* Removed <code>x-fapi-financial-id</code> from the Event Notifications OpenAPI file.
* <code>CANC</code> removed from VRP payment status enum list

Fixed

* Fixed typo in <code>PointInTime</code> description from <code>CountPerSide</code> to <code>CountPerPeriod</code> in PIS (<a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="3613213535" data-permission-text="Title is private" data-url="https://github.com/OpenBankingUK/read-write-api-specs/issues/194" data-hovercard-type="pull_request" data-hovercard-url="/OpenBankingUK/read-write-api-specs/pull/194/hovercard" href="https://github.com/OpenBankingUK/read-write-api-specs/pull/194">#194</a>)
* Corrected description wording for <code>OBMandateRelatedInformation1/MandateIdentification</code> in PIS (<a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="3625018258" data-permission-text="Title is private" data-url="https://github.com/OpenBankingUK/read-write-api-specs/issues/203" data-hovercard-type="pull_request" data-hovercard-url="/OpenBankingUK/read-write-api-specs/pull/203/hovercard" href="https://github.com/OpenBankingUK/read-write-api-specs/pull/203">#203</a>)
* Fixed regex patterns to match the spec pages (<a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="3612955865" data-permission-text="Title is private" data-url="https://github.com/OpenBankingUK/read-write-api-specs/issues/192" data-hovercard-type="pull_request" data-hovercard-url="/OpenBankingUK/read-write-api-specs/pull/192/hovercard" href="https://github.com/OpenBankingUK/read-write-api-specs/pull/192">#192</a>):
  * Fixed missing <code>^</code> and <code>$</code> throughout PIS
  * Fixed <code>\</code> escaping in AIS

