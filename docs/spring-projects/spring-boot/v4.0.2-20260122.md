# v4.0.2

## release on 20260122
## description
## changes
:warning: Noteworthy Changes

* The dependency on <code>org.eclipse.jetty.ee11:jetty-ee11-servlets</code> has been removed from <code>spring-boot-jetty</code> as it was unnecessary and unused. If your application code depends on a class from <code>jetty-ee11-servlets</code>, declare a dependency on it in your build configuration. <a href="https://github.com/spring-projects/spring-boot/issues/48677" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/48677/hovercard">#48677</a>

üêû Bug Fixes

* No TransactionAutoConfiguration with spring-boot-starter-kafka for Spring Boot 4 <a href="https://github.com/spring-projects/spring-boot/issues/48880" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/48880/hovercard">#48880</a>
* Evaluation of bean conditions unnecessarily queries the bean factory for types that are not present <a href="https://github.com/spring-projects/spring-boot/issues/48840" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/48840/hovercard">#48840</a>
* When a bean condition references a type that is not present, it appears as ? in the condition evaluation report <a href="https://github.com/spring-projects/spring-boot/issues/48838" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/48838/hovercard">#48838</a>
* SessionAutoConfiguration creates a DefaultCookieSerializer with a default SameSite of null instead of Lax <a href="https://github.com/spring-projects/spring-boot/issues/48830" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/48830/hovercard">#48830</a>
* Setting graphql schema location to "classpath*:graphql/**/" causes failure due to incorrectly packaged test resource <a href="https://github.com/spring-projects/spring-boot/pull/48829" data-hovercard-type="pull_request" data-hovercard-url="/spring-projects/spring-boot/pull/48829/hovercard">#48829</a>
* Message interpolation by MVC and WebFlux's Validators does not work correctly in a native image <a href="https://github.com/spring-projects/spring-boot/issues/48828" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/48828/hovercard">#48828</a>
* CloudFoundry integration fails in Servlet-based web app without a dependency on spring-boot-starter-restclient <a href="https://github.com/spring-projects/spring-boot/issues/48826" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/48826/hovercard">#48826</a>
* RestTestClientAutoConfiguration and TestRestTemplateAutoConfiguration should be package-private <a href="https://github.com/spring-projects/spring-boot/issues/48820" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/48820/hovercard">#48820</a>
* SSL metrics are no longer auto-configured <a href="https://github.com/spring-projects/spring-boot/issues/48819" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/48819/hovercard">#48819</a>
* Actuator /info endpoint fails in Java 25 Native Image (VirtualThreadSchedulerMXBean support) <a href="https://github.com/spring-projects/spring-boot/issues/48812" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/48812/hovercard">#48812</a>
* DataSourceBuilder cannot create oracle.ucp.jdbc.PoolDataSourceImpl in a native image <a href="https://github.com/spring-projects/spring-boot/issues/48703" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/48703/hovercard">#48703</a>
* The spring-boot-cloudfoundry module should only have an optional dependency on spring-boot-security <a href="https://github.com/spring-projects/spring-boot/issues/48685" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/48685/hovercard">#48685</a>
* Application JAR created by extract command is not reproductible <a href="https://github.com/spring-projects/spring-boot/issues/48678" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/48678/hovercard">#48678</a>
* AOT processing of tests should not be disabled when 'skipTests' is set <a href="https://github.com/spring-projects/spring-boot/issues/48662" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/48662/hovercard">#48662</a>
* <code>@SpringBootTest</code>(webEnvironment = WebEnvironment.RANDOM_PORT) is no longer applied to the management server <a href="https://github.com/spring-projects/spring-boot/issues/48653" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/48653/hovercard">#48653</a>
* Fix zero-length byte buffer in InspectedContent <a href="https://github.com/spring-projects/spring-boot/issues/48650" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/48650/hovercard">#48650</a>
* Can no longer override JacksonJsonHttpMessageConverter with ServerHttpMessageConvertersCustomizer <a href="https://github.com/spring-projects/spring-boot/issues/48635" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/48635/hovercard">#48635</a>
* HttpServiceClientProperties incorrectly uses the <code>@ConfigurationProperties</code> annotation on a LinkedHashMap class <a href="https://github.com/spring-projects/spring-boot/issues/48616" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/48616/hovercard">#48616</a>
* spring-boot-micrometer-tracing-opentelemetry fails if spring-boot-opentelemetry isn't there <a href="https://github.com/spring-projects/spring-boot/issues/48585" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/48585/hovercard">#48585</a>
* App fails to start with starter-webmvc and starter-zipkin <a href="https://github.com/spring-projects/spring-boot/issues/48581" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/48581/hovercard">#48581</a>
* Micrometer test modules should have an api dependency on micrometer-observation-test <a href="https://github.com/spring-projects/spring-boot/issues/48386" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/48386/hovercard">#48386</a>

üìî Documentation

* Fix typo in REST client documentation <a href="https://github.com/spring-projects/spring-boot/pull/48907" data-hovercard-type="pull_request" data-hovercard-url="/spring-projects/spring-boot/pull/48907/hovercard">#48907</a>
* Remove duplicate word <a href="https://github.com/spring-projects/spring-boot/pull/48874" data-hovercard-type="pull_request" data-hovercard-url="/spring-projects/spring-boot/pull/48874/hovercard">#48874</a>
* Document support for configuring arguments passed to Docker Compose <a href="https://github.com/spring-projects/spring-boot/issues/48806" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/48806/hovercard">#48806</a>
* The documentation related to EnvironmentPostProcessor links to deprecated interface <a href="https://github.com/spring-projects/spring-boot/issues/48803" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/48803/hovercard">#48803</a>
* Update documentation for Buildpack's AOT Cache support <a href="https://github.com/spring-projects/spring-boot/issues/48769" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/48769/hovercard">#48769</a>
* Correct docs to use new location for error handling configuration properties <a href="https://github.com/spring-projects/spring-boot/pull/48767" data-hovercard-type="pull_request" data-hovercard-url="/spring-projects/spring-boot/pull/48767/hovercard">#48767</a>
* Document spring-boot-starter-cloudfoundry on Cloud Foundry Support Page <a href="https://github.com/spring-projects/spring-boot/issues/48675" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/48675/hovercard">#48675</a>
* Clarify javadoc to make it clear that HazelcastConfigCustomizer beans are only applied if Hazelcast is configured via a config file <a href="https://github.com/spring-projects/spring-boot/issues/48659" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/48659/hovercard">#48659</a>
* Example using excludeDevtools property should document that optional dependencies should be enabled <a href="https://github.com/spring-projects/spring-boot/issues/48641" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/48641/hovercard">#48641</a>
* Fix grammar and typos in the reference guide <a href="https://github.com/spring-projects/spring-boot/issues/48601" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/48601/hovercard">#48601</a>
* Update Tracing section for Spring Boot 4's modularity <a href="https://github.com/spring-projects/spring-boot/issues/48576" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/48576/hovercard">#48576</a>

üî® Dependency Upgrades

* Upgrade to Classmate 1.7.3 <a href="https://github.com/spring-projects/spring-boot/issues/48783" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/48783/hovercard">#48783</a>
* Upgrade to Elasticsearch Client 9.2.3 <a href="https://github.com/spring-projects/spring-boot/issues/48721" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/48721/hovercard">#48721</a>
* Upgrade to Hibernate 7.2.1.Final <a href="https://github.com/spring-projects/spring-boot/issues/48857" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/48857/hovercard">#48857</a>
* Upgrade to HttpClient5 5.5.2 <a href="https://github.com/spring-projects/spring-boot/issues/48784" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/48784/hovercard">#48784</a>
* Upgrade to Jackson 2 Bom 2.20.2 <a href="https://github.com/spring-projects/spring-boot/issues/48910" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/48910/hovercard">#48910</a>
* Upgrade to Jackson Bom 3.0.4 <a href="https://github.com/spring-projects/spring-boot/issues/48931" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/48931/hovercard">#48931</a>
* Upgrade to JUnit Jupiter 6.0.2 <a href="https://github.com/spring-projects/spring-boot/issues/48785" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/48785/hovercard">#48785</a>
* Upgrade to Lettuce 6.8.2.RELEASE <a href="https://github.com/spring-projects/spring-boot/issues/48859" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/48859/hovercard">#48859</a>
* Upgrade to Logback 1.5.24 <a href="https://github.com/spring-projects/spring-boot/issues/48786" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/48786/hovercard">#48786</a>
* Upgrade to Logback 1.5.25 <a href="https://github.com/spring-projects/spring-boot/issues/48885" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/48885/hovercard">#48885</a>
* Upgrade to Micrometer 1.16.2 <a href="https://github.com/spring-projects/spring-boot/issues/48712" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/48712/hovercard">#48712</a>
* Upgrade to Micrometer Tracing 1.6.2 <a href="https://github.com/spring-projects/spring-boot/issues/48713" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/48713/hovercard">#48713</a>
* Upgrade to Native Build Tools Plugin 0.11.4 <a href="https://github.com/spring-projects/spring-boot/issues/48911" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/48911/hovercard">#48911</a>
* Upgrade to Pooled JMS 3.1.9 <a href="https://github.com/spring-projects/spring-boot/issues/48787" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/48787/hovercard">#48787</a>
* Upgrade to Postgresql 42.7.9 <a href="https://github.com/spring-projects/spring-boot/issues/48886" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/48886/hovercard">#48886</a>
* Upgrade to R2DBC MSSQL 1.0.4.RELEASE <a href="https://github.com/spring-projects/spring-boot/issues/48858" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/48858/hovercard">#48858</a>
* Upgrade to Reactor Bom 2025.0.2 <a href="https://github.com/spring-projects/spring-boot/issues/48714" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/48714/hovercard">#48714</a>
* Upgrade to Spring AMQP 4.0.2 <a href="https://github.com/spring-projects/spring-boot/issues/48832" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/48832/hovercard">#48832</a>
* Upgrade to Spring Batch 6.0.2 <a href="https://github.com/spring-projects/spring-boot/issues/48715" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/48715/hovercard">#48715</a>
* Upgrade to Spring Data Bom 2025.1.2 <a href="https://github.com/spring-projects/spring-boot/issues/48716" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/48716/hovercard">#48716</a>
* Upgrade to Spring Framework 7.0.3 <a href="https://github.com/spring-projects/spring-boot/issues/48717" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/48717/hovercard">#48717</a>
* Upgrade to Spring GraphQL 2.0.2 <a href="https://github.com/spring-projects/spring-boot/issues/48718" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/48718/hovercard">#48718</a>
* Upgrade to Spring HATEOAS 3.0.2 <a href="https://github.com/spring-projects/spring-boot/issues/48834" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/48834/hovercard">#48834</a>
* Upgrade to Spring Integration 7.0.2 <a href="https://github.com/spring-projects/spring-boot/issues/48833" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/48833/hovercard">#48833</a>
* Upgrade to Spring Kafka 4.0.2 <a href="https://github.com/spring-projects/spring-boot/issues/48719" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/48719/hovercard">#48719</a>
* Upgrade to Spring Pulsar 2.0.2 <a href="https://github.com/spring-projects/spring-boot/issues/48720" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/48720/hovercard">#48720</a>
* Upgrade to WebJars Locator Lite 1.1.3 <a href="https://github.com/spring-projects/spring-boot/issues/48788" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/48788/hovercard">#48788</a>
* Upgrade to XML Maven Plugin 1.2.1 <a href="https://github.com/spring-projects/spring-boot/issues/48887" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/48887/hovercard">#48887</a>

‚ù§Ô∏è Contributors

Thank you to all the contributors who worked on this release:

<a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/GaoSSR/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/GaoSSR">@GaoSSR</a>, <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/ShaunHaldane/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/ShaunHaldane">@ShaunHaldane</a>, <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/Zuohuang-Cai/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/Zuohuang-Cai">@Zuohuang-Cai</a>, <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/izeye/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/izeye">@izeye</a>, <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/mspiess/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/mspiess">@mspiess</a>, <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/ngocnhan-tran1996/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/ngocnhan-tran1996">@ngocnhan-tran1996</a>, and <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/philipbolting/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/philipbolting">@philipbolting</a>

