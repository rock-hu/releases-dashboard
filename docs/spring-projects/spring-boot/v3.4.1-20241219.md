# v3.4.1

## release on 20241219

## description

## changes

üêû Bug Fixes

* KafkaProperties fail to build SSL properties when the bundle name is an empty string <a href="https://github.com/spring-projects/spring-boot/issues/43563" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/43563/hovercard">#43563</a>
* Diagnostics are poor when property resolution throws a ConversionFailedException <a href="https://github.com/spring-projects/spring-boot/issues/43559" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/43559/hovercard">#43559</a>
* SpringApplicationShutdownHandlers do not run in deterministic order <a href="https://github.com/spring-projects/spring-boot/issues/43536" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/43536/hovercard">#43536</a>
* Unable to find a <code>@SpringBootConfiguration</code> results in misleading error message <a href="https://github.com/spring-projects/spring-boot/issues/43507" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/43507/hovercard">#43507</a>
* With multiple ResourceHandlerRegistrationCustomizer beans in the context, only one of them is used <a href="https://github.com/spring-projects/spring-boot/issues/43497" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/43497/hovercard">#43497</a>
* Unable to use Docker Compose support when mixing dedicated and shared services <a href="https://github.com/spring-projects/spring-boot/issues/43472" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/43472/hovercard">#43472</a>
* Kafka dependency management does not include the kafka-server module <a href="https://github.com/spring-projects/spring-boot/issues/43454" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/43454/hovercard">#43454</a>
* Docker API version is incorrectly reported when '/_ping` calls fail and version should be fixed <a href="https://github.com/spring-projects/spring-boot/issues/43452" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/43452/hovercard">#43452</a>
* Methods to build producer / consumer properties from KafkaProperties are inconvienenent to use without an SSL bundle <a href="https://github.com/spring-projects/spring-boot/issues/43448" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/43448/hovercard">#43448</a>
* Failures in -Djarmode=tools do not consistently return a non-zero exit <a href="https://github.com/spring-projects/spring-boot/issues/43436" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/43436/hovercard">#43436</a>
* HttpComponentsClientHttpRequestFactoryBuilder replaces the existing defaultRequestConfigCustomizer rather than adding to it <a href="https://github.com/spring-projects/spring-boot/pull/43429" data-hovercard-type="pull_request" data-hovercard-url="/spring-projects/spring-boot/pull/43429/hovercard">#43429</a>
* spring-boot-maven-plugin sets imagePlatform even if it's empty <a href="https://github.com/spring-projects/spring-boot/pull/43424" data-hovercard-type="pull_request" data-hovercard-url="/spring-projects/spring-boot/pull/43424/hovercard">#43424</a>
* OnBeanCondition fails to match on annotations when using Scoped Proxies <a href="https://github.com/spring-projects/spring-boot/issues/43423" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/43423/hovercard">#43423</a>
* Failure analysis for InvalidConfigurationPropertyValueException doesn't correctly handle fuzzy matching of environment variables <a href="https://github.com/spring-projects/spring-boot/issues/43382" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/43382/hovercard">#43382</a>
* H2ConsoleAutoConfiguration causes early initialization of DataSource beans <a href="https://github.com/spring-projects/spring-boot/issues/43359" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/43359/hovercard">#43359</a>
* Accept progress on numbers >2GB <a href="https://github.com/spring-projects/spring-boot/issues/43356" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/43356/hovercard">#43356</a>
* Servlet-based UserDetailsServiceAutoConfiguration is active in a reactive app <a href="https://github.com/spring-projects/spring-boot/pull/43334" data-hovercard-type="pull_request" data-hovercard-url="/spring-projects/spring-boot/pull/43334/hovercard">#43334</a>
* StructuredLoggingJsonMembersCustomizer implementations declared in spring.factories with a generic type more specific than Object are not called <a href="https://github.com/spring-projects/spring-boot/issues/43312" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/43312/hovercard">#43312</a>
* Overriding log level with an environment variable does not work when using an environment prefix <a href="https://github.com/spring-projects/spring-boot/issues/43307" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/43307/hovercard">#43307</a>
* Management endpoint access and enabled properties are ignored unless the endpoint ID is an exact match <a href="https://github.com/spring-projects/spring-boot/issues/43302" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/43302/hovercard">#43302</a>
* UnsupportedOperationException when starting a Maven shaded application on Java 21 with virtual threads enabled <a href="https://github.com/spring-projects/spring-boot/issues/43291" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/43291/hovercard">#43291</a>
* JmsListener failing with Narayana (pooled ConnectionFactory) since 3.4.0 <a href="https://github.com/spring-projects/spring-boot/issues/43277" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/43277/hovercard">#43277</a>
* SslBundle can no longer open store file locations without using a 'file:' prefix <a href="https://github.com/spring-projects/spring-boot/issues/43274" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/43274/hovercard">#43274</a>
* TestRestTemplate does not allow redirects to be customized <a href="https://github.com/spring-projects/spring-boot/pull/43258" data-hovercard-type="pull_request" data-hovercard-url="/spring-projects/spring-boot/pull/43258/hovercard">#43258</a>
* Testcontainers start() methods may be started multiple times <a href="https://github.com/spring-projects/spring-boot/issues/43253" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/43253/hovercard">#43253</a>

üìî Documentation

* Fix typo in documentation <a href="https://github.com/spring-projects/spring-boot/issues/43558" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/43558/hovercard">#43558</a>
* Document that server.ssl.cipher and server.ssl.enabled-protocols are not fallbacks used with SSL bundles <a href="https://github.com/spring-projects/spring-boot/issues/43552" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/43552/hovercard">#43552</a>
* Use <code>&lt;annotationProcessorPaths&gt;</code> in Maven examples for configuring an annotation processor <a href="https://github.com/spring-projects/spring-boot/issues/43544" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/43544/hovercard">#43544</a>
* Fix typo <a href="https://github.com/spring-projects/spring-boot/issues/43519" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/43519/hovercard">#43519</a>
* Links to logback javadoc are incorrect <a href="https://github.com/spring-projects/spring-boot/issues/43456" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/43456/hovercard">#43456</a>
* Fix JUnit javadoc links <a href="https://github.com/spring-projects/spring-boot/issues/43428" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/43428/hovercard">#43428</a>
* Reference documentation incorrectly uses 'disabled' rather than 'none' for access restrictions <a href="https://github.com/spring-projects/spring-boot/issues/43351" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/43351/hovercard">#43351</a>
* Restore System property in Logging section of the reference documentation <a href="https://github.com/spring-projects/spring-boot/issues/43342" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/43342/hovercard">#43342</a>
* Fix link to proxyBeanMethods in <code>@AutoConfiguration</code> javadoc <a href="https://github.com/spring-projects/spring-boot/issues/43325" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/43325/hovercard">#43325</a>
* Fix links to Servlet and JPA javadoc <a href="https://github.com/spring-projects/spring-boot/issues/43324" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/43324/hovercard">#43324</a>
* Link to <code>@EnableMethodSecurity</code> instead of the deprecated <code>@EnableGlobalMethodSecurity</code> <a href="https://github.com/spring-projects/spring-boot/issues/43315" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/43315/hovercard">#43315</a>
* Document that StructuredLoggingJsonMembersCustomizer implementations may optionally take constructor parameters <a href="https://github.com/spring-projects/spring-boot/pull/43314" data-hovercard-type="pull_request" data-hovercard-url="/spring-projects/spring-boot/pull/43314/hovercard">#43314</a>
* Update javadoc of StructuredLoggingJsonMembersCustomizer to note that implementations can registered through spring.factories <a href="https://github.com/spring-projects/spring-boot/pull/43313" data-hovercard-type="pull_request" data-hovercard-url="/spring-projects/spring-boot/pull/43313/hovercard">#43313</a>
* Fix Javadoc link for Hikari <a href="https://github.com/spring-projects/spring-boot/issues/43311" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/43311/hovercard">#43311</a>
* Document how to use structured logging with custom log configuration <a href="https://github.com/spring-projects/spring-boot/pull/43301" data-hovercard-type="pull_request" data-hovercard-url="/spring-projects/spring-boot/pull/43301/hovercard">#43301</a>
* Update Javadoc since for OtlpMetricsProperties and OtlpTracingProperties <a href="https://github.com/spring-projects/spring-boot/pull/43249" data-hovercard-type="pull_request" data-hovercard-url="/spring-projects/spring-boot/pull/43249/hovercard">#43249</a>

üî® Dependency Upgrades

* Upgrade to Byte Buddy 1.15.11 <a href="https://github.com/spring-projects/spring-boot/issues/43529" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/43529/hovercard">#43529</a>
* Upgrade to Couchbase Client 3.7.6 <a href="https://github.com/spring-projects/spring-boot/issues/43500" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/43500/hovercard">#43500</a>
* Upgrade to CycloneDX Maven Plugin 2.9.1 <a href="https://github.com/spring-projects/spring-boot/issues/43398" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/43398/hovercard">#43398</a>
* Upgrade to Dependency Management Plugin 1.1.7 <a href="https://github.com/spring-projects/spring-boot/issues/43543" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/43543/hovercard">#43543</a>
* Upgrade to Elasticsearch Client 8.15.5 <a href="https://github.com/spring-projects/spring-boot/issues/43399" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/43399/hovercard">#43399</a>
* Upgrade to Hibernate 6.6.4.Final <a href="https://github.com/spring-projects/spring-boot/issues/43566" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/43566/hovercard">#43566</a>
* Upgrade to Hibernate Validator 8.0.2.Final <a href="https://github.com/spring-projects/spring-boot/issues/43510" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/43510/hovercard">#43510</a>
* Upgrade to Jackson Bom 2.18.2 <a href="https://github.com/spring-projects/spring-boot/issues/43401" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/43401/hovercard">#43401</a>
* Upgrade to Jetty 12.0.16 <a href="https://github.com/spring-projects/spring-boot/issues/43488" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/43488/hovercard">#43488</a>
* Upgrade to jOOQ 3.19.16 <a href="https://github.com/spring-projects/spring-boot/issues/43468" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/43468/hovercard">#43468</a>
* Upgrade to JUnit Jupiter 5.11.4 <a href="https://github.com/spring-projects/spring-boot/issues/43530" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/43530/hovercard">#43530</a>
* Upgrade to Log4j2 2.24.3 <a href="https://github.com/spring-projects/spring-boot/issues/43501" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/43501/hovercard">#43501</a>
* Upgrade to Micrometer 1.14.2 <a href="https://github.com/spring-projects/spring-boot/issues/43408" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/43408/hovercard">#43408</a>
* Upgrade to Micrometer Tracing 1.4.1 <a href="https://github.com/spring-projects/spring-boot/issues/43409" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/43409/hovercard">#43409</a>
* Upgrade to Native Build Tools Plugin 0.10.4 <a href="https://github.com/spring-projects/spring-boot/issues/43403" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/43403/hovercard">#43403</a>
* Upgrade to Netty 4.1.116.Final <a href="https://github.com/spring-projects/spring-boot/issues/43548" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/43548/hovercard">#43548</a>
* Upgrade to Prometheus Client 1.3.5 <a href="https://github.com/spring-projects/spring-boot/issues/43503" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/43503/hovercard">#43503</a>
* Upgrade to Pulsar 3.3.3 <a href="https://github.com/spring-projects/spring-boot/issues/43405" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/43405/hovercard">#43405</a>
* Upgrade to Pulsar Reactive 0.5.10 <a href="https://github.com/spring-projects/spring-boot/issues/43539" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/43539/hovercard">#43539</a>
* Upgrade to Reactor Bom 2024.0.1 <a href="https://github.com/spring-projects/spring-boot/issues/43410" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/43410/hovercard">#43410</a>
* Upgrade to RxJava3 3.1.10 <a href="https://github.com/spring-projects/spring-boot/issues/43406" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/43406/hovercard">#43406</a>
* Upgrade to Spring AMQP 3.2.1 <a href="https://github.com/spring-projects/spring-boot/issues/43411" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/43411/hovercard">#43411</a>
* Upgrade to Spring Authorization Server 1.4.1 <a href="https://github.com/spring-projects/spring-boot/issues/43412" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/43412/hovercard">#43412</a>
* Upgrade to Spring Batch 5.2.1 <a href="https://github.com/spring-projects/spring-boot/issues/43477" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/43477/hovercard">#43477</a>
* Upgrade to Spring Data Bom 2024.1.1 <a href="https://github.com/spring-projects/spring-boot/issues/43413" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/43413/hovercard">#43413</a>
* Upgrade to Spring Framework 6.2.1 <a href="https://github.com/spring-projects/spring-boot/issues/43414" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/43414/hovercard">#43414</a>
* Upgrade to Spring HATEOAS 2.4.1 <a href="https://github.com/spring-projects/spring-boot/issues/43478" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/43478/hovercard">#43478</a>
* Upgrade to Spring Integration 6.4.1 <a href="https://github.com/spring-projects/spring-boot/issues/43415" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/43415/hovercard">#43415</a>
* Upgrade to Spring Kafka 3.3.1 <a href="https://github.com/spring-projects/spring-boot/issues/43416" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/43416/hovercard">#43416</a>
* Upgrade to Spring LDAP 3.2.10 <a href="https://github.com/spring-projects/spring-boot/issues/43417" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/43417/hovercard">#43417</a>
* Upgrade to Spring Pulsar 1.2.1 <a href="https://github.com/spring-projects/spring-boot/issues/43418" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/43418/hovercard">#43418</a>
* Upgrade to Spring Retry 2.0.11 <a href="https://github.com/spring-projects/spring-boot/issues/43486" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/43486/hovercard">#43486</a>
* Upgrade to Spring Security 6.4.2 <a href="https://github.com/spring-projects/spring-boot/issues/43419" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/43419/hovercard">#43419</a>
* Upgrade to Spring Session 3.4.1 <a href="https://github.com/spring-projects/spring-boot/issues/43420" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/43420/hovercard">#43420</a>
* Upgrade to SQLite JDBC 3.47.1.0 <a href="https://github.com/spring-projects/spring-boot/issues/43407" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/43407/hovercard">#43407</a>
* Upgrade to Thymeleaf 3.1.3.RELEASE <a href="https://github.com/spring-projects/spring-boot/issues/43469" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/43469/hovercard">#43469</a>
* Upgrade to Thymeleaf Extras SpringSecurity 3.1.3.RELEASE <a href="https://github.com/spring-projects/spring-boot/issues/43470" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/43470/hovercard">#43470</a>
* Upgrade to Tomcat 10.1.34 <a href="https://github.com/spring-projects/spring-boot/issues/43471" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/43471/hovercard">#43471</a>
* Upgrade to Zipkin Reporter 3.4.3 <a href="https://github.com/spring-projects/spring-boot/issues/43467" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/43467/hovercard">#43467</a>

‚ù§Ô∏è Contributors

Thank you to all the contributors who worked on this release:

<a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/BenchmarkingBuffalo/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/BenchmarkingBuffalo">@BenchmarkingBuffalo</a>, <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/Jae-Young98/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/Jae-Young98">@Jae-Young98</a>, <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/arefbehboudi/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/arefbehboudi">@arefbehboudi</a>, <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/izeye/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/izeye">@izeye</a>, <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/kgb-financial-com/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/kgb-financial-com">@kgb-financial-com</a>, <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/minwoo1999/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/minwoo1999">@minwoo1999</a>, <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/ngocnhan-tran1996/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/ngocnhan-tran1996">@ngocnhan-tran1996</a>, <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/nosan/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/nosan">@nosan</a>, <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/onobc/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/onobc">@onobc</a>, <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/quaff/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/quaff">@quaff</a>, <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/scordio/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/scordio">@scordio</a>, <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/sobychacko/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/sobychacko">@sobychacko</a>, and <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/vonZeppelin/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vonZeppelin">@vonZeppelin</a>

