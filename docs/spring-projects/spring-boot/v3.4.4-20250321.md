# v3.4.4

## release on 20250321
## description
## changes
‚ùó Noteworthy Changes

Tomcat APR support is now disabled by default if you are using Java 24 or higher. This change has been made to prevent JDK from issuing warnings.

Please see <a href="https://github.com/spring-projects/spring-boot/wiki/Spring-Boot-3.4-Release-Notes#tomcat-apr">the updated release notes</a> for details.

üêû Bug Fixes

* Actuator throws an exception when using prototype scoped DataSource bean <a href="https://github.com/spring-projects/spring-boot/issues/44706" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/44706/hovercard">#44706</a>
* Docker API error message is missing in some cases <a href="https://github.com/spring-projects/spring-boot/issues/44630" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/44630/hovercard">#44630</a>
* DefaultJmsListenerContainerFactoryConfigurer#setObservationRegistry should not be public <a href="https://github.com/spring-projects/spring-boot/issues/44585" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/44585/hovercard">#44585</a>
* When an application contains multiple DataSource beans, EntityManagerFactoryBuilder will default ddl-auto to a value that may only be appropriate for the primary DataSource <a href="https://github.com/spring-projects/spring-boot/issues/44516" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/44516/hovercard">#44516</a>
* When the main class is not proxied, native testing that uses the application's main method does not work <a href="https://github.com/spring-projects/spring-boot/issues/44481" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/44481/hovercard">#44481</a>
* When loading configuration from a Resource, Log4J2LoggingSystem may not close the InputStream <a href="https://github.com/spring-projects/spring-boot/issues/44473" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/44473/hovercard">#44473</a>
* When loading from a resource, PemContent does not close the InputStream <a href="https://github.com/spring-projects/spring-boot/issues/44454" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/44454/hovercard">#44454</a>
* ResourceBanner does not close the InputStream used to read the banner <a href="https://github.com/spring-projects/spring-boot/issues/44452" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/44452/hovercard">#44452</a>
* ConfigDataLocationResolvers and PropertySourceLoaders are loaded using a potentially different class loader <a href="https://github.com/spring-projects/spring-boot/issues/44450" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/44450/hovercard">#44450</a>
* Kafka message sending fails with 'class SslBundleSslEngineFactory could not be found' <a href="https://github.com/spring-projects/spring-boot/issues/44437" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/44437/hovercard">#44437</a>
* Kafka in native-image fails when using SSL bundles <a href="https://github.com/spring-projects/spring-boot/issues/44436" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/44436/hovercard">#44436</a>
* Nested test classes don't inherit properties from <code>@DataJpaTest</code> on enclosing class <a href="https://github.com/spring-projects/spring-boot/issues/44407" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/44407/hovercard">#44407</a>
* Failure diagnostics are poor when trying to use an image platform that is not supported by the builder <a href="https://github.com/spring-projects/spring-boot/issues/44059" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/44059/hovercard">#44059</a>
* Checking if APR is available logs a warning on Java 24 <a href="https://github.com/spring-projects/spring-boot/issues/44033" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/44033/hovercard">#44033</a>

üìî Documentation

* Multiline properties in documentation are missing backslashes <a href="https://github.com/spring-projects/spring-boot/issues/44790" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/44790/hovercard">#44790</a>
* Polish javadoc of SqlR2dbcScriptDatabaseInitializer <a href="https://github.com/spring-projects/spring-boot/issues/44764" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/44764/hovercard">#44764</a>
* Document support for Java 24 <a href="https://github.com/spring-projects/spring-boot/issues/44754" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/44754/hovercard">#44754</a>
* Remove OpenShift link that 404s <a href="https://github.com/spring-projects/spring-boot/issues/44748" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/44748/hovercard">#44748</a>
* Fix link to javadoc for JavaExec.setArgsString <a href="https://github.com/spring-projects/spring-boot/issues/44536" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/44536/hovercard">#44536</a>
* Fix typo in documentation <a href="https://github.com/spring-projects/spring-boot/issues/44523" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/44523/hovercard">#44523</a>
* Update descriptions of properties that no longer require Flyway Teams <a href="https://github.com/spring-projects/spring-boot/issues/44483" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/44483/hovercard">#44483</a>
* Fix typo in javadoc of CommonStructuredLogFormat#ELASTIC_COMMON_SCHEMA <a href="https://github.com/spring-projects/spring-boot/pull/44469" data-hovercard-type="pull_request" data-hovercard-url="/spring-projects/spring-boot/pull/44469/hovercard">#44469</a>
* Samples for metadata annotation processers have invalid fold attribute <a href="https://github.com/spring-projects/spring-boot/issues/44420" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/44420/hovercard">#44420</a>
* Clarify which Mongo properties are ignored when URI property is set <a href="https://github.com/spring-projects/spring-boot/issues/44404" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/44404/hovercard">#44404</a>
* Adapt Javadoc reference of JooqExceptionTranslator to use ExceptionTranslatorExecuteListener <a href="https://github.com/spring-projects/spring-boot/issues/44402" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/44402/hovercard">#44402</a>

üî® Dependency Upgrades

* Upgrade to ActiveMQ 6.1.6 <a href="https://github.com/spring-projects/spring-boot/issues/44663" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/44663/hovercard">#44663</a>
* Upgrade to AspectJ 1.9.23 <a href="https://github.com/spring-projects/spring-boot/issues/44720" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/44720/hovercard">#44720</a>
* Upgrade to Groovy 4.0.26 <a href="https://github.com/spring-projects/spring-boot/issues/44546" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/44546/hovercard">#44546</a>
* Upgrade to Hibernate 6.6.11.Final <a href="https://github.com/spring-projects/spring-boot/issues/44739" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/44739/hovercard">#44739</a>
* Upgrade to Infinispan 15.0.14.Final <a href="https://github.com/spring-projects/spring-boot/issues/44548" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/44548/hovercard">#44548</a>
* Upgrade to Jackson Bom 2.18.3 <a href="https://github.com/spring-projects/spring-boot/issues/44549" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/44549/hovercard">#44549</a>
* Upgrade to Jetty 12.0.18 <a href="https://github.com/spring-projects/spring-boot/issues/44774" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/44774/hovercard">#44774</a>
* Upgrade to Jetty Reactive HTTPClient 4.0.9 <a href="https://github.com/spring-projects/spring-boot/issues/44773" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/44773/hovercard">#44773</a>
* Upgrade to jOOQ 3.19.21 <a href="https://github.com/spring-projects/spring-boot/issues/44665" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/44665/hovercard">#44665</a>
* Upgrade to Logback 1.5.18 <a href="https://github.com/spring-projects/spring-boot/issues/44775" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/44775/hovercard">#44775</a>
* Upgrade to Maven Deploy Plugin 3.1.4 <a href="https://github.com/spring-projects/spring-boot/issues/44552" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/44552/hovercard">#44552</a>
* Upgrade to Maven Install Plugin 3.1.4 <a href="https://github.com/spring-projects/spring-boot/issues/44553" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/44553/hovercard">#44553</a>
* Upgrade to Micrometer 1.14.5 <a href="https://github.com/spring-projects/spring-boot/issues/44565" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/44565/hovercard">#44565</a>
* Upgrade to Micrometer Tracing 1.4.4 <a href="https://github.com/spring-projects/spring-boot/issues/44566" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/44566/hovercard">#44566</a>
* Upgrade to Native Build Tools Plugin 0.10.6 <a href="https://github.com/spring-projects/spring-boot/issues/44708" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/44708/hovercard">#44708</a>
* Upgrade to Neo4j Java Driver 5.28.3 <a href="https://github.com/spring-projects/spring-boot/issues/44691" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/44691/hovercard">#44691</a>
* Upgrade to Netty 4.1.119.Final <a href="https://github.com/spring-projects/spring-boot/issues/44554" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/44554/hovercard">#44554</a>
* Upgrade to Pulsar 3.3.5 <a href="https://github.com/spring-projects/spring-boot/issues/44555" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/44555/hovercard">#44555</a>
* Upgrade to Reactor Bom 2024.0.4 <a href="https://github.com/spring-projects/spring-boot/issues/44567" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/44567/hovercard">#44567</a>
* Upgrade to SLF4J 2.0.17 <a href="https://github.com/spring-projects/spring-boot/issues/44556" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/44556/hovercard">#44556</a>
* Upgrade to Spring AMQP 3.2.4 <a href="https://github.com/spring-projects/spring-boot/issues/44740" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/44740/hovercard">#44740</a>
* Upgrade to Spring Batch 5.2.2 <a href="https://github.com/spring-projects/spring-boot/issues/44568" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/44568/hovercard">#44568</a>
* Upgrade to Spring Data Bom 2024.1.4 <a href="https://github.com/spring-projects/spring-boot/issues/44569" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/44569/hovercard">#44569</a>
* Upgrade to Spring Framework 6.2.5 <a href="https://github.com/spring-projects/spring-boot/issues/44731" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/44731/hovercard">#44731</a>
* Upgrade to Spring Integration 6.4.3 <a href="https://github.com/spring-projects/spring-boot/issues/44776" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/44776/hovercard">#44776</a>
* Upgrade to Spring Kafka 3.3.4 <a href="https://github.com/spring-projects/spring-boot/issues/44570" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/44570/hovercard">#44570</a>
* Upgrade to Spring Pulsar 1.2.4 <a href="https://github.com/spring-projects/spring-boot/issues/44571" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/44571/hovercard">#44571</a>
* Upgrade to Spring Security 6.4.4 <a href="https://github.com/spring-projects/spring-boot/issues/44572" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/44572/hovercard">#44572</a>
* Upgrade to Spring WS 4.0.12 <a href="https://github.com/spring-projects/spring-boot/issues/44573" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/44573/hovercard">#44573</a>
* Upgrade to Testcontainers 1.20.6 <a href="https://github.com/spring-projects/spring-boot/issues/44557" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/44557/hovercard">#44557</a>
* Upgrade to Tomcat 10.1.39 <a href="https://github.com/spring-projects/spring-boot/issues/44666" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/44666/hovercard">#44666</a>

‚ù§Ô∏è Contributors

Thank you to all the contributors who worked on this release:

<a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/KmYgJn/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/KmYgJn">@KmYgJn</a>, <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/bekoenig/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/bekoenig">@bekoenig</a>, <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/bernie-schelberg-invicara/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/bernie-schelberg-invicara">@bernie-schelberg-invicara</a>, <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/dmitrysulman/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/dmitrysulman">@dmitrysulman</a>, <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/izeye/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/izeye">@izeye</a>, <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/metters/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/metters">@metters</a>, <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/ngocnhan-tran1996/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/ngocnhan-tran1996">@ngocnhan-tran1996</a>, <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/nosan/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/nosan">@nosan</a>, and <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/quaff/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/quaff">@quaff</a>

