# v3.2.1

## release on 20240318

## description

## changes

:warning: Noteworthy

* This release upgrades to Hibernate 6.4.1.Final <a href="https://github.com/spring-projects/spring-boot/issues/38870" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/38870/hovercard">#38870</a> as official support has been dropped for the 6.3 generation

üêû Bug Fixes

* HibernateJpaAutoConfiguration should be applied before DataSourceTransactionManagerAutoConfiguration <a href="https://github.com/spring-projects/spring-boot/issues/38880" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/38880/hovercard">#38880</a>
* META-INF entries are duplicated under BOOT-INF/classes causing "Conflicting persistence unit definitions" error <a href="https://github.com/spring-projects/spring-boot/issues/38862" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/38862/hovercard">#38862</a>
* logging.include-application-name has no effect when using log4j2 <a href="https://github.com/spring-projects/spring-boot/pull/38847" data-hovercard-type="pull_request" data-hovercard-url="/spring-projects/spring-boot/pull/38847/hovercard">#38847</a>
* Pulsar authentication param properties cause IllegalStateException with Pulsar Client 3.1.0 <a href="https://github.com/spring-projects/spring-boot/pull/38839" data-hovercard-type="pull_request" data-hovercard-url="/spring-projects/spring-boot/pull/38839/hovercard">#38839</a>
* Child context created with SpringApplicationBuilder runs parents runners <a href="https://github.com/spring-projects/spring-boot/issues/38837" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/38837/hovercard">#38837</a>
* getSigners() info is lost for signed jars when using the new loader implementation with requiresUnpack <a href="https://github.com/spring-projects/spring-boot/issues/38833" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/38833/hovercard">#38833</a>
* TestContainers parallel initialization doesn't work properly <a href="https://github.com/spring-projects/spring-boot/issues/38831" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/38831/hovercard">#38831</a>
* Zip file closed exceptions can be thrown due to StaticResourceJars closing jars from cached connections <a href="https://github.com/spring-projects/spring-boot/issues/38770" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/38770/hovercard">#38770</a>
* Multi-byte filenames in zip files can cause an endless loop in ZipString.hash <a href="https://github.com/spring-projects/spring-boot/issues/38751" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/38751/hovercard">#38751</a>
* Gradle task "bootJar" fails with "Failed to get permissions" when using Gradle 8.6-milestone-1 <a href="https://github.com/spring-projects/spring-boot/issues/38741" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/38741/hovercard">#38741</a>
* Custom binding converters are ignored when working with collection types <a href="https://github.com/spring-projects/spring-boot/issues/38734" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/38734/hovercard">#38734</a>
* WebFlux and resource server auto-configuration may fail due to null authentication manager <a href="https://github.com/spring-projects/spring-boot/issues/38713" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/38713/hovercard">#38713</a>
* It is unclear that Docker Compose services have not been started as one or more is already running <a href="https://github.com/spring-projects/spring-boot/issues/38661" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/38661/hovercard">#38661</a>
* Spring Boot jar launcher does not work in folders containing certain chars <a href="https://github.com/spring-projects/spring-boot/issues/38660" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/38660/hovercard">#38660</a>
* FileNotFoundException is thrown eagerly from unused SSL bundles <a href="https://github.com/spring-projects/spring-boot/issues/38659" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/38659/hovercard">#38659</a>
* NoUniqueBeanDefinitionFailureAnalyzer does not account for the fact that missing '-parameters' may be the cause <a href="https://github.com/spring-projects/spring-boot/issues/38652" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/38652/hovercard">#38652</a>
* Traces are propagated if tracing is disabled <a href="https://github.com/spring-projects/spring-boot/issues/38641" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/38641/hovercard">#38641</a>
* Missing registry auto-configuration for JMS listener observation support <a href="https://github.com/spring-projects/spring-boot/issues/38613" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/38613/hovercard">#38613</a>
* Class loading fails on an interrupted thread causing com.mongodb.event.ServerClosedEvent to fail to load when Mongo detects a cluster change <a href="https://github.com/spring-projects/spring-boot/issues/38611" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/38611/hovercard">#38611</a>
* Failures due to code not being compiled with '-parameters' are hard to identify <a href="https://github.com/spring-projects/spring-boot/issues/38603" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/38603/hovercard">#38603</a>
* System SSL certificates are not used by the Apache HTTP Client in a RestTemplate built with RestTemplateBuilder <a href="https://github.com/spring-projects/spring-boot/issues/38600" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/38600/hovercard">#38600</a>
* ZipFileSystem throws "java.util.zip.ZipException: read CEN tables failed" with certain nested jars <a href="https://github.com/spring-projects/spring-boot/issues/38595" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/38595/hovercard">#38595</a>
* Nested jar URLs cannot be split and reassembled resulting in errors with projects that use this technique (such as JobRunr) <a href="https://github.com/spring-projects/spring-boot/issues/38592" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/38592/hovercard">#38592</a>
* NoSuchMethodError can be thrown from Session.getCookie() due to binary incompatibilty <a href="https://github.com/spring-projects/spring-boot/issues/38589" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/38589/hovercard">#38589</a>
* management.metrics.tags has been deprecated without a replacement working for all metrics <a href="https://github.com/spring-projects/spring-boot/issues/38583" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/38583/hovercard">#38583</a>
* NegativeArraySizeException can be thrown from org.springframework.boot.loader.zip.ZipContent$Loader <a href="https://github.com/spring-projects/spring-boot/issues/38572" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/38572/hovercard">#38572</a>
* Migration form 3.1.5 to 3.2.0 : "Default" Tracer is not provided in test anymore <a href="https://github.com/spring-projects/spring-boot/issues/38568" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/38568/hovercard">#38568</a>
* TomcatWebServer stop doesn't close sockets for additional connectors <a href="https://github.com/spring-projects/spring-boot/issues/38564" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/38564/hovercard">#38564</a>
* Port is already in use when using <code>@SpringBootTest</code> with a separate management port and a mock web environment <a href="https://github.com/spring-projects/spring-boot/issues/38554" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/38554/hovercard">#38554</a>
* Keep-alive property causes processAot step to never finish <a href="https://github.com/spring-projects/spring-boot/issues/38531" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/38531/hovercard">#38531</a>
* Setting 'spring.task.scheduling.shutdown.await-termination-period' does not result in a call to SimpleAsyncTaskScheduler#taskTerminationTimeout <a href="https://github.com/spring-projects/spring-boot/issues/38530" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/38530/hovercard">#38530</a>
* Setting 'spring.task.execution.shutdown.await-termination-period' does not result in a call to SimpleAsyncTaskExecutor#taskTerminationTimeout <a href="https://github.com/spring-projects/spring-boot/issues/38528" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/38528/hovercard">#38528</a>
* Nested URLs return null from classLoader.getResource("") causing ClassPathResource failures <a href="https://github.com/spring-projects/spring-boot/issues/38524" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/38524/hovercard">#38524</a>
* Spring Boot 3.2 is not compatible with older versions of Liquibase <a href="https://github.com/spring-projects/spring-boot/issues/38522" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/38522/hovercard">#38522</a>
* Controller level exceptions not getting populated in HTTP server requests metrics <a href="https://github.com/spring-projects/spring-boot/issues/33731" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/33731/hovercard">#33731</a>

üìî Documentation

* Fix typo <a href="https://github.com/spring-projects/spring-boot/issues/38879" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/38879/hovercard">#38879</a>
* Add the LangChain4J Spring Boot Starter to the list of community starters <a href="https://github.com/spring-projects/spring-boot/pull/38776" data-hovercard-type="pull_request" data-hovercard-url="/spring-projects/spring-boot/pull/38776/hovercard">#38776</a>
* Document prerequisites for Docker Compose support <a href="https://github.com/spring-projects/spring-boot/issues/38764" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/38764/hovercard">#38764</a>
* Update Dynatrace documentation links <a href="https://github.com/spring-projects/spring-boot/issues/38725" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/38725/hovercard">#38725</a>
* Correct references to Jetty's HTTP2 server module <a href="https://github.com/spring-projects/spring-boot/pull/38632" data-hovercard-type="pull_request" data-hovercard-url="/spring-projects/spring-boot/pull/38632/hovercard">#38632</a>
* Fix Observation Filter docs <a href="https://github.com/spring-projects/spring-boot/issues/38586" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/38586/hovercard">#38586</a>
* Reinstate mention of testAndDevelopmentOnly when using Testcontainers at dev time <a href="https://github.com/spring-projects/spring-boot/issues/38571" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/38571/hovercard">#38571</a>

üî® Dependency Upgrades

* Upgrade to AspectJ 1.9.21 <a href="https://github.com/spring-projects/spring-boot/issues/38797" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/38797/hovercard">#38797</a>
* Upgrade to Dropwizard Metrics 4.2.23 <a href="https://github.com/spring-projects/spring-boot/issues/38798" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/38798/hovercard">#38798</a>
* Upgrade to Groovy 4.0.16 <a href="https://github.com/spring-projects/spring-boot/issues/38799" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/38799/hovercard">#38799</a>
* Upgrade to Hibernate 6.4.1.Final <a href="https://github.com/spring-projects/spring-boot/issues/38870" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/38870/hovercard">#38870</a>
* Upgrade to HttpClient5 5.2.3 <a href="https://github.com/spring-projects/spring-boot/issues/38800" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/38800/hovercard">#38800</a>
* Upgrade to HttpCore5 5.2.4 <a href="https://github.com/spring-projects/spring-boot/issues/38801" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/38801/hovercard">#38801</a>
* Upgrade to Janino 3.1.11 <a href="https://github.com/spring-projects/spring-boot/issues/38802" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/38802/hovercard">#38802</a>
* Upgrade to Jaybird 5.0.3.java11 <a href="https://github.com/spring-projects/spring-boot/issues/38803" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/38803/hovercard">#38803</a>
* Upgrade to Jersey 3.1.5 <a href="https://github.com/spring-projects/spring-boot/issues/38804" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/38804/hovercard">#38804</a>
* Upgrade to Jetty 12.0.5 <a href="https://github.com/spring-projects/spring-boot/issues/38871" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/38871/hovercard">#38871</a>
* Upgrade to Kafka 3.6.1 <a href="https://github.com/spring-projects/spring-boot/issues/38806" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/38806/hovercard">#38806</a>
* Upgrade to Kotlin 1.9.21 <a href="https://github.com/spring-projects/spring-boot/issues/38807" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/38807/hovercard">#38807</a>
* Upgrade to Kotlin Serialization 1.6.2 <a href="https://github.com/spring-projects/spring-boot/issues/38808" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/38808/hovercard">#38808</a>
* Upgrade to Logback 1.4.14 <a href="https://github.com/spring-projects/spring-boot/issues/38809" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/38809/hovercard">#38809</a>
* Upgrade to Maven Javadoc Plugin 3.6.3 <a href="https://github.com/spring-projects/spring-boot/issues/38810" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/38810/hovercard">#38810</a>
* Upgrade to Micrometer 1.12.1 <a href="https://github.com/spring-projects/spring-boot/issues/38693" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/38693/hovercard">#38693</a>
* Upgrade to Micrometer Tracing 1.2.1 <a href="https://github.com/spring-projects/spring-boot/issues/38694" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/38694/hovercard">#38694</a>
* Upgrade to Netty 4.1.104.Final <a href="https://github.com/spring-projects/spring-boot/issues/38872" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/38872/hovercard">#38872</a>
* Upgrade to Pulsar Reactive 0.5.1 <a href="https://github.com/spring-projects/spring-boot/issues/38873" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/38873/hovercard">#38873</a>
* Upgrade to R2DBC Postgresql 1.0.3.RELEASE <a href="https://github.com/spring-projects/spring-boot/issues/38812" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/38812/hovercard">#38812</a>
* Upgrade to R2DBC Proxy 1.1.3.RELEASE <a href="https://github.com/spring-projects/spring-boot/issues/38813" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/38813/hovercard">#38813</a>
* Upgrade to Reactor Bom 2023.0.1 <a href="https://github.com/spring-projects/spring-boot/issues/38695" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/38695/hovercard">#38695</a>
* Upgrade to Spring AMQP 3.1.1 <a href="https://github.com/spring-projects/spring-boot/issues/38860" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/38860/hovercard">#38860</a>
* Upgrade to Spring Authorization Server 1.2.1 <a href="https://github.com/spring-projects/spring-boot/issues/38696" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/38696/hovercard">#38696</a>
* Upgrade to Spring Data Bom 2023.1.1 <a href="https://github.com/spring-projects/spring-boot/issues/38697" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/38697/hovercard">#38697</a>
* Upgrade to Spring Framework 6.1.2 <a href="https://github.com/spring-projects/spring-boot/issues/38814" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/38814/hovercard">#38814</a>
* Upgrade to Spring Integration 6.2.1 <a href="https://github.com/spring-projects/spring-boot/issues/38698" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/38698/hovercard">#38698</a>
* Upgrade to Spring Kafka 3.1.1 <a href="https://github.com/spring-projects/spring-boot/issues/38874" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/38874/hovercard">#38874</a>
* Upgrade to Spring LDAP 3.2.1 <a href="https://github.com/spring-projects/spring-boot/issues/38699" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/38699/hovercard">#38699</a>
* Upgrade to Spring Pulsar 1.0.1 <a href="https://github.com/spring-projects/spring-boot/issues/38875" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/38875/hovercard">#38875</a>
* Upgrade to Spring Retry 2.0.5 <a href="https://github.com/spring-projects/spring-boot/issues/38836" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/38836/hovercard">#38836</a>
* Upgrade to Spring Security 6.2.1 <a href="https://github.com/spring-projects/spring-boot/issues/38700" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/38700/hovercard">#38700</a>
* Upgrade to Spring Session 3.2.1 <a href="https://github.com/spring-projects/spring-boot/issues/38866" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/38866/hovercard">#38866</a>
* Upgrade to Spring WS 4.0.9 <a href="https://github.com/spring-projects/spring-boot/issues/38876" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/38876/hovercard">#38876</a>
* Upgrade to Tomcat 10.1.17 <a href="https://github.com/spring-projects/spring-boot/issues/38815" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/38815/hovercard">#38815</a>
* Upgrade to UnboundID LDAPSDK 6.0.11 <a href="https://github.com/spring-projects/spring-boot/issues/38816" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-boot/issues/38816/hovercard">#38816</a>

‚ù§Ô∏è Contributors

Thank you to all the contributors who worked on this release:

<a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/SandraAhlgrimm/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/SandraAhlgrimm">@SandraAhlgrimm</a>, <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/aleksandrserbin/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/aleksandrserbin">@aleksandrserbin</a>, <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/cachescrubber/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/cachescrubber">@cachescrubber</a>, <a class="user-mention notranslate" data-hovercard-type="organization" data-hovercard-url="/orgs/dependabot/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/dependabot">@dependabot</a>[bot], <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/gavlyukovskiy/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/gavlyukovskiy">@gavlyukovskiy</a>, <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/ilies-bel/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/ilies-bel">@ilies-bel</a>, <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/meiyese/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/meiyese">@meiyese</a>, <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/onobc/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/onobc">@onobc</a>, <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/pirgeo/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/pirgeo">@pirgeo</a>, <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/quaff/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/quaff">@quaff</a>, <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/shin-mallang/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/shin-mallang">@shin-mallang</a>, and <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/tomfrenken/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/tomfrenken">@tomfrenken</a>

