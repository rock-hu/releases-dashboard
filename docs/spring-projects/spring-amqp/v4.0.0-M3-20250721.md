# v4.0.0-M3

## release on 20250721

## description

## changes

‚≠ê New Features

* <code>MessageRejectedWhileStoppingException</code> should not lead to an error log in all cases <a href="https://github.com/spring-projects/spring-amqp/issues/3122" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-amqp/issues/3122/hovercard">#3122</a>
* Getter method for RabbitStreamTemplate the streamName variable <a href="https://github.com/spring-projects/spring-amqp/issues/3119" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-amqp/issues/3119/hovercard">#3119</a>
* Provide Jackson 3 support <a href="https://github.com/spring-projects/spring-amqp/issues/3088" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-amqp/issues/3088/hovercard">#3088</a>
* Deprecate JUnit 4 utilities in the project <a href="https://github.com/spring-projects/spring-amqp/issues/3055" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-amqp/issues/3055/hovercard">#3055</a>
* Considerations regarding shutdown timeout <a href="https://github.com/spring-projects/spring-amqp/issues/3039" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-amqp/issues/3039/hovercard">#3039</a>

üêû Bug Fixes

* Setter for RabbitStreamTemplateObservationConvention in RabbitStreamTemplate <a href="https://github.com/spring-projects/spring-amqp/issues/3115" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-amqp/issues/3115/hovercard">#3115</a>
* Refine nullability for <code>RabbitMessageOperations.convertAndSend(‚Ä¶)</code> overloads <a href="https://github.com/spring-projects/spring-amqp/issues/3110" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-amqp/issues/3110/hovercard">#3110</a>
* Further Investigation into Shutdown Anomalies <a href="https://github.com/spring-projects/spring-amqp/issues/3079" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-amqp/issues/3079/hovercard">#3079</a>
* DirectMessageListenerContainer's default TaskScheduler is not shut down when container gets destroyed <a href="https://github.com/spring-projects/spring-amqp/issues/3057" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-amqp/issues/3057/hovercard">#3057</a>
* AbstractJackson2MessageConverter does not work with other ObjectMappers from jackson-dataformats-binary <a href="https://github.com/spring-projects/spring-amqp/issues/3038" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-amqp/issues/3038/hovercard">#3038</a>
* Issue with unexpectedly rapid consumers shutdown <a href="https://github.com/spring-projects/spring-amqp/issues/3032" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-amqp/issues/3032/hovercard">#3032</a>

üìî Documentation

* Update contributor section <a href="https://github.com/spring-projects/spring-amqp/pull/3112" data-hovercard-type="pull_request" data-hovercard-url="/spring-projects/spring-amqp/pull/3112/hovercard">#3112</a>
* Improve document example <a href="https://github.com/spring-projects/spring-amqp/pull/3084" data-hovercard-type="pull_request" data-hovercard-url="/spring-projects/spring-amqp/pull/3084/hovercard">#3084</a>
* Improve connections document <a href="https://github.com/spring-projects/spring-amqp/pull/3077" data-hovercard-type="pull_request" data-hovercard-url="/spring-projects/spring-amqp/pull/3077/hovercard">#3077</a>
* Improve Javadoc and attribute annotation <a href="https://github.com/spring-projects/spring-amqp/pull/3062" data-hovercard-type="pull_request" data-hovercard-url="/spring-projects/spring-amqp/pull/3062/hovercard">#3062</a>
* Add javadoc and fix typo <a href="https://github.com/spring-projects/spring-amqp/pull/3054" data-hovercard-type="pull_request" data-hovercard-url="/spring-projects/spring-amqp/pull/3054/hovercard">#3054</a>

üî® Dependency Upgrades

* Bump org.junit:junit-bom from 5.13.3 to 5.13.4 <a href="https://github.com/spring-projects/spring-amqp/pull/3138" data-hovercard-type="pull_request" data-hovercard-url="/spring-projects/spring-amqp/pull/3138/hovercard">#3138</a>
* Bump com.fasterxml.jackson:jackson-bom from 2.19.1 to 2.19.2 <a href="https://github.com/spring-projects/spring-amqp/pull/3132" data-hovercard-type="pull_request" data-hovercard-url="/spring-projects/spring-amqp/pull/3132/hovercard">#3132</a>
* Bump tools.jackson:jackson-bom from 3.0.0-rc5 to 3.0.0-rc6 <a href="https://github.com/spring-projects/spring-amqp/pull/3131" data-hovercard-type="pull_request" data-hovercard-url="/spring-projects/spring-amqp/pull/3131/hovercard">#3131</a>
* Bump org.testcontainers:testcontainers-bom from 1.21.2 to 1.21.3 <a href="https://github.com/spring-projects/spring-amqp/pull/3114" data-hovercard-type="pull_request" data-hovercard-url="/spring-projects/spring-amqp/pull/3114/hovercard">#3114</a>
* Bump org.junit:junit-bom from 5.13.2 to 5.13.3 <a href="https://github.com/spring-projects/spring-amqp/pull/3113" data-hovercard-type="pull_request" data-hovercard-url="/spring-projects/spring-amqp/pull/3113/hovercard">#3113</a>
* Bump org.junit:junit-bom from 5.13.1 to 5.13.2 <a href="https://github.com/spring-projects/spring-amqp/pull/3111" data-hovercard-type="pull_request" data-hovercard-url="/spring-projects/spring-amqp/pull/3111/hovercard">#3111</a>
* Bump org.testcontainers:testcontainers-bom from 1.21.1 to 1.21.2 <a href="https://github.com/spring-projects/spring-amqp/pull/3109" data-hovercard-type="pull_request" data-hovercard-url="/spring-projects/spring-amqp/pull/3109/hovercard">#3109</a>
* Bump org.junit:junit-bom from 5.13.0 to 5.13.1 <a href="https://github.com/spring-projects/spring-amqp/pull/3104" data-hovercard-type="pull_request" data-hovercard-url="/spring-projects/spring-amqp/pull/3104/hovercard">#3104</a>
* Bump com.fasterxml.jackson:jackson-bom from 2.19.0 to 2.19.1 <a href="https://github.com/spring-projects/spring-amqp/pull/3103" data-hovercard-type="pull_request" data-hovercard-url="/spring-projects/spring-amqp/pull/3103/hovercard">#3103</a>
* Bump kotlinVersion from 2.1.20 to 2.1.21 <a href="https://github.com/spring-projects/spring-amqp/pull/3075" data-hovercard-type="pull_request" data-hovercard-url="/spring-projects/spring-amqp/pull/3075/hovercard">#3075</a>
* Bump org.springframework.retry:spring-retry from 2.0.11 to 2.0.12 <a href="https://github.com/spring-projects/spring-amqp/pull/3073" data-hovercard-type="pull_request" data-hovercard-url="/spring-projects/spring-amqp/pull/3073/hovercard">#3073</a>
* Bump com.fasterxml.jackson:jackson-bom from 2.18.3 to 2.18.4 <a href="https://github.com/spring-projects/spring-amqp/pull/3065" data-hovercard-type="pull_request" data-hovercard-url="/spring-projects/spring-amqp/pull/3065/hovercard">#3065</a>
* Bump org.jetbrains.kotlinx:kotlinx-coroutines-reactor from 1.10.1 to 1.10.2 <a href="https://github.com/spring-projects/spring-amqp/pull/3044" data-hovercard-type="pull_request" data-hovercard-url="/spring-projects/spring-amqp/pull/3044/hovercard">#3044</a>
* Bump org.junit:junit-bom from 5.12.1 to 5.12.2 <a href="https://github.com/spring-projects/spring-amqp/pull/3043" data-hovercard-type="pull_request" data-hovercard-url="/spring-projects/spring-amqp/pull/3043/hovercard">#3043</a>
* Bump com.rabbitmq.client:amqp-client from 0.5.0-SNAPSHOT to 0.5.0 <a href="https://github.com/spring-projects/spring-amqp/pull/3037" data-hovercard-type="pull_request" data-hovercard-url="/spring-projects/spring-amqp/pull/3037/hovercard">#3037</a>
* Bump kotlinVersion from 2.1.10 to 2.1.20 <a href="https://github.com/spring-projects/spring-amqp/pull/3028" data-hovercard-type="pull_request" data-hovercard-url="/spring-projects/spring-amqp/pull/3028/hovercard">#3028</a>
* Bump ch.qos.logback:logback-classic from 1.5.17 to 1.5.18 <a href="https://github.com/spring-projects/spring-amqp/pull/3027" data-hovercard-type="pull_request" data-hovercard-url="/spring-projects/spring-amqp/pull/3027/hovercard">#3027</a>

‚ù§Ô∏è Contributors

Thank you to all the contributors who worked on this release:

<a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/ngocnhan-tran1996/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/ngocnhan-tran1996">@ngocnhan-tran1996</a>

