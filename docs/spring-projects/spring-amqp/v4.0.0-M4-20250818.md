# v4.0.0-M4

## release on 20250818
## description
## changes
⭐ New Features

* Refine Jackson 3-based classes to accept only JsonMapper instances for JSON <a href="https://github.com/spring-projects/spring-amqp/issues/3151" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-amqp/issues/3151/hovercard">#3151</a>
* Request to delay consumer and listener container shutdown to wait for pending reply messages when using Request/Reply Messaging with a fixed name reply queue. <a href="https://github.com/spring-projects/spring-amqp/issues/3031" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-amqp/issues/3031/hovercard">#3031</a>

🐞 Bug Fixes

* Kotlin Suspend functions should be asyncReplies=true in HandlerAdapter, so that the acknowledge is MANUAL <a href="https://github.com/spring-projects/spring-amqp/issues/3161" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-amqp/issues/3161/hovercard">#3161</a>
* Fix typos <a href="https://github.com/spring-projects/spring-amqp/pull/3146" data-hovercard-type="pull_request" data-hovercard-url="/spring-projects/spring-amqp/pull/3146/hovercard">#3146</a>

📔 Documentation

* Update <code>Fork A Repo</code> link <a href="https://github.com/spring-projects/spring-amqp/pull/3142" data-hovercard-type="pull_request" data-hovercard-url="/spring-projects/spring-amqp/pull/3142/hovercard">#3142</a>

🔨 Dependency Upgrades

* Bump kotlinVersion from 2.2.0 to 2.2.10 <a href="https://github.com/spring-projects/spring-amqp/pull/3160" data-hovercard-type="pull_request" data-hovercard-url="/spring-projects/spring-amqp/pull/3160/hovercard">#3160</a>
* Bump tools.jackson:jackson-bom from 3.0.0-rc7 to 3.0.0-rc8 <a href="https://github.com/spring-projects/spring-amqp/pull/3159" data-hovercard-type="pull_request" data-hovercard-url="/spring-projects/spring-amqp/pull/3159/hovercard">#3159</a>
* Bump org.assertj:assertj-core from 3.27.3 to 3.27.4 <a href="https://github.com/spring-projects/spring-amqp/pull/3150" data-hovercard-type="pull_request" data-hovercard-url="/spring-projects/spring-amqp/pull/3150/hovercard">#3150</a>
* Bump tools.jackson:jackson-bom from 3.0.0-rc6 to 3.0.0-rc7 <a href="https://github.com/spring-projects/spring-amqp/pull/3149" data-hovercard-type="pull_request" data-hovercard-url="/spring-projects/spring-amqp/pull/3149/hovercard">#3149</a>

❤️ Contributors

Thank you to all the contributors who worked on this release:

<a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/ngocnhan-tran1996/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/ngocnhan-tran1996">@ngocnhan-tran1996</a>

