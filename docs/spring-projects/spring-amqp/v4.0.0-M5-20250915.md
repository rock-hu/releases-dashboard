# v4.0.0-M5

## release on 20250915
## description
## changes
‚≠ê New Features

* Replace Spring Retry usage to core retry <a href="https://github.com/spring-projects/spring-amqp/pull/3167" data-hovercard-type="pull_request" data-hovercard-url="/spring-projects/spring-amqp/pull/3167/hovercard">#3167</a>
* Allow to throw InterruptedException in consumer workers when shutting down <a href="https://github.com/spring-projects/spring-amqp/issues/2920" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-amqp/issues/2920/hovercard">#2920</a>

üêû Bug Fixes

* Optimize Observation usage when <code>ObservationRegistry.NOOP</code> <a href="https://github.com/spring-projects/spring-amqp/issues/3177" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-amqp/issues/3177/hovercard">#3177</a>
* Issues with expiry conversion in DefaultStreamMessageConverter <a href="https://github.com/spring-projects/spring-amqp/issues/3174" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-amqp/issues/3174/hovercard">#3174</a>
* SimpleMessageListenerContainerTests#testAddQueuesAndStartInCycle fails with ConcurrentModificationException <a href="https://github.com/spring-projects/spring-amqp/issues/3166" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-amqp/issues/3166/hovercard">#3166</a>
* Error handler for async RabbitListeners (Mono, Future, suspend) not reacting AmqpRejectAndDontRequeueException <a href="https://github.com/spring-projects/spring-amqp/issues/3163" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-amqp/issues/3163/hovercard">#3163</a>

üî® Dependency Upgrades

* Bump kotlinVersion from 2.2.10 to 2.2.20 <a href="https://github.com/spring-projects/spring-amqp/pull/3185" data-hovercard-type="pull_request" data-hovercard-url="/spring-projects/spring-amqp/pull/3185/hovercard">#3185</a>
* Bump tools.jackson:jackson-bom from 3.0.0-rc8 to 3.0.0-rc9 <a href="https://github.com/spring-projects/spring-amqp/pull/3179" data-hovercard-type="pull_request" data-hovercard-url="/spring-projects/spring-amqp/pull/3179/hovercard">#3179</a>
* Bump com.fasterxml.jackson:jackson-bom from 2.20.0-SNAPSHOT to 2.20.0 <a href="https://github.com/spring-projects/spring-amqp/pull/3176" data-hovercard-type="pull_request" data-hovercard-url="/spring-projects/spring-amqp/pull/3176/hovercard">#3176</a>

‚ù§Ô∏è Contributors

Thank you to all the contributors who worked on this release:

<a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/snicoll/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/snicoll">@snicoll</a>

