# v6.4.0-RC1

## release on 20241023

## description

## changes

‚≠ê New Features

* add a new redis lock type that renewal expire <a href="https://github.com/spring-projects/spring-integration/pull/9557" data-hovercard-type="pull_request" data-hovercard-url="/spring-projects/spring-integration/pull/9557/hovercard">#9557</a>
* Remove not used private variable from ImapIdleChannelAdapter <a href="https://github.com/spring-projects/spring-integration/pull/9556" data-hovercard-type="pull_request" data-hovercard-url="/spring-projects/spring-integration/pull/9556/hovercard">#9556</a>
* Add idleBetweenTries property to RedisLockRegistry <a href="https://github.com/spring-projects/spring-integration/issues/9540" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-integration/issues/9540/hovercard">#9540</a>
* Map <code>AmqpHeaders.RETRY_COUNT</code> via <code>DefaultAmqpHeaderMapper</code> <a href="https://github.com/spring-projects/spring-integration/issues/9539" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-integration/issues/9539/hovercard">#9539</a>
* Add some way to pass context to scheduled threads when using PollerMetadata (or make it customizable, or let it pass a TaskDecorator, or use the passed TaskExecutor) <a href="https://github.com/spring-projects/spring-integration/issues/9524" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-integration/issues/9524/hovercard">#9524</a>
* Migrate Python scripts support to GraalVM Polyglot <a href="https://github.com/spring-projects/spring-integration/issues/9507" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-integration/issues/9507/hovercard">#9507</a>
* Better inheritance support for <code>@Nested</code> when using <code>@SpringIntegration</code> <a href="https://github.com/spring-projects/spring-integration/issues/9492" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-integration/issues/9492/hovercard">#9492</a>
* Improve Kafka Reply Topic Logic in the KafkaProducerMessageHandler <a href="https://github.com/spring-projects/spring-integration/issues/3616" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-integration/issues/3616/hovercard">#3616</a>

üêû Bug Fixes

* Support DelayedMessageWrapper Deserialized <a href="https://github.com/spring-projects/spring-integration/pull/9561" data-hovercard-type="pull_request" data-hovercard-url="/spring-projects/spring-integration/pull/9561/hovercard">#9561</a>
* The <code>BarrierSpec</code> is missing a <code>discardChannel</code> option <a href="https://github.com/spring-projects/spring-integration/issues/9558" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-integration/issues/9558/hovercard">#9558</a>
* Flag and maybe delete messages after messages have been copied <a href="https://github.com/spring-projects/spring-integration/pull/9546" data-hovercard-type="pull_request" data-hovercard-url="/spring-projects/spring-integration/pull/9546/hovercard">#9546</a>
* Remove <code>.publishOn(Schedulers.boundedElastic())</code> from the <code>AbstractMessageProducingHandler</code> in favor of customization on the application side via <code>customizeMonoReply()</code> on the endpoint <a href="https://github.com/spring-projects/spring-integration/issues/9538" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-integration/issues/9538/hovercard">#9538</a>
* Expiring completed aggregator groups on startup fails as output channels haven't been created yet. <a href="https://github.com/spring-projects/spring-integration/issues/9521" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-integration/issues/9521/hovercard">#9521</a>
* The Netty client may treat a <code>Content-Length</code> header as an indicator to decode body for GET <a href="https://github.com/spring-projects/spring-integration/issues/9489" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-integration/issues/9489/hovercard">#9489</a>

üìî Documentation

* Update reactive-streams.adoc <a href="https://github.com/spring-projects/spring-integration/pull/9590" data-hovercard-type="pull_request" data-hovercard-url="/spring-projects/spring-integration/pull/9590/hovercard">#9590</a>
* fix typos in distributed-locks.adoc <a href="https://github.com/spring-projects/spring-integration/pull/9526" data-hovercard-type="pull_request" data-hovercard-url="/spring-projects/spring-integration/pull/9526/hovercard">#9526</a>

üî® Dependency Upgrades

* Bump org.springframework.graphql:spring-graphql from 1.3.2 to 1.3.3 <a href="https://github.com/spring-projects/spring-integration/pull/9593" data-hovercard-type="pull_request" data-hovercard-url="/spring-projects/spring-integration/pull/9593/hovercard">#9593</a>
* Bump org.junit:junit-bom from 5.11.2 to 5.11.3 <a href="https://github.com/spring-projects/spring-integration/pull/9587" data-hovercard-type="pull_request" data-hovercard-url="/spring-projects/spring-integration/pull/9587/hovercard">#9587</a>
* Bump org.springframework.retry:spring-retry from 2.0.9 to 2.0.10 <a href="https://github.com/spring-projects/spring-integration/pull/9566" data-hovercard-type="pull_request" data-hovercard-url="/spring-projects/spring-integration/pull/9566/hovercard">#9566</a>
* Bump org.mockito:mockito-bom from 5.14.1 to 5.14.2 <a href="https://github.com/spring-projects/spring-integration/pull/9565" data-hovercard-type="pull_request" data-hovercard-url="/spring-projects/spring-integration/pull/9565/hovercard">#9565</a>
* Bump graalvmVersion from 24.1.0 to 24.1.1 <a href="https://github.com/spring-projects/spring-integration/pull/9564" data-hovercard-type="pull_request" data-hovercard-url="/spring-projects/spring-integration/pull/9564/hovercard">#9564</a>
* Bump curatorVersion from 5.7.0 to 5.7.1 <a href="https://github.com/spring-projects/spring-integration/pull/9563" data-hovercard-type="pull_request" data-hovercard-url="/spring-projects/spring-integration/pull/9563/hovercard">#9563</a>
* Bump io.lettuce:lettuce-core from 6.5.0.RC1 to 6.5.0.RC2 <a href="https://github.com/spring-projects/spring-integration/pull/9554" data-hovercard-type="pull_request" data-hovercard-url="/spring-projects/spring-integration/pull/9554/hovercard">#9554</a>
* Bump com.esotericsoftware:kryo from 5.6.0 to 5.6.2 <a href="https://github.com/spring-projects/spring-integration/pull/9553" data-hovercard-type="pull_request" data-hovercard-url="/spring-projects/spring-integration/pull/9553/hovercard">#9553</a>
* Bump com.icegreen:greenmail from 2.1.0-rc-1 to 2.1.0 <a href="https://github.com/spring-projects/spring-integration/pull/9530" data-hovercard-type="pull_request" data-hovercard-url="/spring-projects/spring-integration/pull/9530/hovercard">#9530</a>
* Bump org.junit:junit-bom from 5.11.1 to 5.11.2 <a href="https://github.com/spring-projects/spring-integration/pull/9529" data-hovercard-type="pull_request" data-hovercard-url="/spring-projects/spring-integration/pull/9529/hovercard">#9529</a>
* Bump org.apache.logging.log4j:log4j-bom from 2.24.0 to 2.24.1 <a href="https://github.com/spring-projects/spring-integration/pull/9528" data-hovercard-type="pull_request" data-hovercard-url="/spring-projects/spring-integration/pull/9528/hovercard">#9528</a>
* Upgrade to Jackson 2.18 <a href="https://github.com/spring-projects/spring-integration/issues/9522" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-integration/issues/9522/hovercard">#9522</a>
* Bump org.codelibs:jcifs from 2.1.38 to 2.1.39 <a href="https://github.com/spring-projects/spring-integration/pull/9516" data-hovercard-type="pull_request" data-hovercard-url="/spring-projects/spring-integration/pull/9516/hovercard">#9516</a>
* Bump org.junit:junit-bom from 5.11.0 to 5.11.1 <a href="https://github.com/spring-projects/spring-integration/pull/9515" data-hovercard-type="pull_request" data-hovercard-url="/spring-projects/spring-integration/pull/9515/hovercard">#9515</a>
* Bump debeziumVersion from 2.7.2.Final to 2.7.3.Final <a href="https://github.com/spring-projects/spring-integration/pull/9503" data-hovercard-type="pull_request" data-hovercard-url="/spring-projects/spring-integration/pull/9503/hovercard">#9503</a>
* Bump protobufVersion from 4.28.1 to 4.28.2 <a href="https://github.com/spring-projects/spring-integration/pull/9496" data-hovercard-type="pull_request" data-hovercard-url="/spring-projects/spring-integration/pull/9496/hovercard">#9496</a>

‚ù§Ô∏è Contributors

Thank you to all the contributors who worked on this release:

<a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/NaccOll/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/NaccOll">@NaccOll</a>, <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/filiphr/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/filiphr">@filiphr</a>, <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/ngocnhan-tran1996/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/ngocnhan-tran1996">@ngocnhan-tran1996</a>, <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/takeshi-rl/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/takeshi-rl">@takeshi-rl</a>, and <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/wimdetroyer/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/wimdetroyer">@wimdetroyer</a>

