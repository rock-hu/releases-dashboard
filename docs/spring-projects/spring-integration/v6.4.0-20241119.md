# v6.4.0

## release on 20241119
## description
## changes
‚≠ê New Features

* Add option to <code>AmqpInboundChannelAdapter</code> ot override default <code>amqp_batchedHeaders</code> name to something else <a href="https://github.com/spring-projects/spring-integration/issues/9647" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-integration/issues/9647/hovercard">#9647</a>
* Use Locale.ROOT for locale neutral, case insensitive comparisons <a href="https://github.com/spring-projects/spring-integration/issues/9620" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-integration/issues/9620/hovercard">#9620</a>
* Adapt code for the <code>org.springframework.util.concurrent.ListenableFuture</code> being marked now as <code>forRemoval</code> <a href="https://github.com/spring-projects/spring-integration/issues/9617" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-integration/issues/9617/hovercard">#9617</a>
* Flagging of messages should be optional. <a href="https://github.com/spring-projects/spring-integration/issues/9613" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-integration/issues/9613/hovercard">#9613</a>
* Conditionally Display Message and Header in MessageHandlingException <a href="https://github.com/spring-projects/spring-integration/issues/9416" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-integration/issues/9416/hovercard">#9416</a>

üêû Bug Fixes

* AbstractMailReceiver.receive returns MimeMessage with outdated flags <a href="https://github.com/spring-projects/spring-integration/issues/9633" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-integration/issues/9633/hovercard">#9633</a>
* ConcurrentModificationException from ThreadStatePropagationChannelInterceptor <a href="https://github.com/spring-projects/spring-integration/issues/9623" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-integration/issues/9623/hovercard">#9623</a>
* SimpleJsonSerializer sometimes fails to produce correct JSON <a href="https://github.com/spring-projects/spring-integration/issues/9614" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-integration/issues/9614/hovercard">#9614</a>
* The <code>Mqttv5PahoMessageHandler.publish()</code> fails with a <code>Connect already in progress (32110)</code> under high concurrency <a href="https://github.com/spring-projects/spring-integration/issues/9597" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-integration/issues/9597/hovercard">#9597</a>
* FileReadingMessageSource doesn't set FileHeaders.RELATIVE_PATH header value corretly <a href="https://github.com/spring-projects/spring-integration/issues/9594" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-integration/issues/9594/hovercard">#9594</a>

üî® Dependency Upgrades

* Bump debeziumVersion from 3.0.1.Final to 3.0.2.Final <a href="https://github.com/spring-projects/spring-integration/pull/9651" data-hovercard-type="pull_request" data-hovercard-url="/spring-projects/spring-integration/pull/9651/hovercard">#9651</a>
* Bump org.jruby:jruby-complete from 9.4.8.0 to 9.4.9.0 <a href="https://github.com/spring-projects/spring-integration/pull/9646" data-hovercard-type="pull_request" data-hovercard-url="/spring-projects/spring-integration/pull/9646/hovercard">#9646</a>
* Bump org.apache.groovy:groovy-bom from 4.0.23 to 4.0.24 <a href="https://github.com/spring-projects/spring-integration/pull/9645" data-hovercard-type="pull_request" data-hovercard-url="/spring-projects/spring-integration/pull/9645/hovercard">#9645</a>
* Bump mongoDriverVersion from 5.2.0 to 5.2.1 <a href="https://github.com/spring-projects/spring-integration/pull/9644" data-hovercard-type="pull_request" data-hovercard-url="/spring-projects/spring-integration/pull/9644/hovercard">#9644</a>
* Bump io.lettuce:lettuce-core from 6.4.0.RELEASE to 6.4.1.RELEASE <a href="https://github.com/spring-projects/spring-integration/pull/9628" data-hovercard-type="pull_request" data-hovercard-url="/spring-projects/spring-integration/pull/9628/hovercard">#9628</a>
* Bump com.fasterxml.jackson:jackson-bom from 2.18.0 to 2.18.1 <a href="https://github.com/spring-projects/spring-integration/pull/9627" data-hovercard-type="pull_request" data-hovercard-url="/spring-projects/spring-integration/pull/9627/hovercard">#9627</a>
* Bump org.apache.camel:camel-bom from 4.8.0 to 4.8.1 <a href="https://github.com/spring-projects/spring-integration/pull/9610" data-hovercard-type="pull_request" data-hovercard-url="/spring-projects/spring-integration/pull/9610/hovercard">#9610</a>
* Bump debeziumVersion from 3.0.0.Final to 3.0.1.Final <a href="https://github.com/spring-projects/spring-integration/pull/9608" data-hovercard-type="pull_request" data-hovercard-url="/spring-projects/spring-integration/pull/9608/hovercard">#9608</a>
* Bump protobufVersion from 4.28.2 to 4.28.3 <a href="https://github.com/spring-projects/spring-integration/pull/9604" data-hovercard-type="pull_request" data-hovercard-url="/spring-projects/spring-integration/pull/9604/hovercard">#9604</a>

‚ù§Ô∏è Contributors

Thank you to all the contributors who worked on this release:

<a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/EddieChoCho/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/EddieChoCho">@EddieChoCho</a>

