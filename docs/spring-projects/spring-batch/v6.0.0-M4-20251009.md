# v6.0.0-M4

## release on 20251009
## description
## changes
‚≠ê New features

* Add ability to configure Mongo sequence incrementers <a href="https://github.com/spring-projects/spring-batch/issues/5018" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-batch/issues/5018/hovercard">#5018</a>
* Remove usage of Micrometer's global static meter registry <a href="https://github.com/spring-projects/spring-batch/issues/4968" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-batch/issues/4968/hovercard">#4968</a>
* Migrate to JSpecify annotations for nullability constraints <a href="https://github.com/spring-projects/spring-batch/issues/4673" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-batch/issues/4673/hovercard">#4673</a>

üöÄ Enhancements

* Segregate StepLocator methods in a sub interface <a href="https://github.com/spring-projects/spring-batch/issues/5015" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-batch/issues/5015/hovercard">#5015</a>
* Move infrastructure APIs under a specific package <a href="https://github.com/spring-projects/spring-batch/issues/5014" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-batch/issues/5014/hovercard">#5014</a>
* Revisit exception declaration in public APIs <a href="https://github.com/spring-projects/spring-batch/issues/5013" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-batch/issues/5013/hovercard">#5013</a>
* Move built-in job parameter incrementers to the org.springframework.batch.core.job.parameters package <a href="https://github.com/spring-projects/spring-batch/issues/5011" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-batch/issues/5011/hovercard">#5011</a>
* Broken encapsulation of job parameter attributes <a href="https://github.com/spring-projects/spring-batch/issues/5010" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-batch/issues/5010/hovercard">#5010</a>
* Incorrect nullability definition in public APIs input <a href="https://github.com/spring-projects/spring-batch/issues/4989" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-batch/issues/4989/hovercard">#4989</a>
* Update retrieval methods with clear nullability semantics <a href="https://github.com/spring-projects/spring-batch/issues/4988" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-batch/issues/4988/hovercard">#4988</a>
* Incorrect default constructor in AbstractStep <a href="https://github.com/spring-projects/spring-batch/issues/4984" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-batch/issues/4984/hovercard">#4984</a>
* Documentation for disabling spring batch metrics is incomplete <a href="https://github.com/spring-projects/spring-batch/issues/4800" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-batch/issues/4800/hovercard">#4800</a>
* Make domain model entities immutable <a href="https://github.com/spring-projects/spring-batch/issues/1870" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-batch/issues/1870/hovercard">#1870</a>

üêû Bug fixes

* Error in the metrics registration with a meter registry customization <a href="https://github.com/spring-projects/spring-batch/issues/4759" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-batch/issues/4759/hovercard">#4759</a>
* Activation of Actuator & Prometheus rise a WARN in the log due to bad configuration <a href="https://github.com/spring-projects/spring-batch/issues/4753" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-batch/issues/4753/hovercard">#4753</a>

üî® Tasks

* Deprecate JobRepository#getStepExecution(long jobExecutionId, long stepExecutionId) <a href="https://github.com/spring-projects/spring-batch/issues/5007" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-batch/issues/5007/hovercard">#5007</a>
* Deprecate the batch XML namespace <a href="https://github.com/spring-projects/spring-batch/issues/4843" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-batch/issues/4843/hovercard">#4843</a>
* Deprecate JUnit 4 support <a href="https://github.com/spring-projects/spring-batch/issues/4816" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-batch/issues/4816/hovercard">#4816</a>
* Update Micrometer's Prometheus support to version 1.x <a href="https://github.com/spring-projects/spring-batch/issues/4689" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-batch/issues/4689/hovercard">#4689</a>

‚ù§Ô∏è Contributors

Thank you to all the contributors who worked on this release!

*** ** * ** ***

Full change log: <a class="commit-link" href="https://github.com/spring-projects/spring-batch/compare/v6.0.0-M3...v6.0.0-M4"><tt>v6.0.0-M3...v6.0.0-M4</tt></a>

