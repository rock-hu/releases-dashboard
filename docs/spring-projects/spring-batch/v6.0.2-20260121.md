# v6.0.2

## release on 20260121
## description
## changes
‚≠ê New features

* Add ZonedDateTime and OffsetDateTime support to JobParametersConverter <a href="https://github.com/spring-projects/spring-batch/issues/5178" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-batch/issues/5178/hovercard">#5178</a>

üêû Bug fixes

* Compatibility issues between v5 and v6 when Migrating from <code>CommandLineJobRunner</code> to <code>CommandLineJobOperator</code> <a href="https://github.com/spring-projects/spring-batch/issues/5227" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-batch/issues/5227/hovercard">#5227</a>
* MongoStepExecutionDao.countStepExecutions() ignores stepName parameter <a href="https://github.com/spring-projects/spring-batch/issues/5220" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-batch/issues/5220/hovercard">#5220</a>
* OptimisticLockingFailureException due to race condition in graceful shutdown <a href="https://github.com/spring-projects/spring-batch/issues/5217" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-batch/issues/5217/hovercard">#5217</a>
* ChunkOrientedStep#doExecute updates the StepExecution outside of the chunk transaction boundary. <a href="https://github.com/spring-projects/spring-batch/issues/5199" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-batch/issues/5199/hovercard">#5199</a>
* Jackson2ExecutionContextStringSerializer fails to serialize job parameters with JobStep <a href="https://github.com/spring-projects/spring-batch/issues/5191" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-batch/issues/5191/hovercard">#5191</a>
* StepContribution counters are not thread-safe during parallel chunk processing <a href="https://github.com/spring-projects/spring-batch/issues/5188" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-batch/issues/5188/hovercard">#5188</a>
* ScopeNotActiveException with <code>@StepScope</code> ItemProcessor in Multi-threaded ChunkOrientedStep <a href="https://github.com/spring-projects/spring-batch/issues/5183" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-batch/issues/5183/hovercard">#5183</a>
* ChunkOrientedStep updates ExecutionContext even when a chunk fails, leading to data loss on restart <a href="https://github.com/spring-projects/spring-batch/issues/5182" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-batch/issues/5182/hovercard">#5182</a>
* MetaDataInstanceFactory default values cause StepContext collision in StepScopeTestUtils when <code>@SpringBatchTest</code> is active <a href="https://github.com/spring-projects/spring-batch/issues/5181" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-batch/issues/5181/hovercard">#5181</a>
* Wrong database migration to spring-batch 6.x for DB2LUW <a href="https://github.com/spring-projects/spring-batch/issues/5166" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-batch/issues/5166/hovercard">#5166</a>
* OptimisticLockingFailureException in JobRepositoryTestUtils.removeJobExecutions() since Spring Batch 5.2.3 <a href="https://github.com/spring-projects/spring-batch/issues/5161" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-batch/issues/5161/hovercard">#5161</a>
* The implementation of jumpToItem(int itemLastIndex) in AbstractPaginatedDataItemReader does not handle restart behavior correctly. <a href="https://github.com/spring-projects/spring-batch/issues/5136" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-batch/issues/5136/hovercard">#5136</a>
* Incorrect resource cleanup order in AbstractCursorItemReader#doClose leads to inconsistent behavior <a href="https://github.com/spring-projects/spring-batch/issues/5109" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-batch/issues/5109/hovercard">#5109</a>
* Intermittent OptimisticLockingFailureException when starting job using jobOperator.start() with asyncTaskExecutor <a href="https://github.com/spring-projects/spring-batch/issues/5106" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-batch/issues/5106/hovercard">#5106</a>
* ClosedChannelException when using StaxEventItemWriter in combination with MultiResourceItemWriter <a href="https://github.com/spring-projects/spring-batch/issues/5098" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-batch/issues/5098/hovercard">#5098</a>
* WriteConflict in MongoSequenceIncrementer during parallel job executions <a href="https://github.com/spring-projects/spring-batch/issues/4960" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-batch/issues/4960/hovercard">#4960</a>

üöÄ Enhancements

* Use Spring Framework's CollectionUtils to create HashSet/HashMap <a href="https://github.com/spring-projects/spring-batch/pull/5175" data-hovercard-type="pull_request" data-hovercard-url="/spring-projects/spring-batch/pull/5175/hovercard">#5175</a>
* Remove redundant assert in StoredProcedureItemReader <a href="https://github.com/spring-projects/spring-batch/pull/5119" data-hovercard-type="pull_request" data-hovercard-url="/spring-projects/spring-batch/pull/5119/hovercard">#5119</a>

üìî Documentation

* Fix typo in whatsnew.adoc and in integration tests <a href="https://github.com/spring-projects/spring-batch/issues/5207" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-batch/issues/5207/hovercard">#5207</a>
* Clarify ChunkListener changes in v6 <a href="https://github.com/spring-projects/spring-batch/issues/5226" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-batch/issues/5226/hovercard">#5226</a>
* Incorrect documentation about concurrent steps in v6 <a href="https://github.com/spring-projects/spring-batch/issues/5228" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-batch/issues/5228/hovercard">#5228</a>
* correct JobOperatorFactoryBean sample code <a href="https://github.com/spring-projects/spring-batch/pull/5103" data-hovercard-type="pull_request" data-hovercard-url="/spring-projects/spring-batch/pull/5103/hovercard">#5103</a>

üî® Tasks

* Update project template in issue reporting guide <a href="https://github.com/spring-projects/spring-batch/issues/5212" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-batch/issues/5212/hovercard">#5212</a>

üÜô Dependency Upgrades

Spring Framework: 7.0.3  

Spring Integration: 7.0.2  

Spring AMQP: 4.0.2  

Spring Kafka: 4.0.2  

Spring Data: 4.0.2  

Micrometer: 1.16.2

‚ù§Ô∏è Contributors

Thank you to all the contributors who worked on this release:

<a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/wocks1123/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/wocks1123">@wocks1123</a>, <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/thswlsqls/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/thswlsqls">@thswlsqls</a>, <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/xeounxzxu/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/xeounxzxu">@xeounxzxu</a>, <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/LeeHyungGeol/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/LeeHyungGeol">@LeeHyungGeol</a>, <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/KMGeon/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/KMGeon">@KMGeon</a>, <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/HongYeseul/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/HongYeseul">@HongYeseul</a>, <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/banseok1216/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/banseok1216">@banseok1216</a>, <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/quaff/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/quaff">@quaff</a>, and <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/songhees/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/songhees">@songhees</a>

