# v5.1.0-M2

## release on 20230824

## description

## changes

‚≠ê New features

* Add cursor-based <code>ItemReader</code> for MongoDB <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="1618577975" data-permission-text="Title is private" data-url="https://github.com/spring-projects/spring-batch/issues/4323" data-hovercard-type="pull_request" data-hovercard-url="/spring-projects/spring-batch/pull/4323/hovercard" href="https://github.com/spring-projects/spring-batch/pull/4323">#4323</a>
* Add support for bulk inserts in <code>MongoItemWriter</code> <a href="https://github.com/spring-projects/spring-batch/issues/4149" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-batch/issues/4149/hovercard">#4149</a>
* Provide accessors in <code>MongoItemWriter</code> to facilitate extensions <a href="https://github.com/spring-projects/spring-batch/issues/3973" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-batch/issues/3973/hovercard">#3973</a>

üöÄ Enhancements

* Add <code>java.util.concurrent.ConcurrentHashMap</code> to the trusted classes list in <code>Jackson2ExecutionContextStringSerializer</code> <a href="https://github.com/spring-projects/spring-batch/issues/4407" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-batch/issues/4407/hovercard">#4407</a>
* Add <code>java.sql.Date</code> to the trusted classes list in <code>Jackson2ExecutionContextStringSerializer</code> <a href="https://github.com/spring-projects/spring-batch/issues/4407" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-batch/issues/4407/hovercard">#4407</a>
* Auto-detect the class/interface to be mocked <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="1822351817" data-permission-text="Title is private" data-url="https://github.com/spring-projects/spring-batch/issues/4426" data-hovercard-type="pull_request" data-hovercard-url="/spring-projects/spring-batch/pull/4426/hovercard" href="https://github.com/spring-projects/spring-batch/pull/4426">#4426</a>

üêû Bug fixes

* Concurrent execution of <code>FlowJob</code> may cause <code>FlowExecutionException</code> <a href="https://github.com/spring-projects/spring-batch/issues/4092" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-batch/issues/4092/hovercard">#4092</a>

üî® Tasks

* Rename <code>MongoItemReader</code> to <code>MongoPagingItemReader</code> <a href="https://github.com/spring-projects/spring-batch/issues/4341" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-batch/issues/4341/hovercard">#4341</a>
* Deprecate jobRepository method in <code>JobBuilderHelper</code> & <code>StepBuilderHelper</code> <a href="https://github.com/spring-projects/spring-batch/issues/4326" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-batch/issues/4326/hovercard">#4326</a>

‚ù§Ô∏è Contributors

Thank you to all the contributors who worked on this release!

