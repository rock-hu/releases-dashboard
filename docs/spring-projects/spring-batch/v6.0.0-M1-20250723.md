# v6.0.0-M1

## release on 20250723

## description

## changes

This is the first milestone of Spring Batch 6.0, which is a major release that comes with several new features, enhancements, and bug fixes. Moreover, this release introduces a number of API breaking changes and deprecations. Please refer to the <a href="https://github.com/spring-projects/spring-batch/wiki/Spring-Batch-6.0-Migration-Guide">migration guide</a> for the full list of changes.

‚≠ê New features

* Introduce a modern command line batch operator <a href="https://github.com/spring-projects/spring-batch/issues/4899" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-batch/issues/4899/hovercard">#4899</a>
* Add ability to use bean names for jobs and steps <a href="https://github.com/spring-projects/spring-batch/issues/4858" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-batch/issues/4858/hovercard">#4858</a>
* Make <code>MapJobRegistry</code> smart enough to auto register jobs defined in the application context <a href="https://github.com/spring-projects/spring-batch/issues/4855" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-batch/issues/4855/hovercard">#4855</a>
* Make <code>MessageChannelPartitionHandler</code> usable with any job repository implementations <a href="https://github.com/spring-projects/spring-batch/issues/4917" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-batch/issues/4917/hovercard">#4917</a>
* Add optimistic locking for meta-data deletion <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2948787356" data-permission-text="Title is private" data-url="https://github.com/spring-projects/spring-batch/issues/4793" data-hovercard-type="pull_request" data-hovercard-url="/spring-projects/spring-batch/pull/4793/hovercard" href="https://github.com/spring-projects/spring-batch/pull/4793">#4793</a>

üöÄ Enhancements

* Improve experience when configuring an alternative <code>JobRepository</code> <a href="https://github.com/spring-projects/spring-batch/issues/4718" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-batch/issues/4718/hovercard">#4718</a>
* Improve performance of <code>JdbcStepExecutionDao::getStepExecution</code> <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2952095121" data-permission-text="Title is private" data-url="https://github.com/spring-projects/spring-batch/issues/4799" data-hovercard-type="pull_request" data-hovercard-url="/spring-projects/spring-batch/pull/4799/hovercard" href="https://github.com/spring-projects/spring-batch/pull/4799">#4799</a>
* Improve update sql for optimistic locking <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2948726512" data-permission-text="Title is private" data-url="https://github.com/spring-projects/spring-batch/issues/4792" data-hovercard-type="pull_request" data-hovercard-url="/spring-projects/spring-batch/pull/4792/hovercard" href="https://github.com/spring-projects/spring-batch/pull/4792">#4792</a>
* Improve <code>JobOperator</code> API by using domain types instead of primitive types <a href="https://github.com/spring-projects/spring-batch/issues/4845" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-batch/issues/4845/hovercard">#4845</a>
* Improve <code>JobOperator</code> by reducing its scope to job operations only <a href="https://github.com/spring-projects/spring-batch/issues/4833" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-batch/issues/4833/hovercard">#4833</a>
* Core API simplification <a href="https://github.com/spring-projects/spring-batch/issues/4847" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-batch/issues/4847/hovercard">#4847</a>
* Move core APIs in dedicated packages <a href="https://github.com/spring-projects/spring-batch/issues/4877" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-batch/issues/4877/hovercard">#4877</a>
* Move listener APIs under <code>core.listener</code> package <a href="https://github.com/spring-projects/spring-batch/issues/4867" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-batch/issues/4867/hovercard">#4867</a>
* Move <code>core.explore</code> package under <code>core.repository</code> <a href="https://github.com/spring-projects/spring-batch/issues/4827" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-batch/issues/4827/hovercard">#4827</a>
* Move core partitioning APIs under <code>org.springframework.batch.core.partition</code> <a href="https://github.com/spring-projects/spring-batch/issues/4849" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-batch/issues/4849/hovercard">#4849</a>
* Move DAOs implementations to separate packages <a href="https://github.com/spring-projects/spring-batch/issues/4848" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-batch/issues/4848/hovercard">#4848</a>
* Remove unnecessary generic from <code>JobKeyGenerator</code> interface <a href="https://github.com/spring-projects/spring-batch/issues/4886" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-batch/issues/4886/hovercard">#4886</a>
* Remove usage of <code>JobFactory</code> in `JobRegistry`` <a href="https://github.com/spring-projects/spring-batch/issues/4854" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-batch/issues/4854/hovercard">#4854</a>
* Remove dependency to <code>JobExplorer</code> in <code>SimpleJobOperator</code> <a href="https://github.com/spring-projects/spring-batch/issues/4817" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-batch/issues/4817/hovercard">#4817</a>
* Remove <code>JobExplorer</code> bean registration from the default batch configuration <a href="https://github.com/spring-projects/spring-batch/issues/4825" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-batch/issues/4825/hovercard">#4825</a>
* Remove unnecessary reflection in RemoteChunkHandlerFactoryBean <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="3053377562" data-permission-text="Title is private" data-url="https://github.com/spring-projects/spring-batch/issues/4839" data-hovercard-type="pull_request" data-hovercard-url="/spring-projects/spring-batch/pull/4839/hovercard" href="https://github.com/spring-projects/spring-batch/pull/4839">#4839</a>
* Rename <code>SimpleJobOperator</code> to <code>TaskExecutorJobOperator</code> <a href="https://github.com/spring-projects/spring-batch/issues/4834" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-batch/issues/4834/hovercard">#4834</a>
* Rename <code>JobRepositoryFactoryBean</code> to <code>JdbcJobRepositoryFactoryBean</code> <a href="https://github.com/spring-projects/spring-batch/issues/4829" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-batch/issues/4829/hovercard">#4829</a>
* <code>FlatFileItemReaderBuilder</code> : raise check exception on build <a href="https://github.com/spring-projects/spring-batch/issues/4757" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-batch/issues/4757/hovercard">#4757</a>
* Make <code>JobOperator</code> extend <code>JobLauncher</code> <a href="https://github.com/spring-projects/spring-batch/issues/4832" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-batch/issues/4832/hovercard">#4832</a>
* Make <code>JobRepository</code> extend <code>JobExplorer</code> <a href="https://github.com/spring-projects/spring-batch/issues/4824" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-batch/issues/4824/hovercard">#4824</a>
* Redundant methods in <code>JobExplorer</code>/<code>JobInstanceDao</code> APIs <a href="https://github.com/spring-projects/spring-batch/issues/4821" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-batch/issues/4821/hovercard">#4821</a>
* Introduce <code>ErrorProne</code>, fix compiler warnings <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2974003701" data-permission-text="Title is private" data-url="https://github.com/spring-projects/spring-batch/issues/4807" data-hovercard-type="pull_request" data-hovercard-url="/spring-projects/spring-batch/pull/4807/hovercard" href="https://github.com/spring-projects/spring-batch/pull/4807">#4807</a>
* Add Redis integration tests <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="3165140807" data-permission-text="Title is private" data-url="https://github.com/spring-projects/spring-batch/issues/4892" data-hovercard-type="pull_request" data-hovercard-url="/spring-projects/spring-batch/pull/4892/hovercard" href="https://github.com/spring-projects/spring-batch/pull/4892">#4892</a>
* Fail test if no exception is thrown in <code>testErrorMessageWhenNoLineTokenizerWasProvided</code> <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="3143598189" data-permission-text="Title is private" data-url="https://github.com/spring-projects/spring-batch/issues/4883" data-hovercard-type="pull_request" data-hovercard-url="/spring-projects/spring-batch/pull/4883/hovercard" href="https://github.com/spring-projects/spring-batch/pull/4883">#4883</a>
* Refactor AOT proxy hints for better type safety <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="3143381956" data-permission-text="Title is private" data-url="https://github.com/spring-projects/spring-batch/issues/4881" data-hovercard-type="pull_request" data-hovercard-url="/spring-projects/spring-batch/pull/4881/hovercard" href="https://github.com/spring-projects/spring-batch/pull/4881">#4881</a>
* Refactor <code>ExitStatus#isRunning</code> for type-safety <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2921866435" data-permission-text="Title is private" data-url="https://github.com/spring-projects/spring-batch/issues/4783" data-hovercard-type="pull_request" data-hovercard-url="/spring-projects/spring-batch/pull/4783/hovercard" href="https://github.com/spring-projects/spring-batch/pull/4783">#4783</a>
* Mark argument to <code>ExitStatus#equals</code> as nullable <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="3038206053" data-permission-text="Title is private" data-url="https://github.com/spring-projects/spring-batch/issues/4823" data-hovercard-type="pull_request" data-hovercard-url="/spring-projects/spring-batch/pull/4823/hovercard" href="https://github.com/spring-projects/spring-batch/pull/4823">#4823</a>
* Use typesafe variant of <code>ctx::getBean</code> instead <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2955517215" data-permission-text="Title is private" data-url="https://github.com/spring-projects/spring-batch/issues/4803" data-hovercard-type="pull_request" data-hovercard-url="/spring-projects/spring-batch/pull/4803/hovercard" href="https://github.com/spring-projects/spring-batch/pull/4803">#4803</a>
* Use <code>jdbcTemplate.queryForStream().findFirst()</code> where appropriate <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2955252954" data-permission-text="Title is private" data-url="https://github.com/spring-projects/spring-batch/issues/4802" data-hovercard-type="pull_request" data-hovercard-url="/spring-projects/spring-batch/pull/4802/hovercard" href="https://github.com/spring-projects/spring-batch/pull/4802">#4802</a>
* Reuse existing SQL where feasible <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2954948375" data-permission-text="Title is private" data-url="https://github.com/spring-projects/spring-batch/issues/4801" data-hovercard-type="pull_request" data-hovercard-url="/spring-projects/spring-batch/pull/4801/hovercard" href="https://github.com/spring-projects/spring-batch/pull/4801">#4801</a>

üêû Bug fixes

* Incorrect warning when starting a job with an empty parameters set <a href="https://github.com/spring-projects/spring-batch/issues/4914" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-batch/issues/4914/hovercard">#4914</a>
* Incorrect handling of job parameters when using a <code>JobParametersIncrementer</code> <a href="https://github.com/spring-projects/spring-batch/issues/4910" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-batch/issues/4910/hovercard">#4910</a>
* Write Skip Count Not Updated in Chunk Processing <a href="https://github.com/spring-projects/spring-batch/issues/4514" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-batch/issues/4514/hovercard">#4514</a>

üìî Documentation

* Polish code block style and fix typo in <code>whatsnew.adoc</code> <a href="https://github.com/spring-projects/spring-batch/pull/4901" data-hovercard-type="pull_request" data-hovercard-url="/spring-projects/spring-batch/pull/4901/hovercard">#4901</a>
* Fix javadoc in <code>JdbcCursorItemReaderBuilder</code> <a href="https://github.com/spring-projects/spring-batch/pull/4838" data-hovercard-type="pull_request" data-hovercard-url="/spring-projects/spring-batch/pull/4838/hovercard">#4838</a>
* Correct comment in RemoteChunkingJobFunctionalTests <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="3033575219" data-permission-text="Title is private" data-url="https://github.com/spring-projects/spring-batch/issues/4822" data-hovercard-type="pull_request" data-hovercard-url="/spring-projects/spring-batch/pull/4822/hovercard" href="https://github.com/spring-projects/spring-batch/pull/4822">#4822</a>

üî® Tasks

* Replace usage of <code>JobExplorer</code> with <code>JobRepository</code> in <code>RemoteStepExecutionAggregator</code> <a href="https://github.com/spring-projects/spring-batch/issues/4928" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-batch/issues/4928/hovercard">#4928</a>
* Replace usage of <code>JobExplorer</code> with <code>JobRepository</code> in <code>SystemCommandTasklet</code> <a href="https://github.com/spring-projects/spring-batch/issues/4927" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-batch/issues/4927/hovercard">#4927</a>
* Replace usage of <code>JobLauncher</code> with <code>JobOperator</code> in <code>JobLaunchingGateway</code> and <code>JobLaunchingMessageHandler</code> <a href="https://github.com/spring-projects/spring-batch/issues/4924" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-batch/issues/4924/hovercard">#4924</a>
* Replace usage of <code>JobLauncher</code> with <code>JobOperator</code> in <code>JobStep</code> <a href="https://github.com/spring-projects/spring-batch/issues/4923" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-batch/issues/4923/hovercard">#4923</a>
* Replace usage of <code>JobExplorer</code> with <code>JobRepository</code> in <code>StepExecutionRequestHandler</code> <a href="https://github.com/spring-projects/spring-batch/issues/4918" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-batch/issues/4918/hovercard">#4918</a>
* Rename <code>JobLauncherTestUtils</code> to <code>JobOperatorTestUtils</code> <a href="https://github.com/spring-projects/spring-batch/issues/4920" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-batch/issues/4920/hovercard">#4920</a>
* Rename <code>JobExplorerFactoryBean</code> to <code>JdbcJobExplorerFactoryBean</code> <a href="https://github.com/spring-projects/spring-batch/issues/4846" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-batch/issues/4846/hovercard">#4846</a>
* Deprecate <code>StepRunner</code> <a href="https://github.com/spring-projects/spring-batch/issues/4921" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-batch/issues/4921/hovercard">#4921</a>
* Deprecate modular job configuration through <code>EnableBatchProcessing</code> <a href="https://github.com/spring-projects/spring-batch/issues/4866" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-batch/issues/4866/hovercard">#4866</a>
* Remove usage of <code>JobExplorer</code> in <code>BatchIntegrationConfiguration</code> <a href="https://github.com/spring-projects/spring-batch/issues/4919" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-batch/issues/4919/hovercard">#4919</a>
* Remove deprecated APIs scheduled for removal in v6 <a href="https://github.com/spring-projects/spring-batch/issues/4819" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-batch/issues/4819/hovercard">#4819</a>
* Update GraalVM runtime hints <a href="https://github.com/spring-projects/spring-batch/issues/4844" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-batch/issues/4844/hovercard">#4844</a>

üÜô Dependency Upgrades

* Spring Framework: 7.0.0-M7
* Spring Integration: 7.0.0-M1
* Spring AMQP: 4.0.0-M3
* Spring Kafka: 4.0.0-M3
* Spring Data: 4.0.0-M4
* Spring Ldap: 4.0.0-M1
* Spring Retry: 2.0.12
* Micrometer: 1.16.0-M1

‚ù§Ô∏è Contributors

Thank you to all the contributors who worked on this release:

<a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/darth-raijin/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/darth-raijin">@darth-raijin</a>, <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/itis821/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/itis821">@itis821</a>, <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/jbotuck/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/jbotuck">@jbotuck</a>, <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/martinfrancois/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/martinfrancois">@martinfrancois</a>, <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/noojung/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/noojung">@noojung</a>, <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/patrickwinti/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/patrickwinti">@patrickwinti</a>, <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/quaff/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/quaff">@quaff</a>, <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/scordio/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/scordio">@scordio</a>, <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/sieunie/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/sieunie">@sieunie</a>, <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/sjiwon/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/sjiwon">@sjiwon</a>, and <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/therepanic/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/therepanic">@therepanic</a>

*** ** * ** ***

Full change log: <a class="commit-link" href="https://github.com/spring-projects/spring-batch/compare/v5.2.2...v6.0.0-M1"><tt>v5.2.2...v6.0.0-M1</tt></a>

