# v3.2.0-RC1

## release on 20240416

## description

## changes

‚≠ê New Features

* <code>@PartitionOffset</code> supprt TopicPartitionOffset.SeekPosition <a href="https://github.com/spring-projects/spring-kafka/issues/3178" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-kafka/issues/3178/hovercard">#3178</a>
* Add an option to leave consumer group when closing Streams <a href="https://github.com/spring-projects/spring-kafka/pull/3168" data-hovercard-type="pull_request" data-hovercard-url="/spring-projects/spring-kafka/pull/3168/hovercard">#3168</a>
* Add <code>checkstyle</code> rule on <code>empty-line-separater</code> <a href="https://github.com/spring-projects/spring-kafka/pull/3162" data-hovercard-type="pull_request" data-hovercard-url="/spring-projects/spring-kafka/pull/3162/hovercard">#3162</a>
* Remove org.apache.kafka native runtime hints <a href="https://github.com/spring-projects/spring-kafka/pull/3147" data-hovercard-type="pull_request" data-hovercard-url="/spring-projects/spring-kafka/pull/3147/hovercard">#3147</a>
* Adding new <code>KafkaListenerEndpointRegistry.getListenerContainersMatchingId(predicate: Predicate&lt;String&gt;)</code> <a href="https://github.com/spring-projects/spring-kafka/issues/3135" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-kafka/issues/3135/hovercard">#3135</a>
* Allows to initialize/inject the Topology object without starting the Kafka streams. <a href="https://github.com/spring-projects/spring-kafka/issues/3020" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-kafka/issues/3020/hovercard">#3020</a>
* More and proper tags for observation spans <a href="https://github.com/spring-projects/spring-kafka/issues/2609" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-kafka/issues/2609/hovercard">#2609</a>

üêû Bug Fixes

* Duplicate record consumption due to offset decrease in last offset commit <a href="https://github.com/spring-projects/spring-kafka/issues/3186" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-kafka/issues/3186/hovercard">#3186</a>
* Setting the Kafka Streams property <code>default.dsl.store</code> has no effect <a href="https://github.com/spring-projects/spring-kafka/issues/3176" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-kafka/issues/3176/hovercard">#3176</a>
* BatchInterceptor is not working properly with retries <a href="https://github.com/spring-projects/spring-kafka/issues/3166" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-kafka/issues/3166/hovercard">#3166</a>
* MDCs are missing in logs produced by DefaultErrorHandler. <a href="https://github.com/spring-projects/spring-kafka/issues/3151" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-kafka/issues/3151/hovercard">#3151</a>
* In kafka events, the traceId and spanId are not written in the logs <a href="https://github.com/spring-projects/spring-kafka/issues/3146" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-kafka/issues/3146/hovercard">#3146</a>

üìî Documentation

* fix typo in JsonDeSerializer.TYPE_MAPPINGS <a href="https://github.com/spring-projects/spring-kafka/pull/3144" data-hovercard-type="pull_request" data-hovercard-url="/spring-projects/spring-kafka/pull/3144/hovercard">#3144</a>
* Spring Kafka not working properly with Java 21 Virtual Threads, listeners are tied to a platform thread forever <a href="https://github.com/spring-projects/spring-kafka/issues/3074" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-kafka/issues/3074/hovercard">#3074</a>

üî® Dependency Upgrades

* Bump org.springframework:spring-framework-bom from 6.1.5 to 6.1.6 <a href="https://github.com/spring-projects/spring-kafka/pull/3194" data-hovercard-type="pull_request" data-hovercard-url="/spring-projects/spring-kafka/pull/3194/hovercard">#3194</a>
* Bump io.projectreactor:reactor-bom from 2023.0.4 to 2023.0.5 <a href="https://github.com/spring-projects/spring-kafka/pull/3193" data-hovercard-type="pull_request" data-hovercard-url="/spring-projects/spring-kafka/pull/3193/hovercard">#3193</a>
* Bump log4jVersion from 2.23.0 to 2.23.1 <a href="https://github.com/spring-projects/spring-kafka/pull/3157" data-hovercard-type="pull_request" data-hovercard-url="/spring-projects/spring-kafka/pull/3157/hovercard">#3157</a>

‚ù§Ô∏è Contributors

Thank you to all the contributors who worked on this release:

<a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/JooHyukKim/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/JooHyukKim">@JooHyukKim</a>, <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/juwit/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/juwit">@juwit</a>, <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/sobychacko/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/sobychacko">@sobychacko</a>, and <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/system205/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/system205">@system205</a>

