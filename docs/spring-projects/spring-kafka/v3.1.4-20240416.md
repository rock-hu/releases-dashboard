# v3.1.4

## release on 20240416

## description

## changes

üêû Bug Fixes

* Duplicate record consumption due to offset decrease in last offset commit <a href="https://github.com/spring-projects/spring-kafka/issues/3190" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-kafka/issues/3190/hovercard">#3190</a>
* Setting the Kafka Streams property <code>default.dsl.store</code> has no effect <a href="https://github.com/spring-projects/spring-kafka/issues/3181" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-kafka/issues/3181/hovercard">#3181</a>
* BatchInterceptor is not working properly with retries <a href="https://github.com/spring-projects/spring-kafka/issues/3170" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-kafka/issues/3170/hovercard">#3170</a>
* MDCs are missing in logs produced by DefaultErrorHandler. <a href="https://github.com/spring-projects/spring-kafka/issues/3154" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-kafka/issues/3154/hovercard">#3154</a>
* In kafka events, the traceId and spanId are not written in the logs <a href="https://github.com/spring-projects/spring-kafka/issues/3149" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-kafka/issues/3149/hovercard">#3149</a>

üî® Dependency Upgrades

* Bump org.springframework.data:spring-data-bom from 2023.1.4 to 2023.1.5 <a href="https://github.com/spring-projects/spring-kafka/pull/3201" data-hovercard-type="pull_request" data-hovercard-url="/spring-projects/spring-kafka/pull/3201/hovercard">#3201</a>
* Bump org.springframework:spring-framework-bom from 6.1.5 to 6.1.6 <a href="https://github.com/spring-projects/spring-kafka/pull/3200" data-hovercard-type="pull_request" data-hovercard-url="/spring-projects/spring-kafka/pull/3200/hovercard">#3200</a>
* Bump io.micrometer:micrometer-bom from 1.12.4 to 1.12.5 <a href="https://github.com/spring-projects/spring-kafka/pull/3199" data-hovercard-type="pull_request" data-hovercard-url="/spring-projects/spring-kafka/pull/3199/hovercard">#3199</a>
* Bump io.micrometer:micrometer-tracing-bom from 1.2.4 to 1.2.5 <a href="https://github.com/spring-projects/spring-kafka/pull/3198" data-hovercard-type="pull_request" data-hovercard-url="/spring-projects/spring-kafka/pull/3198/hovercard">#3198</a>
* Bump io.projectreactor:reactor-bom from 2023.0.4 to 2023.0.5 <a href="https://github.com/spring-projects/spring-kafka/pull/3197" data-hovercard-type="pull_request" data-hovercard-url="/spring-projects/spring-kafka/pull/3197/hovercard">#3197</a>

