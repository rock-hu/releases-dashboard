# v6.1.5

## release on 20240315

## description

## changes

‚≠ê New Features

* Extract reusable method for URI validations <a href="https://github.com/spring-projects/spring-framework/issues/32440" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-framework/issues/32440/hovercard">#32440</a>
* Allow UriTemplate to be built with an empty template <a href="https://github.com/spring-projects/spring-framework/pull/32432" data-hovercard-type="pull_request" data-hovercard-url="/spring-projects/spring-framework/pull/32432/hovercard">#32432</a>
* Optimize Coroutine invocations <a href="https://github.com/spring-projects/spring-framework/issues/32390" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-framework/issues/32390/hovercard">#32390</a>
* Improve exception message when Scheduled tasks that are using Virtual Threads fail on shutdown <a href="https://github.com/spring-projects/spring-framework/issues/32381" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-framework/issues/32381/hovercard">#32381</a>
* Add query parameters to MockMvc Kotlin DSL <a href="https://github.com/spring-projects/spring-framework/pull/32371" data-hovercard-type="pull_request" data-hovercard-url="/spring-projects/spring-framework/pull/32371/hovercard">#32371</a>
* Optimize content type parsing in <code>ServletServerHttpResponse</code> <a href="https://github.com/spring-projects/spring-framework/issues/32361" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-framework/issues/32361/hovercard">#32361</a>
* Refine handling of disconnected client error in ExceptionHandlerExceptionResolver <a href="https://github.com/spring-projects/spring-framework/issues/32359" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-framework/issues/32359/hovercard">#32359</a>
* Refine <code>\*HttpMessageConverter#getContentLength</code> return value null safety <a href="https://github.com/spring-projects/spring-framework/issues/32325" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-framework/issues/32325/hovercard">#32325</a>
* Optimize HttpHeaders.getAcceptLanguageAsLocales <a href="https://github.com/spring-projects/spring-framework/pull/32318" data-hovercard-type="pull_request" data-hovercard-url="/spring-projects/spring-framework/pull/32318/hovercard">#32318</a>
* SimpleAsyncTaskScheduler: consistently apply default error handling <a href="https://github.com/spring-projects/spring-framework/issues/32298" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-framework/issues/32298/hovercard">#32298</a>
* Use Spliterator of underlying collection in MutablePropertyValues / MutablePropertySources <a href="https://github.com/spring-projects/spring-framework/pull/32281" data-hovercard-type="pull_request" data-hovercard-url="/spring-projects/spring-framework/pull/32281/hovercard">#32281</a>

üêû Bug Fixes

* SpEL fails to compile expression indexing into <code>boolean</code> array <a href="https://github.com/spring-projects/spring-framework/issues/32400" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-framework/issues/32400/hovercard">#32400</a>
* WebClient Observations are missing error <a href="https://github.com/spring-projects/spring-framework/issues/32389" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-framework/issues/32389/hovercard">#32389</a>
* WebClient request sent twice instantly when using <code>@Cacheable</code> <a href="https://github.com/spring-projects/spring-framework/issues/32370" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-framework/issues/32370/hovercard">#32370</a>
* AopUtils.getMostSpecificMethod does not return original method for proxy-derived method anymore <a href="https://github.com/spring-projects/spring-framework/issues/32365" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-framework/issues/32365/hovercard">#32365</a>
* Fix <code>ServletResponseHttpHeaders#get</code> null handling <a href="https://github.com/spring-projects/spring-framework/issues/32362" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-framework/issues/32362/hovercard">#32362</a>
* Compiled SpEL expression fails if <code>#root</code> or <code>#this</code> is a non-public type <a href="https://github.com/spring-projects/spring-framework/issues/32356" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-framework/issues/32356/hovercard">#32356</a>
* Suspend handler methods fail on nullable <code>value class</code> parameters <a href="https://github.com/spring-projects/spring-framework/issues/32353" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-framework/issues/32353/hovercard">#32353</a>
* Better protect against concurrent error handling for async requests <a href="https://github.com/spring-projects/spring-framework/issues/32340" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-framework/issues/32340/hovercard">#32340</a>
* Performance degradation due to Kotlin value class checks <a href="https://github.com/spring-projects/spring-framework/issues/32334" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-framework/issues/32334/hovercard">#32334</a>
* With value referenced from property file in XML configuration, setter selection can be random in case of overloaded setter methods (e.g. on SimpleClientHttpRequestFactory) <a href="https://github.com/spring-projects/spring-framework/issues/32329" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-framework/issues/32329/hovercard">#32329</a>
* <code>constructor-impl</code> of Kotlin <code>value class</code> is not called <a href="https://github.com/spring-projects/spring-framework/issues/32324" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-framework/issues/32324/hovercard">#32324</a>
* ContentCachingResponseWrapper no longer honors Content-Type and Content-Length <a href="https://github.com/spring-projects/spring-framework/issues/32317" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-framework/issues/32317/hovercard">#32317</a>
* Hibernate native image support broken by <code>HHH-17643</code> <a href="https://github.com/spring-projects/spring-framework/issues/32311" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-framework/issues/32311/hovercard">#32311</a>
* Revisit DatabaseMetadata#getProcedures to only apply fallback if original search yield more than one result <a href="https://github.com/spring-projects/spring-framework/issues/32295" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-framework/issues/32295/hovercard">#32295</a>
* Remove Observation.Context from WebClient request <a href="https://github.com/spring-projects/spring-framework/issues/32198" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-framework/issues/32198/hovercard">#32198</a>

üìî Documentation

* Refine "Redirecting to a resource" section code sample <a href="https://github.com/spring-projects/spring-framework/issues/32423" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-framework/issues/32423/hovercard">#32423</a>
* Javadoc of ReactorNettyClientRequestFactory#setExchangeTimeout methods have wrong default value <a href="https://github.com/spring-projects/spring-framework/issues/32419" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-framework/issues/32419/hovercard">#32419</a>
* Fix order of 2 sections in the Validation chapter of the reference manual <a href="https://github.com/spring-projects/spring-framework/pull/32408" data-hovercard-type="pull_request" data-hovercard-url="/spring-projects/spring-framework/pull/32408/hovercard">#32408</a>
* Fix Javadoc <a href="https://github.com/spring-projects/spring-framework/pull/32403" data-hovercard-type="pull_request" data-hovercard-url="/spring-projects/spring-framework/pull/32403/hovercard">#32403</a>
* Document that SpEL expressions using array construction cannot be compiled <a href="https://github.com/spring-projects/spring-framework/issues/32401" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-framework/issues/32401/hovercard">#32401</a>
* Improve documentation for <code>@Sql</code> execution phases regarding lifecycle <a href="https://github.com/spring-projects/spring-framework/issues/32343" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-framework/issues/32343/hovercard">#32343</a>
* Omit parameter names in REST Clients section of reference docs <a href="https://github.com/spring-projects/spring-framework/issues/32335" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-framework/issues/32335/hovercard">#32335</a>
* Different transaction name when using <code>TransactionAspectSupport.currentTransactionStatus().transactionName</code> <a href="https://github.com/spring-projects/spring-framework/issues/32310" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-framework/issues/32310/hovercard">#32310</a>
* Provide guidelines for using Kotlin properties with proxies (<code>@RequestScope</code> and similar use cases) <a href="https://github.com/spring-projects/spring-framework/issues/32287" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-framework/issues/32287/hovercard">#32287</a>
* Correct documentation for <code>userDestinationPrefix</code> in <code>MessageBrokerRegistry</code> <a href="https://github.com/spring-projects/spring-framework/pull/32272" data-hovercard-type="pull_request" data-hovercard-url="/spring-projects/spring-framework/pull/32272/hovercard">#32272</a>

üî® Dependency Upgrades

* Upgrade to Micrometer 1.12.4 <a href="https://github.com/spring-projects/spring-framework/issues/32431" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-framework/issues/32431/hovercard">#32431</a>
* Upgrade to Reactor 2023.0.4 <a href="https://github.com/spring-projects/spring-framework/issues/32420" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-framework/issues/32420/hovercard">#32420</a>

‚ù§Ô∏è Contributors

Thank you to all the contributors who worked on this release:

<a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/Xednar/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/Xednar">@Xednar</a>, <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/ZeroCyan/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/ZeroCyan">@ZeroCyan</a>, <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/bsgrd/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/bsgrd">@bsgrd</a>, <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/ddaaac/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/ddaaac">@ddaaac</a>, <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/kilink/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/kilink">@kilink</a>, <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/qeeqez/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/qeeqez">@qeeqez</a>, and <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/quaff/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/quaff">@quaff</a>

