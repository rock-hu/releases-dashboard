# v7.0.0-M9

## release on 20250911
## description
## changes
‚≠ê New Features

* Align <code>JpaTransactionManager</code> default for <code>nestedTransactionAllowed</code> flag <a href="https://github.com/spring-projects/spring-framework/issues/35457" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-framework/issues/35457/hovercard">#35457</a>
* Introduce <code>onRetryPolicyInterruption()</code> callback in <code>RetryListener</code> <a href="https://github.com/spring-projects/spring-framework/issues/35442" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-framework/issues/35442/hovercard">#35442</a>
* Add DataFieldMaxValueIncrementer for SQLite <a href="https://github.com/spring-projects/spring-framework/issues/35440" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-framework/issues/35440/hovercard">#35440</a>
* Consistent support for non-default NIO.2 FileSystems <a href="https://github.com/spring-projects/spring-framework/issues/35435" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-framework/issues/35435/hovercard">#35435</a>
* Include exceptions for previous attempts in <code>RetryException</code> thrown for an <code>InterruptedException</code> <a href="https://github.com/spring-projects/spring-framework/issues/35434" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-framework/issues/35434/hovercard">#35434</a>
* Include current exception in log message for failed retry attempt <a href="https://github.com/spring-projects/spring-framework/issues/35433" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-framework/issues/35433/hovercard">#35433</a>
* Remove HttpServiceClient Annotation Support <a href="https://github.com/spring-projects/spring-framework/issues/35431" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-framework/issues/35431/hovercard">#35431</a>
* Deprecate <code>put(MergedContextConfiguration, ApplicationContext)</code> in <code>ContextCache</code> <a href="https://github.com/spring-projects/spring-framework/issues/35415" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-framework/issues/35415/hovercard">#35415</a>
* ServerSentEventHttpMessageReader should process empty data lines <a href="https://github.com/spring-projects/spring-framework/issues/35412" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-framework/issues/35412/hovercard">#35412</a>
* Make it possible to stream "application/grpc" in Spring MVC via Flux <a href="https://github.com/spring-projects/spring-framework/issues/35401" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-framework/issues/35401/hovercard">#35401</a>
* Add createException method to ConvertibleClientHttpResponse in RestClient <a href="https://github.com/spring-projects/spring-framework/issues/35391" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-framework/issues/35391/hovercard">#35391</a>
* Consider throwing an error if <code>setVersionRequired</code> and <code>setDefaultVersion</code> are called on <code>ApiVersionConfigurer</code> <a href="https://github.com/spring-projects/spring-framework/issues/35387" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-framework/issues/35387/hovercard">#35387</a>
* Accept <code>maxAttempts(0)</code> in <code>RetryPolicy</code> builder <a href="https://github.com/spring-projects/spring-framework/issues/35362" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-framework/issues/35362/hovercard">#35362</a>
* Generate consistent validation error messages in <code>RetryPolicy</code> <a href="https://github.com/spring-projects/spring-framework/issues/35355" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-framework/issues/35355/hovercard">#35355</a>
* Drop support for Undertow as it is not Servlet 6.1 compatible <a href="https://github.com/spring-projects/spring-framework/issues/35354" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-framework/issues/35354/hovercard">#35354</a>
* Expose retry attempts in RetryException <a href="https://github.com/spring-projects/spring-framework/issues/35351" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-framework/issues/35351/hovercard">#35351</a>
* RetryException#getCause should not be nullable <a href="https://github.com/spring-projects/spring-framework/issues/35332" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-framework/issues/35332/hovercard">#35332</a>
* Refine CORS logging for non-processed requests due to no CORS configuration <a href="https://github.com/spring-projects/spring-framework/issues/35314" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-framework/issues/35314/hovercard">#35314</a>
* Refine Jackson 3 constructors to accept only <code>JsonMapper</code> instances for JSON <a href="https://github.com/spring-projects/spring-framework/issues/35282" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-framework/issues/35282/hovercard">#35282</a>
* Revise <code>StartupStep</code> to implement <code>AutoCloseable</code> <a href="https://github.com/spring-projects/spring-framework/issues/35277" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-framework/issues/35277/hovercard">#35277</a>
* Add compression support in JdkClientHttpRequestFactory <a href="https://github.com/spring-projects/spring-framework/pull/35225" data-hovercard-type="pull_request" data-hovercard-url="/spring-projects/spring-framework/pull/35225/hovercard">#35225</a>
* Add support for Micrometer context propagation in Kotlin coroutines <a href="https://github.com/spring-projects/spring-framework/issues/35185" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-framework/issues/35185/hovercard">#35185</a>
* Add support for Forwarded By HTTP header <a href="https://github.com/spring-projects/spring-framework/pull/34683" data-hovercard-type="pull_request" data-hovercard-url="/spring-projects/spring-framework/pull/34683/hovercard">#34683</a>
* Update HttpStatus to align with RFC9110 where relevant <a href="https://github.com/spring-projects/spring-framework/issues/32870" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-framework/issues/32870/hovercard">#32870</a>
* <code>ContextCache</code> should close evicted context before loading new context <a href="https://github.com/spring-projects/spring-framework/issues/21007" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-framework/issues/21007/hovercard">#21007</a>

üêû Bug Fixes

* Refine <code>Nullness</code> for Kotlin functions returning <code>Unit</code> <a href="https://github.com/spring-projects/spring-framework/issues/35420" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-framework/issues/35420/hovercard">#35420</a>
* Invalid Nullness information for Kotlin properties <a href="https://github.com/spring-projects/spring-framework/issues/35419" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-framework/issues/35419/hovercard">#35419</a>
* <code>ApiVersionConfigurer.setVersionRequired(...)</code> does not result in <code>MissingApiVersionException</code> <a href="https://github.com/spring-projects/spring-framework/issues/35386" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-framework/issues/35386/hovercard">#35386</a>
* RestTestClient returns null response body <a href="https://github.com/spring-projects/spring-framework/issues/35385" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-framework/issues/35385/hovercard">#35385</a>
* Interface client methods that return InputStreams do not throw exceptions on bad HTTP status codes <a href="https://github.com/spring-projects/spring-framework/issues/35375" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-framework/issues/35375/hovercard">#35375</a>
* <code>@Retryable</code> cannot be used with with <code>@HttpServiceClient</code> due to <code>NullPointerException</code> <a href="https://github.com/spring-projects/spring-framework/issues/35353" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-framework/issues/35353/hovercard">#35353</a>
* Wrong PathPattern parsing for segments ending in '**' <a href="https://github.com/spring-projects/spring-framework/issues/35339" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-framework/issues/35339/hovercard">#35339</a>
* <code>RetryTemplate</code> should officially expose <code>RetryException</code> to <code>RetryListener.onRetryPolicyExhaustion()</code> <a href="https://github.com/spring-projects/spring-framework/issues/35334" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-framework/issues/35334/hovercard">#35334</a>
* Restore mixed usage support with uri() and queryParam() for query parameters in AbstractMockHttpServletRequestBuilder.buildRequest() <a href="https://github.com/spring-projects/spring-framework/pull/35329" data-hovercard-type="pull_request" data-hovercard-url="/spring-projects/spring-framework/pull/35329/hovercard">#35329</a>
* Kotlinx Serialization doesn't work when using ResponseEntity <a href="https://github.com/spring-projects/spring-framework/issues/35281" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-framework/issues/35281/hovercard">#35281</a>
* "Failed to read candidate component class" with classfile metadata reading <a href="https://github.com/spring-projects/spring-framework/issues/35252" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-framework/issues/35252/hovercard">#35252</a>

üìî Documentation

* Docs: Rework mvc-jsp section with JavaConfig example (per review feedback) <a href="https://github.com/spring-projects/spring-framework/pull/35444" data-hovercard-type="pull_request" data-hovercard-url="/spring-projects/spring-framework/pull/35444/hovercard">#35444</a>
* Document programmatic retry support in the reference manual <a href="https://github.com/spring-projects/spring-framework/issues/35436" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-framework/issues/35436/hovercard">#35436</a>
* Improve reference docs on API versioning by path <a href="https://github.com/spring-projects/spring-framework/issues/35421" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-framework/issues/35421/hovercard">#35421</a>
* Fix typo in websocket doc <a href="https://github.com/spring-projects/spring-framework/pull/35393" data-hovercard-type="pull_request" data-hovercard-url="/spring-projects/spring-framework/pull/35393/hovercard">#35393</a>
* Refine null-safety tooling introduction <a href="https://github.com/spring-projects/spring-framework/issues/35383" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-framework/issues/35383/hovercard">#35383</a>
* Fix <code>@HttpServiceClient</code> example in reference manual <a href="https://github.com/spring-projects/spring-framework/pull/35363" data-hovercard-type="pull_request" data-hovercard-url="/spring-projects/spring-framework/pull/35363/hovercard">#35363</a>
* Improve wording for transactional rollback rule semantics <a href="https://github.com/spring-projects/spring-framework/issues/35346" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-framework/issues/35346/hovercard">#35346</a>
* Document semantics of <code>RetryException</code> regarding cause and suppressed exceptions <a href="https://github.com/spring-projects/spring-framework/issues/35337" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-framework/issues/35337/hovercard">#35337</a>
* Formatting issue in RestTestClient documentation <a href="https://github.com/spring-projects/spring-framework/issues/35328" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-framework/issues/35328/hovercard">#35328</a>

üî® Dependency Upgrades

* Upgrade to Jackson 3.0.0-rc9 and 2.20.0 <a href="https://github.com/spring-projects/spring-framework/issues/35439" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-framework/issues/35439/hovercard">#35439</a>
* Upgrade to Jetty 12.1.0 <a href="https://github.com/spring-projects/spring-framework/issues/35345" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-framework/issues/35345/hovercard">#35345</a>
* Upgrade to Kotlin 2.2.20 <a href="https://github.com/spring-projects/spring-framework/issues/35414" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-framework/issues/35414/hovercard">#35414</a>
* Upgrade to Micrometer 1.16.0-M3 <a href="https://github.com/spring-projects/spring-framework/issues/35453" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-framework/issues/35453/hovercard">#35453</a>
* Upgrade to Reactor 2025.0.0-M7 <a href="https://github.com/spring-projects/spring-framework/issues/35452" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-framework/issues/35452/hovercard">#35452</a>

‚ù§Ô∏è Contributors

Thank you to all the contributors who worked on this release:

<a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/Dongnyoung/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/Dongnyoung">@Dongnyoung</a>, <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/J-unStiN/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/J-unStiN">@J-unStiN</a>, <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/NeatGuyCoding/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/NeatGuyCoding">@NeatGuyCoding</a>, <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/gustaavv/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/gustaavv">@gustaavv</a>, <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/izeye/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/izeye">@izeye</a>, <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/remeio/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/remeio">@remeio</a>, <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/shakuzen/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/shakuzen">@shakuzen</a>, and <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/spicydev/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/spicydev">@spicydev</a>

