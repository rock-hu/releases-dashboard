# 3.0.4

## release on 20230717

## description

## changes

üìó Links

* <a href="https://docs.spring.io/spring-vault/docs/3.0.4/reference/html/" rel="nofollow">Spring Vault 3.0.4 Reference documentation</a>
* <a href="https://docs.spring.io/spring-vault/docs/3.0.4/api" rel="nofollow">Spring Vault 3.0.4 Javadoc</a>

‚≠ê New Features

* Role name can now be used with cert auth <a href="https://github.com/spring-projects/spring-vault/pull/780" data-hovercard-type="pull_request" data-hovercard-url="/spring-projects/spring-vault/pull/780/hovercard">#780</a>
* Refine logging after token revocation failure <a href="https://github.com/spring-projects/spring-vault/issues/766" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-vault/issues/766/hovercard">#766</a>
* Add AWS IAM Authentication to <code>EnvironmentVaultConfiguration</code> <a href="https://github.com/spring-projects/spring-vault/issues/761" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-vault/issues/761/hovercard">#761</a>
* Allow reuse of library-specific configuration code in <code>ClientHttpRequestFactoryFactory</code> and <code>ClientHttpConnectorFactory</code> <a href="https://github.com/spring-projects/spring-vault/issues/760" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-vault/issues/760/hovercard">#760</a>
* AWS IAM Authentication should provide a way to sign request for the global STS endpoint (eu-east-1) <a href="https://github.com/spring-projects/spring-vault/issues/758" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-vault/issues/758/hovercard">#758</a>
* Add native image hints and AOT pre-processor <a href="https://github.com/spring-projects/spring-vault/issues/747" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-vault/issues/747/hovercard">#747</a>
* VaultTransitOperations with versioned keys <a href="https://github.com/spring-projects/spring-vault/issues/726" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-vault/issues/726/hovercard">#726</a>
* Allow dropping tokens from the session manager for easier recovery on lookup failures <a href="https://github.com/spring-projects/spring-vault/issues/684" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-vault/issues/684/hovercard">#684</a>
* Extend <code>VaultTransitKey</code> with additional properties returned by the API <a href="https://github.com/spring-projects/spring-vault/issues/661" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-vault/issues/661/hovercard">#661</a>

üêû Bug Fixes

* <code>@KeySpace</code> not considered using Spring Data 3.1 <a href="https://github.com/spring-projects/spring-vault/issues/800" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-vault/issues/800/hovercard">#800</a>
* <code>EnvironmentVaultConfiguration</code> causes <code>ClassNotFoundException</code> if AWS SDK is not on the class path <a href="https://github.com/spring-projects/spring-vault/issues/786" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-vault/issues/786/hovercard">#786</a>
* Can not delete entity if id is UUID <a href="https://github.com/spring-projects/spring-vault/issues/777" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-vault/issues/777/hovercard">#777</a>
* Do not revoke batch tokens <a href="https://github.com/spring-projects/spring-vault/issues/764" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-vault/issues/764/hovercard">#764</a>
* VaultException thrown without "cause" hides important information <a href="https://github.com/spring-projects/spring-vault/issues/713" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-vault/issues/713/hovercard">#713</a>

üìî Documentation

* Fix typos in vault-repositories.adoc <a href="https://github.com/spring-projects/spring-vault/pull/795" data-hovercard-type="pull_request" data-hovercard-url="/spring-projects/spring-vault/pull/795/hovercard">#795</a>
* Spring Vault documentation broken link <a href="https://github.com/spring-projects/spring-vault/issues/788" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-vault/issues/788/hovercard">#788</a>

üî® Dependency Upgrades

* Documentation still refers to removed <code>spring-vault-dependencies</code> artifact <a href="https://github.com/spring-projects/spring-vault/issues/785" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-vault/issues/785/hovercard">#785</a>
* Upgrade build plugins <a href="https://github.com/spring-projects/spring-vault/issues/784" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-vault/issues/784/hovercard">#784</a>
* Upgrade to Spring Javaformat 0.38 <a href="https://github.com/spring-projects/spring-vault/issues/781" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-vault/issues/781/hovercard">#781</a>
* Upgrade to Spring Data 2022.0.4 <a href="https://github.com/spring-projects/spring-vault/issues/770" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-vault/issues/770/hovercard">#770</a>
* Upgrade to Project Reactor 2022.0.5 <a href="https://github.com/spring-projects/spring-vault/issues/769" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-vault/issues/769/hovercard">#769</a>
* Upgrade to Spring Framework 6.0.7 <a href="https://github.com/spring-projects/spring-vault/issues/768" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-vault/issues/768/hovercard">#768</a>
* Upgrade to Spring Security 6.0.2 <a href="https://github.com/spring-projects/spring-vault/issues/767" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-vault/issues/767/hovercard">#767</a>
* Upgrade to Reactor 2022.0.3 <a href="https://github.com/spring-projects/spring-vault/issues/754" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-vault/issues/754/hovercard">#754</a>
* Upgrade to Spring Data 2022.0.2 <a href="https://github.com/spring-projects/spring-vault/issues/753" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-vault/issues/753/hovercard">#753</a>
* Upgrade to Netty 4.1.89.Final <a href="https://github.com/spring-projects/spring-vault/issues/752" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-vault/issues/752/hovercard">#752</a>
* Upgrade dependencies <a href="https://github.com/spring-projects/spring-vault/issues/748" data-hovercard-type="issue" data-hovercard-url="/spring-projects/spring-vault/issues/748/hovercard">#748</a>

‚ù§Ô∏è Contributors

We'd like to thank all the contributors who worked on this release!

* <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/andylintner/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/andylintner">@andylintner</a>
* <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/rychkov/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/rychkov">@rychkov</a>

