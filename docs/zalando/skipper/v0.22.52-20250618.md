# v0.22.52

## release on 20250618
## description
## changes
Changes

Added check to handle token parsing with claims without "sub". (<a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2615439686" data-permission-text="Title is private" data-url="https://github.com/zalando/skipper/issues/3287" data-hovercard-type="pull_request" data-hovercard-url="/zalando/skipper/pull/3287/hovercard" href="https://github.com/zalando/skipper/pull/3287">#3287</a>)

Description

In the oidc_introspection.py <code>func (filter *oidcIntrospectionFilter) Request(ctx filters.FilterContext)</code> function get value form the Claim  

map using <code>sub</code> key and then casts the value into a string, but this  

would panic if no sub key is present. I added a check to ensure we only  

cast values if sub key is present.

Linked Issue

closes <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2501021419" data-permission-text="Title is private" data-url="https://github.com/zalando/skipper/issues/3216" data-hovercard-type="issue" data-hovercard-url="/zalando/skipper/issues/3216/hovercard" href="https://github.com/zalando/skipper/issues/3216">#3216</a>

Approach to solution

As describe in the following  

<a href="https://github.com/zalando/skipper/issues/3216#issuecomment-2433498646" data-hovercard-type="issue" data-hovercard-url="/zalando/skipper/issues/3216/hovercard">comment</a>,  

I dug a bit deeper and found 2 suitable values to use if subject is not  

present in token. One is the Subject value in tokenContainer struct or  

UserInfo Struct. I decided to go with the tokenContainer struct. If this  

is not correct please do guide me if UserInfo Struct would be better.

*** ** * ** ***

Multiarch Docker image

Multiarch Docker image is available in Github's docker registry:

    docker run -it ghcr.io/zalando/skipper:v0.22.52 skipper --help

Docker image

Docker image is available in Zalando's Open Source registry:

    docker run -it registry.opensource.zalan.do/teapot/skipper:v0.22.52 skipper --help


