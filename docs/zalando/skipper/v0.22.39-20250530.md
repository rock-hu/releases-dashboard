# v0.22.39

## release on 20250530
## description
## changes
Changes

eskip: reset parser before returning to the pool (<a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="3094079056" data-permission-text="Title is private" data-url="https://github.com/zalando/skipper/issues/3516" data-hovercard-type="pull_request" data-hovercard-url="/zalando/skipper/pull/3516/hovercard" href="https://github.com/zalando/skipper/pull/3516">#3516</a>)

eskipLexParser references parsed code and parsed results.

Garbage collector will collect pooled eskipLexParser instances; this  

change makes its job a tiny bit easier by eliminating any references  

from pooled instances.

It also makes code canonical by using sync.Pool.New for constructing new  

instances.

There is no change in performance or allocations as expected:

    goos: linux
    goarch: amd64
    pkg: github.com/zalando/skipper/eskip
    cpu: Intel(R) Core(TM) i5-8350U CPU @ 1.70GHz
                      │   master    │                HEAD                │
                      │   sec/op    │   sec/op     vs base               │
    ParsePredicates-8   4.720µ ± 3%   4.594µ ± 3%       ~ (p=0.066 n=10)
    Parse-8             163.6m ± 2%   164.3m ± 1%       ~ (p=0.912 n=10)
    geomean             878.6µ        868.8µ       -1.12%

                      │    master    │                 HEAD                  │
                      │     B/op     │     B/op      vs base                 │
    ParsePredicates-8   1.773Ki ± 0%   1.773Ki ± 0%       ~ (p=1.000 n=10) ¹
    Parse-8             61.79Mi ± 0%   61.79Mi ± 0%       ~ (p=0.218 n=10)
    geomean             335.0Ki        335.0Ki       -0.00%
    ¹ all samples are equal

                      │   master    │                 HEAD                 │
                      │  allocs/op  │  allocs/op   vs base                 │
    ParsePredicates-8    50.00 ± 0%    50.00 ± 0%       ~ (p=1.000 n=10) ¹
    Parse-8             1.510M ± 0%   1.510M ± 0%       ~ (p=1.000 n=10)
    geomean             8.689k        8.689k       +0.00%
    ¹ all samples are equal

            │    master    │               HEAD               │
            │   bytes/op   │   bytes/op    vs base            │
    Parse-8   15.99Mi ± 0%   15.99Mi ± 0%  ~ (p=1.000 n=10) ¹
    ¹ all samples are equal

Follow up on <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="1524718483" data-permission-text="Title is private" data-url="https://github.com/zalando/skipper/issues/2193" data-hovercard-type="pull_request" data-hovercard-url="/zalando/skipper/pull/2193/hovercard" href="https://github.com/zalando/skipper/pull/2193">#2193</a>

Multiarch Docker image

Multiarch Docker image is available in Github's docker registry:

    docker run -it ghcr.io/zalando/skipper:v0.22.39 skipper --help

Docker image

Docker image is available in Zalando's Open Source registry:

    docker run -it registry.opensource.zalan.do/teapot/skipper:v0.22.39 skipper --help


