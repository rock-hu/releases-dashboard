# v0.81.1

## release on 20250130

## description

## changes

* <strong>[Feature]</strong>: Always include source file content sources in HMR source maps. Fixes <a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2821183150" data-permission-text="Title is private" data-url="https://github.com/facebook/react-native/issues/49069" data-hovercard-type="issue" data-hovercard-url="/facebook/react-native/issues/49069/hovercard" href="https://github.com/facebook/react-native/issues/49069">facebook/react-native#49069</a> (breakpoints are inconsistent after fast refresh) (<a class="commit-link" data-hovercard-type="commit" data-hovercard-url="https://github.com/facebook/metro/commit/cd7a93557453ff3c36e367ef7a049471f1fbe182/hovercard" href="https://github.com/facebook/metro/commit/cd7a93557453ff3c36e367ef7a049471f1fbe182"><tt>cd7a935</tt></a> by <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/vzaidman/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/vzaidman">@vzaidman</a>)
* <strong>[Fix]</strong>: Fix edge case where files may appear missing during bundling/resolution while being modified. (<a class="commit-link" data-hovercard-type="commit" data-hovercard-url="https://github.com/facebook/metro/commit/2a0b548519f97acad1d1809bfdcc9ada5df4d006/hovercard" href="https://github.com/facebook/metro/commit/2a0b548519f97acad1d1809bfdcc9ada5df4d006"><tt>2a0b548</tt></a> by <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/robhogan/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/robhogan">@robhogan</a>)
* <strong>[Fix]</strong>: Import-exports-plugin: Rename <code>module</code>/<code>require</code>/<code>exports</code>/<code>global</code> declarations to avoid conflicts with injected args or generated code. (<a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2646639016" data-permission-text="Title is private" data-url="https://github.com/facebook/metro/issues/1385" data-hovercard-type="pull_request" data-hovercard-url="/facebook/metro/pull/1385/hovercard" href="https://github.com/facebook/metro/pull/1385">#1385</a> by <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/robhogan/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/robhogan">@robhogan</a>)
* <strong>[Fix]</strong>: Don't use console.log directly in bundle builds. (<a class="commit-link" data-hovercard-type="commit" data-hovercard-url="https://github.com/facebook/metro/commit/91d74d010c2fb058bbb68cca7591bb092a7260db/hovercard" href="https://github.com/facebook/metro/commit/91d74d010c2fb058bbb68cca7591bb092a7260db"><tt>91d74d0</tt></a> by <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/robhogan/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/robhogan">@robhogan</a>)
* <strong>[Fix]</strong>: Haste conflicts created after startup could cause inconsistent filesystem state. (<a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2728092783" data-permission-text="Title is private" data-url="https://github.com/facebook/metro/issues/1399" data-hovercard-type="pull_request" data-hovercard-url="/facebook/metro/pull/1399/hovercard" href="https://github.com/facebook/metro/pull/1399">#1399</a> by <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/robhogan/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/robhogan">@robhogan</a>)
* <strong>[Fix]</strong>: Don't enter zombie state on startup Haste collisions. (<a class="commit-link" data-hovercard-type="commit" data-hovercard-url="https://github.com/facebook/metro/commit/0fc8e45c2f2609fcc52240e554d9a43471c54f84/hovercard" href="https://github.com/facebook/metro/commit/0fc8e45c2f2609fcc52240e554d9a43471c54f84"><tt>0fc8e45</tt></a> by <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/robhogan/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/robhogan">@robhogan</a>)
* <strong>[Performance]</strong>: Exclude React Compiler runtime from inline requires. (<a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2666247826" data-permission-text="Title is private" data-url="https://github.com/facebook/metro/issues/1390" data-hovercard-type="pull_request" data-hovercard-url="/facebook/metro/pull/1390/hovercard" href="https://github.com/facebook/metro/pull/1390">#1390</a> by <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/gaearon/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/gaearon">@gaearon</a>)
* <strong>[Performance]</strong>: Optimize the number of workers to use for parallel processing to use <code>os.availableParallelism</code> instead of <code>os.cpus</code>. (<a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2626828768" data-permission-text="Title is private" data-url="https://github.com/facebook/metro/issues/1378" data-hovercard-type="pull_request" data-hovercard-url="/facebook/metro/pull/1378/hovercard" href="https://github.com/facebook/metro/pull/1378">#1378</a> by <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/screetBloom/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/screetBloom">@screetBloom</a>)
* <strong>[Performance]</strong>: Don't stat ignored files in fsevents watcher. (<a class="commit-link" data-hovercard-type="commit" data-hovercard-url="https://github.com/facebook/metro/commit/a1c9cdb6d55844f60861192ffbb0232953faf713/hovercard" href="https://github.com/facebook/metro/commit/a1c9cdb6d55844f60861192ffbb0232953faf713"><tt>a1c9cdb</tt></a> by <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/robhogan/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/robhogan">@robhogan</a>)
* <strong>[Performance]</strong>: Don't walk project on startup when using fsevents watcher on macOS. (<a class="commit-link" data-hovercard-type="commit" data-hovercard-url="https://github.com/facebook/metro/commit/122bdbdc393abea441be652068e038bdc916d8e8/hovercard" href="https://github.com/facebook/metro/commit/122bdbdc393abea441be652068e038bdc916d8e8"><tt>122bdbd</tt></a> by <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/robhogan/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/robhogan">@robhogan</a>)
* <strong>[Performance]</strong>: Use fast, recursive watch on macOS regardless of optional dependency installation. (<a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2759061487" data-permission-text="Title is private" data-url="https://github.com/facebook/metro/issues/1420" data-hovercard-type="pull_request" data-hovercard-url="/facebook/metro/pull/1420/hovercard" href="https://github.com/facebook/metro/pull/1420">#1420</a> by <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/robhogan/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/robhogan">@robhogan</a>)

<strong>Full Changelog</strong>: <a class="commit-link" href="https://github.com/facebook/metro/compare/v0.81.0...v0.81.1"><tt>v0.81.0...v0.81.1</tt></a>

