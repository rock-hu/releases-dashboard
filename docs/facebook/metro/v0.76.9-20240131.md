# v0.76.9

## release on 20240131

## description

## changes

<em>This is a hotfix release on the <a href="https://github.com/facebook/metro/tree/0.76.x"><code>0.76.x</code></a> branch.</em>

* <strong>[Fix]:</strong> Move <code>metro-minify-terser</code> dependency to fix resolution under isolated node_modules (pnpm, etc).(<a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2098408164" data-permission-text="Title is private" data-url="https://github.com/facebook/metro/issues/1199" data-hovercard-type="pull_request" data-hovercard-url="/facebook/metro/pull/1199/hovercard" href="https://github.com/facebook/metro/pull/1199">#1199</a> by <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/robhogan/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/robhogan">@robhogan</a>)
* <strong>[Fix]</strong>: <code>inline-plugin</code>: Don't replace <code>__DEV__</code> in invalid Babel AST locations. (<a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2090625380" data-permission-text="Title is private" data-url="https://github.com/facebook/metro/issues/1195" data-hovercard-type="pull_request" data-hovercard-url="/facebook/metro/pull/1195/hovercard" href="https://github.com/facebook/metro/pull/1195">#1195</a> by <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/kitten/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/kitten">@kitten</a>)
* <strong>[Fix]</strong>: <code>constant-folding-plugin</code>: Don't fold optional function calls (<code>foo.?()</code>). (<a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="2080242667" data-permission-text="Title is private" data-url="https://github.com/facebook/metro/issues/1178" data-hovercard-type="pull_request" data-hovercard-url="/facebook/metro/pull/1178/hovercard" href="https://github.com/facebook/metro/pull/1178">#1178</a> by <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/Gamote/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/Gamote">@Gamote</a>)
* <strong>[Fix]</strong>: Incorrect worker resolution when multiple <code>metro</code> versions are installed. (<a class="commit-link" data-hovercard-type="commit" data-hovercard-url="https://github.com/facebook/metro/commit/6d46078e74ae9a43aa90bed46dbd6610e2696cd0/hovercard" href="https://github.com/facebook/metro/commit/6d46078e74ae9a43aa90bed46dbd6610e2696cd0"><tt>6d46078</tt></a> by <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/robhogan/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/robhogan">@robhogan</a>)
* <strong>[Fix]</strong>: Fix "unexpected null" crash when handling a batch of file changes. (<a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="1896728653" data-permission-text="Title is private" data-url="https://github.com/facebook/metro/issues/1083" data-hovercard-type="pull_request" data-hovercard-url="/facebook/metro/pull/1083/hovercard" href="https://github.com/facebook/metro/pull/1083">#1083</a> by <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/robhogan/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/robhogan">@robhogan</a>)
* <strong>[Fix]</strong>: Fix Fast Refresh edge case where removing an async dependency could incorrectly remove modules from the graph. (<a class="commit-link" data-hovercard-type="commit" data-hovercard-url="https://github.com/facebook/metro/commit/19d328459f910aa222b4599b4b28765fde82aa3d/hovercard" href="https://github.com/facebook/metro/commit/19d328459f910aa222b4599b4b28765fde82aa3d"><tt>19d3284</tt></a> by <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/robhogan/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/robhogan">@robhogan</a>)
* <strong>[Fix]</strong>: Fix sourceMapUrl when building bundles for windows/macOS (<a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="1114442154" data-permission-text="Title is private" data-url="https://github.com/facebook/metro/issues/763" data-hovercard-type="pull_request" data-hovercard-url="/facebook/metro/pull/763/hovercard" href="https://github.com/facebook/metro/pull/763">#763</a> by <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/acoates-ms/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/acoates-ms">@acoates-ms</a>)

> NOTE: Experimental features are not covered by semver and can change at any time.

* <strong>[Experimental]</strong>: When enabled, the <code>"exports"</code> field is now considered for Haste packages (which could include local monorepo packages) (<a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="1988295704" data-permission-text="Title is private" data-url="https://github.com/facebook/metro/issues/1136" data-hovercard-type="pull_request" data-hovercard-url="/facebook/metro/pull/1136/hovercard" href="https://github.com/facebook/metro/pull/1136">#1136</a> by <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/kraenhansen/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/kraenhansen">@kraenhansen</a>)
* <strong>[Experimental]</strong>: Fix <code>sourceMappingUrl</code> in HMR payloads when using <code>unstable_serverRoot</code> (<a class="issue-link js-issue-link" data-error-text="Failed to load title" data-id="1988759592" data-permission-text="Title is private" data-url="https://github.com/facebook/metro/issues/1137" data-hovercard-type="pull_request" data-hovercard-url="/facebook/metro/pull/1137/hovercard" href="https://github.com/facebook/metro/pull/1137">#1137</a> by <a class="user-mention notranslate" data-hovercard-type="user" data-hovercard-url="/users/EvanBacon/hovercard" data-octo-click="hovercard-link-click" data-octo-dimensions="link_type:self" href="https://github.com/EvanBacon">@EvanBacon</a>)

<strong>Full Changelog</strong>: <a class="commit-link" href="https://github.com/facebook/metro/compare/v0.76.8...v0.76.9"><tt>v0.76.8...v0.76.9</tt></a>

