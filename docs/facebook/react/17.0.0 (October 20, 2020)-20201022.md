# 17.0.0 (October 20, 2020)

## release on 20201022

## description

## changes

Today, we are releasing React 17!

<strong><a href="https://reactjs.org/blog/2020/10/20/react-v17.html" rel="nofollow">Learn more about React 17 and how to update to it on the official React blog.</a></strong>

React

* Add <code>react/jsx-runtime</code> and <code>react/jsx-dev-runtime</code> for the <a href="https://babeljs.io/blog/2020/03/16/7.9.0#a-new-jsx-transform-11154-https-githubcom-babel-babel-pull-11154" rel="nofollow">new JSX transform</a>. (<a href="https://github.com/lunaruan">@lunaruan</a> in <a href="https://github.com/facebook/react/pull/18299" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/18299/hovercard">#18299</a>)
* Build component stacks from native error frames. (<a href="https://github.com/sebmarkbage">@sebmarkbage</a> in <a href="https://github.com/facebook/react/pull/18561" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/18561/hovercard">#18561</a>)
* Allow to specify <code>displayName</code> on context for improved stacks. (<a href="https://github.com/eps1lon">@eps1lon</a> in <a href="https://github.com/facebook/react/pull/18224" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/18224/hovercard">#18224</a>)
* Prevent <code>'use strict'</code> from leaking in the UMD bundles. (<a href="https://github.com/koba04">@koba04</a> in <a href="https://github.com/facebook/react/pull/19614" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/19614/hovercard">#19614</a>)
* Stop using <code>fb.me</code> for redirects. (<a href="https://github.com/cylim">@cylim</a> in <a href="https://github.com/facebook/react/pull/19598" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/19598/hovercard">#19598</a>)

React DOM

* Delegate events to roots instead of <code>document</code>. (<a href="https://github.com/trueadm">@trueadm</a> in <a href="https://github.com/facebook/react/pull/18195" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/18195/hovercard">#18195</a> and <a href="https://github.com/facebook/react/pulls?q=is%3Apr+author%3Atrueadm+modern+event+is%3Amerged">others</a>)
* Clean up all effects before running any next effects. (<a href="https://github.com/bvaughn">@bvaughn</a> in <a href="https://github.com/facebook/react/pull/17947" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/17947/hovercard">#17947</a>)
* Run <code>useEffect</code> cleanup functions asynchronously. (<a href="https://github.com/bvaughn">@bvaughn</a> in <a href="https://github.com/facebook/react/pull/17925" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/17925/hovercard">#17925</a>)
* Use browser <code>focusin</code> and <code>focusout</code> for <code>onFocus</code> and <code>onBlur</code>. (<a href="https://github.com/trueadm">@trueadm</a> in <a href="https://github.com/facebook/react/pull/19186" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/19186/hovercard">#19186</a>)
* Make all <code>Capture</code> events use the browser capture phase. (<a href="https://github.com/trueadm">@trueadm</a> in <a href="https://github.com/facebook/react/pull/19221" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/19221/hovercard">#19221</a>)
* Don't emulate bubbling of the <code>onScroll</code> event. (<a href="https://github.com/gaearon">@gaearon</a> in <a href="https://github.com/facebook/react/pull/19464" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/19464/hovercard">#19464</a>)
* Throw if <code>forwardRef</code> or <code>memo</code> component returns <code>undefined</code>. (<a href="https://github.com/gaearon">@gaearon</a> in <a href="https://github.com/facebook/react/pull/19550" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/19550/hovercard">#19550</a>)
* Remove event pooling. (<a href="https://github.com/trueadm">@trueadm</a> in <a href="https://github.com/facebook/react/pull/18969" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/18969/hovercard">#18969</a>)
* Stop exposing internals that wonâ€™t be needed by React Native Web. (<a href="https://github.com/necolas">@necolas</a> in <a href="https://github.com/facebook/react/pull/18483" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/18483/hovercard">#18483</a>)
* Attach all known event listeners when the root mounts. (<a href="https://github.com/gaearon">@gaearon</a> in <a href="https://github.com/facebook/react/pull/19659" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/19659/hovercard">#19659</a>)
* Disable <code>console</code> in the second render pass of DEV mode double render. (<a href="https://github.com/sebmarkbage">@sebmarkbage</a> in <a href="https://github.com/facebook/react/pull/18547" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/18547/hovercard">#18547</a>)
* Deprecate the undocumented and misleading <code>ReactTestUtils.SimulateNative</code> API. (<a href="https://github.com/gaearon">@gaearon</a> in <a href="https://github.com/facebook/react/pull/13407" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/13407/hovercard">#13407</a>)
* Rename private field names used in the internals. (<a href="https://github.com/gaearon">@gaearon</a> in <a href="https://github.com/facebook/react/pull/18377" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/18377/hovercard">#18377</a>)
* Don't call User Timing API in development. (<a href="https://github.com/gaearon">@gaearon</a> in <a href="https://github.com/facebook/react/pull/18417" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/18417/hovercard">#18417</a>)
* Disable console during the repeated render in Strict Mode. (<a href="https://github.com/sebmarkbage">@sebmarkbage</a> in <a href="https://github.com/facebook/react/pull/18547" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/18547/hovercard">#18547</a>)
* In Strict Mode, double-render components without Hooks too. (<a href="https://github.com/eps1lon">@eps1lon</a> in <a href="https://github.com/facebook/react/pull/18430" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/18430/hovercard">#18430</a>)
* Allow calling <code>ReactDOM.flushSync</code> during lifecycle methods (but warn). (<a href="https://github.com/sebmarkbage">@sebmarkbage</a> in <a href="https://github.com/facebook/react/pull/18759" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/18759/hovercard">#18759</a>)
* Add the <code>code</code> property to the keyboard event objects. (<a href="https://github.com/bl00mber">@bl00mber</a> in <a href="https://github.com/facebook/react/pull/18287" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/18287/hovercard">#18287</a>)
* Add the <code>disableRemotePlayback</code> property for <code>video</code> elements. (<a href="https://github.com/tombrowndev">@tombrowndev</a> in <a href="https://github.com/facebook/react/pull/18619" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/18619/hovercard">#18619</a>)
* Add the <code>enterKeyHint</code> property for <code>input</code> elements. (<a href="https://github.com/eps1lon">@eps1lon</a> in <a href="https://github.com/facebook/react/pull/18634" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/18634/hovercard">#18634</a>)
* Warn when no <code>value</code> is provided to <code>&lt;Context.Provider&gt;</code>. (<a href="https://github.com/charlie1404">@charlie1404</a> in <a href="https://github.com/facebook/react/pull/19054" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/19054/hovercard">#19054</a>)
* Warn when <code>memo</code> or <code>forwardRef</code> components return <code>undefined</code>. (<a href="https://github.com/bvaughn">@bvaughn</a> in <a href="https://github.com/facebook/react/pull/19550" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/19550/hovercard">#19550</a>)
* Improve the error message for invalid updates. (<a href="https://github.com/JoviDeCroock">@JoviDeCroock</a> in <a href="https://github.com/facebook/react/pull/18316" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/18316/hovercard">#18316</a>)
* Exclude forwardRef and memo from stack frames. (<a href="https://github.com/sebmarkbage">@sebmarkbage</a> in <a href="https://github.com/facebook/react/pull/18559" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/18559/hovercard">#18559</a>)
* Improve the error message when switching between controlled and uncontrolled inputs. (<a href="https://github.com/vcarl">@vcarl</a> in <a href="https://github.com/facebook/react/pull/17070" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/17070/hovercard">#17070</a>)
* Keep <code>onTouchStart</code>, <code>onTouchMove</code>, and <code>onWheel</code> passive. (<a href="https://github.com/gaearon">@gaearon</a> in <a href="https://github.com/facebook/react/pull/19654" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/19654/hovercard">#19654</a>)
* Fix <code>setState</code> hanging in development inside a closed iframe. (<a href="https://github.com/gaearon">@gaearon</a> in <a href="https://github.com/facebook/react/pull/19220" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/19220/hovercard">#19220</a>)
* Fix rendering bailout for lazy components with <code>defaultProps</code>. (<a href="https://github.com/jddxf">@jddxf</a> in <a href="https://github.com/facebook/react/pull/18539" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/18539/hovercard">#18539</a>)
* Fix a false positive warning when <code>dangerouslySetInnerHTML</code> is <code>undefined</code>. (<a href="https://github.com/eps1lon">@eps1lon</a> in <a href="https://github.com/facebook/react/pull/18676" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/18676/hovercard">#18676</a>)
* Fix Test Utils with non-standard <code>require</code> implementation. (<a href="https://github.com/just-boris">@just-boris</a> in <a href="https://github.com/facebook/react/pull/18632" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/18632/hovercard">#18632</a>)
* Fix <code>onBeforeInput</code> reporting an incorrect <code>event.type</code>. (<a href="https://github.com/eps1lon">@eps1lon</a> in <a href="https://github.com/facebook/react/pull/19561" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/19561/hovercard">#19561</a>)
* Fix <code>event.relatedTarget</code> reported as <code>undefined</code> in Firefox. (<a href="https://github.com/claytercek">@claytercek</a> in <a href="https://github.com/facebook/react/pull/19607" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/19607/hovercard">#19607</a>)
* Fix "unspecified error" in IE11. (<a href="https://github.com/hemakshis">@hemakshis</a> in <a href="https://github.com/facebook/react/pull/19664" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/19664/hovercard">#19664</a>)
* Fix rendering into a shadow root. (<a href="https://github.com/Jack-Works">@Jack-Works</a> in <a href="https://github.com/facebook/react/pull/15894" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/15894/hovercard">#15894</a>)
* Fix <code>movementX/Y</code> polyfill with capture events. (<a href="https://github.com/gaearon">@gaearon</a> in <a href="https://github.com/facebook/react/pull/19672" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/19672/hovercard">#19672</a>)
* Use delegation for <code>onSubmit</code> and <code>onReset</code> events. (<a href="https://github.com/gaearon">@gaearon</a> in <a href="https://github.com/facebook/react/pull/19333" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/19333/hovercard">#19333</a>)
* Improve memory usage. (<a href="https://github.com/trueadm">@trueadm</a> in <a href="https://github.com/facebook/react/pull/18970" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/18970/hovercard">#18970</a>)

React DOM Server

* Make <code>useCallback</code> behavior consistent with <code>useMemo</code> for the server renderer. (<a href="https://github.com/alexmckenley">@alexmckenley</a> in <a href="https://github.com/facebook/react/pull/18783" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/18783/hovercard">#18783</a>)
* Fix state leaking when a function component throws. (<a href="https://github.com/pmaccart">@pmaccart</a> in <a href="https://github.com/facebook/react/pull/19212" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/19212/hovercard">#19212</a>)

React Test Renderer

* Improve <code>findByType</code> error message. (<a href="https://github.com/henryqdineen">@henryqdineen</a> in <a href="https://github.com/facebook/react/pull/17439" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/17439/hovercard">#17439</a>)

Concurrent Mode (Experimental)

* Revamp the priority batching heuristics. (<a href="https://github.com/acdlite">@acdlite</a> in <a href="https://github.com/facebook/react/pull/18796" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/18796/hovercard">#18796</a>)
* Add the <code>unstable_</code> prefix before the experimental APIs. (<a href="https://github.com/acdlite">@acdlite</a> in <a href="https://github.com/facebook/react/pull/18825" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/18825/hovercard">#18825</a>)
* Remove <code>unstable_discreteUpdates</code> and <code>unstable_flushDiscreteUpdates</code>. (<a href="https://github.com/trueadm">@trueadm</a> in <a href="https://github.com/facebook/react/pull/18825" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/18825/hovercard">#18825</a>)
* Remove the <code>timeoutMs</code> argument. (<a href="https://github.com/acdlite">@acdlite</a> in <a href="https://github.com/facebook/react/pull/19703" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/19703/hovercard">#19703</a>)
* Disable <code>&lt;div hidden /&gt;</code> prerendering in favor of a different future API. (<a href="https://github.com/acdlite">@acdlite</a> in <a href="https://github.com/facebook/react/pull/18917" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/18917/hovercard">#18917</a>)
* Add <code>unstable_expectedLoadTime</code> to Suspense for CPU-bound trees. (<a href="https://github.com/acdlite">@acdlite</a> in <a href="https://github.com/facebook/react/pull/19936" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/19936/hovercard">#19936</a>)
* Add an experimental <code>unstable_useOpaqueIdentifier</code> Hook. (<a href="https://github.com/lunaruan">@lunaruan</a> in <a href="https://github.com/facebook/react/pull/17322" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/17322/hovercard">#17322</a>)
* Add an experimental <code>unstable_startTransition</code> API. (<a href="https://github.com/rickhanlonii">@rickhanlonii</a> in <a href="https://github.com/facebook/react/pull/19696" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/19696/hovercard">#19696</a>)
* Using <code>act</code> in the test renderer no longer flushes Suspense fallbacks. (<a href="https://github.com/acdlite">@acdlite</a> in <a href="https://github.com/facebook/react/pull/18596" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/18596/hovercard">#18596</a>)
* Use global render timeout for CPU Suspense. (<a href="https://github.com/sebmarkbage">@sebmarkbage</a> in <a href="https://github.com/facebook/react/pull/19643" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/19643/hovercard">#19643</a>)
* Clear the existing root content before mounting. (<a href="https://github.com/bvaughn">@bvaughn</a> in <a href="https://github.com/facebook/react/pull/18730" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/18730/hovercard">#18730</a>)
* Fix a bug with error boundaries. (<a href="https://github.com/acdlite">@acdlite</a> in <a href="https://github.com/facebook/react/pull/18265" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/18265/hovercard">#18265</a>)
* Fix a bug causing dropped updates in a suspended tree. (<a href="https://github.com/acdlite">@acdlite</a> in <a href="https://github.com/facebook/react/pull/18384" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/18384/hovercard">#18384</a> and <a href="https://github.com/facebook/react/pull/18457" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/18457/hovercard">#18457</a>)
* Fix a bug causing dropped render phase updates. (<a href="https://github.com/acdlite">@acdlite</a> in <a href="https://github.com/facebook/react/pull/18537" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/18537/hovercard">#18537</a>)
* Fix a bug in SuspenseList. (<a href="https://github.com/sebmarkbage">@sebmarkbage</a> in <a href="https://github.com/facebook/react/pull/18412" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/18412/hovercard">#18412</a>)
* Fix a bug causing Suspense fallback to show too early. (<a href="https://github.com/acdlite">@acdlite</a> in <a href="https://github.com/facebook/react/pull/18411" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/18411/hovercard">#18411</a>)
* Fix a bug with class components inside SuspenseList. (<a href="https://github.com/sebmarkbage">@sebmarkbage</a> in <a href="https://github.com/facebook/react/pull/18448" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/18448/hovercard">#18448</a>)
* Fix a bug with inputs that may cause updates to be dropped. (<a href="https://github.com/jddxf">@jddxf</a> in <a href="https://github.com/facebook/react/pull/18515" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/18515/hovercard">#18515</a> and <a href="https://github.com/acdlite">@acdlite</a> in <a href="https://github.com/facebook/react/pull/18535" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/18535/hovercard">#18535</a>)
* Fix a bug causing Suspense fallback to get stuck. (<a href="https://github.com/acdlite">@acdlite</a> in <a href="https://github.com/facebook/react/pull/18663" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/18663/hovercard">#18663</a>)
* Don't cut off the tail of a SuspenseList if hydrating. (<a href="https://github.com/sebmarkbage">@sebmarkbage</a> in <a href="https://github.com/facebook/react/pull/18854" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/18854/hovercard">#18854</a>)
* Fix a bug in <code>useMutableSource</code> that may happen when <code>getSnapshot</code> changes. (<a href="https://github.com/bvaughn">@bvaughn</a> in <a href="https://github.com/facebook/react/pull/18297" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/18297/hovercard">#18297</a>)
* Fix a tearing bug in <code>useMutableSource</code>. (<a href="https://github.com/bvaughn">@bvaughn</a> in <a href="https://github.com/facebook/react/pull/18912" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/18912/hovercard">#18912</a>)
* Warn if calling setState outside of render but before commit. (<a href="https://github.com/sebmarkbage">@sebmarkbage</a> in <a href="https://github.com/facebook/react/pull/18838" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/18838/hovercard">#18838</a>)

Artifacts

* react: <a href="https://unpkg.com/react@17.0.1/umd/" rel="nofollow">https://unpkg.com/react@17.0.1/umd/</a>
* react-art: <a href="https://unpkg.com/react-art@17.0.1/umd/" rel="nofollow">https://unpkg.com/react-art@17.0.1/umd/</a>
* react-dom: <a href="https://unpkg.com/react-dom@17.0.1/umd/" rel="nofollow">https://unpkg.com/react-dom@17.0.1/umd/</a>
* react-is: <a href="https://unpkg.com/react-is@17.0.1/umd/" rel="nofollow">https://unpkg.com/react-is@17.0.1/umd/</a>
* react-test-renderer: <a href="https://unpkg.com/react-test-renderer@17.0.1/umd/" rel="nofollow">https://unpkg.com/react-test-renderer@17.0.1/umd/</a>
* scheduler: <a href="https://unpkg.com/scheduler@0.20.1/umd/" rel="nofollow">https://unpkg.com/scheduler@0.20.1/umd/</a>

