# 18.0.0 (March 29, 2022)

## release on 20230130

## description

## changes

Below is a list of all new features, APIs, deprecations, and breaking changes.

Read <a href="https://reactjs.org/blog/2022/03/29/react-v18.html" rel="nofollow">React 18 release post</a> and <a href="https://reactjs.org/blog/2022/03/08/react-18-upgrade-guide.html" rel="nofollow">React 18 upgrade guide</a> for more information.

New Features

React

* <code>useId</code> is a new hook for generating unique IDs on both the client and server, while avoiding hydration mismatches. It is primarily useful for component libraries integrating with accessibility APIs that require unique IDs. This solves an issue that already exists in React 17 and below, but it’s even more important in React 18 because of how the new streaming server renderer delivers HTML out-of-order.
* <code>startTransition</code> and <code>useTransition</code> let you mark some state updates as not urgent. Other state updates are considered urgent by default. React will allow urgent state updates (for example, updating a text input) to interrupt non-urgent state updates (for example, rendering a list of search results).
* <code>useDeferredValue</code> lets you defer re-rendering a non-urgent part of the tree. It is similar to debouncing, but has a few advantages compared to it. There is no fixed time delay, so React will attempt the deferred render right after the first render is reflected on the screen. The deferred render is interruptible and doesn't block user input.
* <code>useSyncExternalStore</code> is a new hook that allows external stores to support concurrent reads by forcing updates to the store to be synchronous. It removes the need for <code>useEffect</code> when implementing subscriptions to external data sources, and is recommended for any library that integrates with state external to React.
* <code>useInsertionEffect</code> is a new hook that allows CSS-in-JS libraries to address performance issues of injecting styles in render. Unless you’ve already built a CSS-in-JS library we don’t expect you to ever use this. This hook will run after the DOM is mutated, but before layout effects read the new layout. This solves an issue that already exists in React 17 and below, but is even more important in React 18 because React yields to the browser during concurrent rendering, giving it a chance to recalculate layout.

React DOM Client

These new APIs are now exported from <code>react-dom/client</code>:

* <code>createRoot</code>: New method to create a root to <code>render</code> or <code>unmount</code>. Use it instead of <code>ReactDOM.render</code>. New features in React 18 don't work without it.
* <code>hydrateRoot</code>: New method to hydrate a server rendered application. Use it instead of <code>ReactDOM.hydrate</code> in conjunction with the new React DOM Server APIs. New features in React 18 don't work without it.

Both <code>createRoot</code> and <code>hydrateRoot</code> accept a new option called <code>onRecoverableError</code> in case you want to be notified when React recovers from errors during rendering or hydration for logging. By default, React will use <a href="https://developer.mozilla.org/en-US/docs/Web/API/reportError" rel="nofollow"><code>reportError</code></a>, or <code>console.error</code> in the older browsers.

React DOM Server

These new APIs are now exported from <code>react-dom/server</code> and have full support for streaming Suspense on the server:

* <code>renderToPipeableStream</code>: for streaming in Node environments.
* <code>renderToReadableStream</code>: for modern edge runtime environments, such as Deno and Cloudflare workers.

The existing <code>renderToString</code> method keeps working but is discouraged.

Deprecations

* <code>react-dom</code>: <code>ReactDOM.render</code> has been deprecated. Using it will warn and run your app in React 17 mode.
* <code>react-dom</code>: <code>ReactDOM.hydrate</code> has been deprecated. Using it will warn and run your app in React 17 mode.
* <code>react-dom</code>: <code>ReactDOM.unmountComponentAtNode</code> has been deprecated.
* <code>react-dom</code>: <code>ReactDOM.renderSubtreeIntoContainer</code> has been deprecated.
* <code>react-dom/server</code>: <code>ReactDOMServer.renderToNodeStream</code> has been deprecated.

Breaking Changes

React

* <strong>Automatic batching:</strong> This release introduces a performance improvement that changes to the way React batches updates to do more batching automatically. See <a href="https://github.com/reactwg/react-18/discussions/21" data-hovercard-type="discussion" data-hovercard-url="/reactwg/react-18/discussions/21/hovercard">Automatic batching for fewer renders in React 18</a> for more info. In the rare case that you need to opt out, wrap the state update in <code>flushSync</code>.
* <strong>Stricter Strict Mode</strong>: In the future, React will provide a feature that lets components preserve state between unmounts. To prepare for it, React 18 introduces a new development-only check to Strict Mode. React will automatically unmount and remount every component, whenever a component mounts for the first time, restoring the previous state on the second mount. If this breaks your app, consider removing Strict Mode until you can fix the components to be resilient to remounting with existing state.
* <strong>Consistent useEffect timing</strong>: React now always synchronously flushes effect functions if the update was triggered during a discrete user input event such as a click or a keydown event. Previously, the behavior wasn't always predictable or consistent.
* <strong>Stricter hydration errors</strong>: Hydration mismatches due to missing or extra text content are now treated like errors instead of warnings. React will no longer attempt to "patch up" individual nodes by inserting or deleting a node on the client in an attempt to match the server markup, and will revert to client rendering up to the closest <code>&lt;Suspense&gt;</code> boundary in the tree. This ensures the hydrated tree is consistent and avoids potential privacy and security holes that can be caused by hydration mismatches.
* <strong>Suspense trees are always consistent:</strong> If a component suspends before it's fully added to the tree, React will not add it to the tree in an incomplete state or fire its effects. Instead, React will throw away the new tree completely, wait for the asynchronous operation to finish, and then retry rendering again from scratch. React will render the retry attempt concurrently, and without blocking the browser.
* <strong>Layout Effects with Suspense</strong>: When a tree re-suspends and reverts to a fallback, React will now clean up layout effects, and then re-create them when the content inside the boundary is shown again. This fixes an issue which prevented component libraries from correctly measuring layout when used with Suspense.
* <strong>New JS Environment Requirements</strong>: React now depends on modern browsers features including <code>Promise</code>, <code>Symbol</code>, and <code>Object.assign</code>. If you support older browsers and devices such as Internet Explorer which do not provide modern browser features natively or have non-compliant implementations, consider including a global polyfill in your bundled application.

Scheduler (Experimental)

* Remove unstable <code>scheduler/tracing</code> API

Notable Changes

React

* <strong>Components can now render <code>undefined</code>:</strong> React no longer throws if you return <code>undefined</code> from a component. This makes the allowed component return values consistent with values that are allowed in the middle of a component tree. We suggest to use a linter to prevent mistakes like forgetting a <code>return</code> statement before JSX.
* <strong>In tests, <code>act</code> warnings are now opt-in:</strong> If you're running end-to-end tests, the <code>act</code> warnings are unnecessary. We've introduced an <a href="https://github.com/reactwg/react-18/discussions/102" data-hovercard-type="discussion" data-hovercard-url="/reactwg/react-18/discussions/102/hovercard">opt-in</a> mechanism so you can enable them only for unit tests where they are useful and beneficial.
* <strong>No warning about <code>setState</code> on unmounted components:</strong> Previously, React warned about memory leaks when you call <code>setState</code> on an unmounted component. This warning was added for subscriptions, but people primarily run into it in scenarios where setting state is fine, and workarounds make the code worse. We've <a href="https://github.com/facebook/react/pull/22114" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/22114/hovercard">removed</a> this warning.
* <strong>No suppression of console logs:</strong> When you use Strict Mode, React renders each component twice to help you find unexpected side effects. In React 17, we've suppressed console logs for one of the two renders to make the logs easier to read. In response to <a href="https://github.com/facebook/react/issues/21783" data-hovercard-type="issue" data-hovercard-url="/facebook/react/issues/21783/hovercard">community feedback</a> about this being confusing, we've removed the suppression. Instead, if you have React DevTools installed, the second log's renders will be displayed in grey, and there will be an option (off by default) to suppress them completely.
* <strong>Improved memory usage:</strong> React now cleans up more internal fields on unmount, making the impact from unfixed memory leaks that may exist in your application code less severe.

React DOM Server

* <strong><code>renderToString</code>:</strong> Will no longer error when suspending on the server. Instead, it will emit the fallback HTML for the closest <code>&lt;Suspense&gt;</code> boundary and then retry rendering the same content on the client. It is still recommended that you switch to a streaming API like <code>renderToPipeableStream</code> or <code>renderToReadableStream</code> instead.
* <strong><code>renderToStaticMarkup</code>:</strong> Will no longer error when suspending on the server. Instead, it will emit the fallback HTML for the closest <code>&lt;Suspense&gt;</code> boundary and retry rendering on the client.

All Changes

React

* Add <code>useTransition</code> and <code>useDeferredValue</code> to separate urgent updates from transitions. (<a href="https://github.com/facebook/react/pull/10426" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/10426/hovercard">#10426</a>, <a href="https://github.com/facebook/react/pull/10715" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/10715/hovercard">#10715</a>, <a href="https://github.com/facebook/react/pull/15593" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/15593/hovercard">#15593</a>, <a href="https://github.com/facebook/react/pull/15272" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/15272/hovercard">#15272</a>, <a href="https://github.com/facebook/react/pull/15578" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/15578/hovercard">#15578</a>, <a href="https://github.com/facebook/react/pull/15769" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/15769/hovercard">#15769</a>, <a href="https://github.com/facebook/react/pull/17058" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/17058/hovercard">#17058</a>, <a href="https://github.com/facebook/react/pull/18796" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/18796/hovercard">#18796</a>, <a href="https://github.com/facebook/react/pull/19121" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/19121/hovercard">#19121</a>, <a href="https://github.com/facebook/react/pull/19703" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/19703/hovercard">#19703</a>, <a href="https://github.com/facebook/react/pull/19719" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/19719/hovercard">#19719</a>, <a href="https://github.com/facebook/react/pull/19724" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/19724/hovercard">#19724</a>, <a href="https://github.com/facebook/react/pull/20672" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/20672/hovercard">#20672</a>, <a href="https://github.com/facebook/react/pull/20976" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/20976/hovercard">#20976</a> by <a href="https://github.com/acdlite">@acdlite</a>, <a href="https://github.com/lunaruan">@lunaruan</a>, <a href="https://github.com/rickhanlonii">@rickhanlonii</a>, and <a href="https://github.com/sebmarkbage">@sebmarkbage</a>)
* Add <code>useId</code> for generating unique IDs. (<a href="https://github.com/facebook/react/pull/17322" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/17322/hovercard">#17322</a>, <a href="https://github.com/facebook/react/pull/18576" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/18576/hovercard">#18576</a>, <a href="https://github.com/facebook/react/pull/22644" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/22644/hovercard">#22644</a>, <a href="https://github.com/facebook/react/pull/22672" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/22672/hovercard">#22672</a>, <a href="https://github.com/facebook/react/pull/21260" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/21260/hovercard">#21260</a> by <a href="https://github.com/acdlite">@acdlite</a>, <a href="https://github.com/lunaruan">@lunaruan</a>, and <a href="https://github.com/sebmarkbage">@sebmarkbage</a>)
* Add <code>useSyncExternalStore</code> to help external store libraries integrate with React. (<a href="https://github.com/facebook/react/pull/15022" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/15022/hovercard">#15022</a>, <a href="https://github.com/facebook/react/pull/18000" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/18000/hovercard">#18000</a>, <a href="https://github.com/facebook/react/pull/18771" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/18771/hovercard">#18771</a>, <a href="https://github.com/facebook/react/pull/22211" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/22211/hovercard">#22211</a>, <a href="https://github.com/facebook/react/pull/22292" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/22292/hovercard">#22292</a>, <a href="https://github.com/facebook/react/pull/22239" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/22239/hovercard">#22239</a>, <a href="https://github.com/facebook/react/pull/22347" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/22347/hovercard">#22347</a>, <a href="https://github.com/facebook/react/pull/23150" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/23150/hovercard">#23150</a> by <a href="https://github.com/acdlite">@acdlite</a>, <a href="https://github.com/bvaughn">@bvaughn</a>, and <a href="https://github.com/drarmstr">@drarmstr</a>)
* Add <code>startTransition</code> as a version of <code>useTransition</code> without pending feedback. (<a href="https://github.com/facebook/react/pull/19696" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/19696/hovercard">#19696</a> by <a href="https://github.com/rickhanlonii">@rickhanlonii</a>)
* Add <code>useInsertionEffect</code> for CSS-in-JS libraries. (<a href="https://github.com/facebook/react/pull/21913" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/21913/hovercard">#21913</a> by <a href="https://github.com/rickhanlonii">@rickhanlonii</a>)
* Make Suspense remount layout effects when content reappears. (<a href="https://github.com/facebook/react/pull/19322" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/19322/hovercard">#19322</a>, <a href="https://github.com/facebook/react/pull/19374" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/19374/hovercard">#19374</a>, <a href="https://github.com/facebook/react/pull/19523" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/19523/hovercard">#19523</a>, <a href="https://github.com/facebook/react/pull/20625" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/20625/hovercard">#20625</a>, <a href="https://github.com/facebook/react/pull/21079" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/21079/hovercard">#21079</a> by <a href="https://github.com/acdlite">@acdlite</a>, <a href="https://github.com/bvaughn">@bvaughn</a>, and <a href="https://github.com/lunaruan">@lunaruan</a>)
* Make <code>&lt;StrictMode&gt;</code> re-run effects to check for restorable state. (<a href="https://github.com/facebook/react/pull/19523" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/19523/hovercard">#19523</a> , <a href="https://github.com/facebook/react/pull/21418" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/21418/hovercard">#21418</a> by <a href="https://github.com/bvaughn">@bvaughn</a> and <a href="https://github.com/lunaruan">@lunaruan</a>)
* Assume Symbols are always available. (<a href="https://github.com/facebook/react/pull/23348" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/23348/hovercard">#23348</a> by <a href="https://github.com/sebmarkbage">@sebmarkbage</a>)
* Remove <code>object-assign</code> polyfill. (<a href="https://github.com/facebook/react/pull/23351" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/23351/hovercard">#23351</a> by <a href="https://github.com/sebmarkbage">@sebmarkbage</a>)
* Remove unsupported <code>unstable_changedBits</code> API. (<a href="https://github.com/facebook/react/pull/20953" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/20953/hovercard">#20953</a> by <a href="https://github.com/acdlite">@acdlite</a>)
* Allow components to render undefined. (<a href="https://github.com/facebook/react/pull/21869" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/21869/hovercard">#21869</a> by <a href="https://github.com/rickhanlonii">@rickhanlonii</a>)
* Flush <code>useEffect</code> resulting from discrete events like clicks synchronously. (<a href="https://github.com/facebook/react/pull/21150" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/21150/hovercard">#21150</a> by <a href="https://github.com/acdlite">@acdlite</a>)
* Suspense <code>fallback={undefined}</code> now behaves the same as <code>null</code> and isn't ignored. (<a href="https://github.com/facebook/react/pull/21854" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/21854/hovercard">#21854</a> by <a href="https://github.com/rickhanlonii">@rickhanlonii</a>)
* Consider all <code>lazy()</code> resolving to the same component equivalent. (<a href="https://github.com/facebook/react/pull/20357" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/20357/hovercard">#20357</a> by <a href="https://github.com/sebmarkbage">@sebmarkbage</a>)
* Don't patch console during first render. (<a href="https://github.com/facebook/react/pull/22308" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/22308/hovercard">#22308</a> by <a href="https://github.com/lunaruan">@lunaruan</a>)
* Improve memory usage. (<a href="https://github.com/facebook/react/pull/21039" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/21039/hovercard">#21039</a> by <a href="https://github.com/bgirard">@bgirard</a>)
* Improve messages if string coercion throws (Temporal.*, Symbol, etc.) (<a href="https://github.com/facebook/react/pull/22064" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/22064/hovercard">#22064</a> by <a href="https://github.com/justingrant">@justingrant</a>)
* Use <code>setImmediate</code> when available over <code>MessageChannel</code>. (<a href="https://github.com/facebook/react/pull/20834" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/20834/hovercard">#20834</a> by <a href="https://github.com/gaearon">@gaearon</a>)
* Fix context failing to propagate inside suspended trees. (<a href="https://github.com/facebook/react/pull/23095" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/23095/hovercard">#23095</a> by <a href="https://github.com/gaearon">@gaearon</a>)
* Fix <code>useReducer</code> observing incorrect props by removing the eager bailout mechanism. (<a href="https://github.com/facebook/react/pull/22445" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/22445/hovercard">#22445</a> by <a href="https://github.com/josephsavona">@josephsavona</a>)
* Fix <code>setState</code> being ignored in Safari when appending iframes. (<a href="https://github.com/facebook/react/pull/23111" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/23111/hovercard">#23111</a> by <a href="https://github.com/gaearon">@gaearon</a>)
* Fix a crash when rendering <code>ZonedDateTime</code> in the tree. (<a href="https://github.com/facebook/react/pull/20617" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/20617/hovercard">#20617</a> by <a href="https://github.com/dimaqq">@dimaqq</a>)
* Fix a crash when document is set to <code>null</code> in tests. (<a href="https://github.com/facebook/react/pull/22695" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/22695/hovercard">#22695</a> by <a href="https://github.com/SimenB">@SimenB</a>)
* Fix <code>onLoad</code> not triggering when concurrent features are on. (<a href="https://github.com/facebook/react/pull/23316" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/23316/hovercard">#23316</a> by <a href="https://github.com/gnoff">@gnoff</a>)
* Fix a warning when a selector returns <code>NaN</code>. (<a href="https://github.com/facebook/react/pull/23333" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/23333/hovercard">#23333</a> by <a href="https://github.com/hachibeeDI">@hachibeeDI</a>)
* Fix the generated license header. (<a href="https://github.com/facebook/react/pull/23004" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/23004/hovercard">#23004</a> by <a href="https://github.com/vitaliemiron">@vitaliemiron</a>)
* Add <code>package.json</code> as one of the entry points. (<a href="https://github.com/facebook/react/pull/22954" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/22954/hovercard">#22954</a> by <a href="https://github.com/Jack-Works">@Jack</a>)
* Allow suspending outside a Suspense boundary. (<a href="https://github.com/facebook/react/pull/23267" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/23267/hovercard">#23267</a> by <a href="https://github.com/acdlite">@acdlite</a>)
* Log a recoverable error whenever hydration fails. (<a href="https://github.com/facebook/react/pull/23319" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/23319/hovercard">#23319</a> by <a href="https://github.com/acdlite">@acdlite</a>)

React DOM

* Add <code>createRoot</code> and <code>hydrateRoot</code>. (<a href="https://github.com/facebook/react/pull/10239" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/10239/hovercard">#10239</a>, <a href="https://github.com/facebook/react/pull/11225" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/11225/hovercard">#11225</a>, <a href="https://github.com/facebook/react/pull/12117" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/12117/hovercard">#12117</a>, <a href="https://github.com/facebook/react/pull/13732" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/13732/hovercard">#13732</a>, <a href="https://github.com/facebook/react/pull/15502" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/15502/hovercard">#15502</a>, <a href="https://github.com/facebook/react/pull/15532" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/15532/hovercard">#15532</a>, <a href="https://github.com/facebook/react/pull/17035" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/17035/hovercard">#17035</a>, <a href="https://github.com/facebook/react/pull/17165" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/17165/hovercard">#17165</a>, <a href="https://github.com/facebook/react/pull/20669" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/20669/hovercard">#20669</a>, <a href="https://github.com/facebook/react/pull/20748" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/20748/hovercard">#20748</a>, <a href="https://github.com/facebook/react/pull/20888" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/20888/hovercard">#20888</a>, <a href="https://github.com/facebook/react/pull/21072" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/21072/hovercard">#21072</a>, <a href="https://github.com/facebook/react/pull/21417" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/21417/hovercard">#21417</a>, <a href="https://github.com/facebook/react/pull/21652" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/21652/hovercard">#21652</a>, <a href="https://github.com/facebook/react/pull/21687" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/21687/hovercard">#21687</a>, <a href="https://github.com/facebook/react/pull/23207" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/23207/hovercard">#23207</a>, <a href="https://github.com/facebook/react/pull/23385" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/23385/hovercard">#23385</a> by <a href="https://github.com/acdlite">@acdlite</a>, <a href="https://github.com/bvaughn">@bvaughn</a>, <a href="https://github.com/gaearon">@gaearon</a>, <a href="https://github.com/lunaruan">@lunaruan</a>, <a href="https://github.com/rickhanlonii">@rickhanlonii</a>, <a href="https://github.com/trueadm">@trueadm</a>, and <a href="https://github.com/sebmarkbage">@sebmarkbage</a>)
* Add selective hydration. (<a href="https://github.com/facebook/react/pull/14717" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/14717/hovercard">#14717</a>, <a href="https://github.com/facebook/react/pull/14884" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/14884/hovercard">#14884</a>, <a href="https://github.com/facebook/react/pull/16725" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/16725/hovercard">#16725</a>, <a href="https://github.com/facebook/react/pull/16880" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/16880/hovercard">#16880</a>, <a href="https://github.com/facebook/react/pull/17004" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/17004/hovercard">#17004</a>, <a href="https://github.com/facebook/react/pull/22416" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/22416/hovercard">#22416</a>, <a href="https://github.com/facebook/react/pull/22629" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/22629/hovercard">#22629</a>, <a href="https://github.com/facebook/react/pull/22448" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/22448/hovercard">#22448</a>, <a href="https://github.com/facebook/react/pull/22856" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/22856/hovercard">#22856</a>, <a href="https://github.com/facebook/react/pull/23176" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/23176/hovercard">#23176</a> by <a href="https://github.com/acdlite">@acdlite</a>, <a href="https://github.com/gaearon">@gaearon</a>, <a href="https://github.com/salazarm">@salazarm</a>, and <a href="https://github.com/sebmarkbage">@sebmarkbage</a>)
* Add <code>aria-description</code> to the list of known ARIA attributes. (<a href="https://github.com/facebook/react/pull/22142" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/22142/hovercard">#22142</a> by <a href="https://github.com/mahyareb">@mahyareb</a>)
* Add <code>onResize</code> event to video elements. (<a href="https://github.com/facebook/react/pull/21973" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/21973/hovercard">#21973</a> by <a href="https://github.com/rileyjshaw">@rileyjshaw</a>)
* Add <code>imageSizes</code> and <code>imageSrcSet</code> to known props. (<a href="https://github.com/facebook/react/pull/22550" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/22550/hovercard">#22550</a> by <a href="https://github.com/eps1lon">@eps1lon</a>)
* Allow non-string <code>&lt;option&gt;</code> children if <code>value</code> is provided. (<a href="https://github.com/facebook/react/pull/21431" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/21431/hovercard">#21431</a> by <a href="https://github.com/sebmarkbage">@sebmarkbage</a>)
* Fix <code>aspectRatio</code> style not being applied. (<a href="https://github.com/facebook/react/pull/21100" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/21100/hovercard">#21100</a> by <a href="https://github.com/gaearon">@gaearon</a>)
* Warn if <code>renderSubtreeIntoContainer</code> is called. (<a href="https://github.com/facebook/react/pull/23355" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/23355/hovercard">#23355</a> by <a href="https://github.com/acdlite">@acdlite</a>)

React DOM Server

* Add the new streaming renderer. (<a href="https://github.com/facebook/react/pull/14144" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/14144/hovercard">#14144</a>, <a href="https://github.com/facebook/react/pull/20970" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/20970/hovercard">#20970</a>, <a href="https://github.com/facebook/react/pull/21056" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/21056/hovercard">#21056</a>, <a href="https://github.com/facebook/react/pull/21255" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/21255/hovercard">#21255</a>, <a href="https://github.com/facebook/react/pull/21200" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/21200/hovercard">#21200</a>, <a href="https://github.com/facebook/react/pull/21257" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/21257/hovercard">#21257</a>, <a href="https://github.com/facebook/react/pull/21276" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/21276/hovercard">#21276</a>, <a href="https://github.com/facebook/react/pull/22443" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/22443/hovercard">#22443</a>, <a href="https://github.com/facebook/react/pull/22450" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/22450/hovercard">#22450</a>, <a href="https://github.com/facebook/react/pull/23247" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/23247/hovercard">#23247</a>, <a href="https://github.com/facebook/react/pull/24025" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/24025/hovercard">#24025</a>, <a href="https://github.com/facebook/react/pull/24030" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/24030/hovercard">#24030</a> by <a href="https://github.com/sebmarkbage">@sebmarkbage</a>)
* Fix context providers in SSR when handling multiple requests. (<a href="https://github.com/facebook/react/pull/23171" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/23171/hovercard">#23171</a> by <a href="https://github.com/frandiox">@frandiox</a>)
* Revert to client render on text mismatch. (<a href="https://github.com/facebook/react/pull/23354" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/23354/hovercard">#23354</a> by <a href="https://github.com/acdlite">@acdlite</a>)
* Deprecate <code>renderToNodeStream</code>. (<a href="https://github.com/facebook/react/pull/23359" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/23359/hovercard">#23359</a> by <a href="https://github.com/sebmarkbage">@sebmarkbage</a>)
* Fix a spurious error log in the new server renderer. (<a href="https://github.com/facebook/react/pull/24043" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/24043/hovercard">#24043</a> by <a href="https://github.com/eps1lon">@eps1lon</a>)
* Fix a bug in the new server renderer. (<a href="https://github.com/facebook/react/pull/22617" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/22617/hovercard">#22617</a> by <a href="https://github.com/shuding">@shuding</a>)
* Ignore function and symbol values inside custom elements on the server. (<a href="https://github.com/facebook/react/pull/21157" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/21157/hovercard">#21157</a> by <a href="https://github.com/sebmarkbage">@sebmarkbage</a>)

React DOM Test Utils

* Throw when <code>act</code> is used in production. (<a href="https://github.com/facebook/react/pull/21686" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/21686/hovercard">#21686</a> by <a href="https://github.com/acdlite">@acdlite</a>)
* Support disabling spurious act warnings with <code>global.IS_REACT_ACT_ENVIRONMENT</code>. (<a href="https://github.com/facebook/react/pull/22561" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/22561/hovercard">#22561</a> by <a href="https://github.com/acdlite">@acdlite</a>)
* Expand act warning to cover all APIs that might schedule React work. (<a href="https://github.com/facebook/react/pull/22607" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/22607/hovercard">#22607</a> by <a href="https://github.com/acdlite">@acdlite</a>)
* Make <code>act</code> batch updates. (<a href="https://github.com/facebook/react/pull/21797" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/21797/hovercard">#21797</a> by <a href="https://github.com/acdlite">@acdlite</a>)
* Remove warning for dangling passive effects. (<a href="https://github.com/facebook/react/pull/22609" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/22609/hovercard">#22609</a> by <a href="https://github.com/acdlite">@acdlite</a>)

React Refresh

* Track late-mounted roots in Fast Refresh. (<a href="https://github.com/facebook/react/pull/22740" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/22740/hovercard">#22740</a> by <a href="https://github.com/anc95">@anc95</a>)
* Add <code>exports</code> field to <code>package.json</code>. (<a href="https://github.com/facebook/react/pull/23087" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/23087/hovercard">#23087</a> by <a href="https://github.com/otakustay">@otakustay</a>)

Server Components (Experimental)

* Add Server Context support. (<a href="https://github.com/facebook/react/pull/23244" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/23244/hovercard">#23244</a> by <a href="https://github.com/salazarm">@salazarm</a>)
* Add <code>lazy</code> support. (<a href="https://github.com/facebook/react/pull/24068" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/24068/hovercard">#24068</a> by <a href="https://github.com/gnoff">@gnoff</a>)
* Update webpack plugin for webpack 5 (<a href="https://github.com/facebook/react/pull/22739" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/22739/hovercard">#22739</a> by <a href="https://github.com/michenly">@michenly</a>)
* Fix a mistake in the Node loader. (<a href="https://github.com/facebook/react/pull/22537" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/22537/hovercard">#22537</a> by <a href="https://github.com/btea">@btea</a>)
* Use <code>globalThis</code> instead of <code>window</code> for edge environments. (<a href="https://github.com/facebook/react/pull/22777" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/22777/hovercard">#22777</a> by <a href="https://github.com/huozhi">@huozhi</a>)

Scheduler (Experimental)

* Remove unstable <code>scheduler/tracing</code> API (<a href="https://github.com/facebook/react/pull/20037" data-hovercard-type="pull_request" data-hovercard-url="/facebook/react/pull/20037/hovercard">#20037</a> by <a href="https://github.com/bvaughn">@bvaughn</a>)

